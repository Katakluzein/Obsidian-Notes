---
{"dg-publish":true,"permalink":"/泛性质/","tags":["范畴论","线性代数"]}
---


\label{ssec:universalproperty}
## 逗号范畴

**逗号范畴 (Comma Category)** 是一个在范畴论中非常强大的构造工具，初看起来可能有些抽象，但它的主要目的就是为了给各种**泛性质 (universal properties)** 提供一个统一、严谨的表述框架。

### 1. 直观思想：从“关系”构造范畴

通常，我们关心范畴中的对象和态射。但有时，我们更关心**态射本身**或者**由态射定义的关系**。例如：
*   所有“箭头都指向对象 $A$”的那些箭头。
*   所有“从对象 $A$ 出发”的那些箭头。
*   所有“从函子 $F$ 的像连接到函子 $G$ 的像”的那些箭头。

逗号范畴的强大之处在于，它能将这些“关系”或“带箭头的对象”本身**打包成一个新范畴的对象**，使得我们可以对这些关系进行研究。

---

### 2. 基本定义

这是最通用的定义，也被称为“箭头范畴”。

**前提**：
给定三个范畴 $\mathsf{A}, \mathsf{B}, \mathsf{C}$ 和两个函子 $S: \mathsf{A} \to \mathsf{C}$ 以及 $T: \mathsf{B} \to \mathsf{C}$。
$$
\mathsf{A} \xrightarrow{S} \mathsf{C} \xleftarrow{T} \mathsf{B}
$$

我们可以定义一个**逗号范畴**，记作 $(S /  T)$。

*   **对象 (Objects)**：
    $(S /  T)$ 中的一个对象是一个三元组 $(A, B, f)$，其中：
    *   $A$ 是 $\mathsf{A}$ 中的一个对象。
    *   $B$ 是 $\mathsf{B}$ 中的一个对象。
    *   $f: S(A) \to T(B)$ 是 $\mathsf{C}$ 中的一个态射（这就是名字中“逗号”或“箭头”的由来，它连接了两个函子的像）。

*   **态射 (Morphisms)**：
    从一个对象 $(A, B, f)$ 到另一个对象 $(A', B', f')$ 的态射是一对态射 $(g, h)$，其中：
    *   $g: A \to A'$ 是 $\mathsf{A}$ 中的一个态射。
    *   $h: B \to B'$ 是 $\mathsf{B}$ 中的一个态射。
    *   这对态射必须使得下面的图在范畴 $\mathsf{C}$ 中**交换 (commute)**：
        ````tikz
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
        S(A) \arrow[r, "S(g)"] \arrow[d, "f"'] & S(A') \arrow[d, "f'"] \\
        T(B) \arrow[r, "T(h)"] & T(B')
        \end{tikzcd}
        \end{document}
        ````
        即满足等式：$f' \circ S(g) = T(h) \circ f$。

### 3. 两个极其重要的特例


### 1. **“对象之上”的范畴 $(X/T)$**

*   **前提**：
    *   一个范畴 $\mathsf{C}'$ 和一个范畴 $\mathsf{C}$。
    *   一个函子 $T: \mathsf{C}' \to \mathsf{C}$。
    *   一个固定的对象 $X \in Ob(\mathsf{C})$。
    *   函子 $j_X: \mathbf{1} \to \mathsf{C}$，它将 $\mathbf{1}$ 中的唯一对象映射到 $X$。

*   **定义**：
    逗号范畴 $(X/T) := (j_X \downarrow T)$ 的：
    *   **对象**：是一个对 $(W, i)$，其中 $W \in Ob(\mathsf{C}')$ 且 $i: X \to T(W)$ 是 $\mathsf{C}$ 中的一个态射。
    *   **态射**：从 $(W_1, i_1)$ 到 $(W_2, i_2)$ 的态射是一个 $\mathsf{C}'$ 中的态射 $h: W_1 \to W_2$，它使得下面的三角形在范畴 $\mathsf{C}$ 中交换：
        ````tikz
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
                      & X \arrow[dl, "i_1"'] \arrow[dr, "i_2"] & \\
        T(W_1) \arrow[rr, "T(h)"] & & T(W_2)
        \end{tikzcd}
        \end{document}
        ````
        即满足等式：$T(h) \circ i_1 = i_2$。

*   **说明**：这正是例 2.4.5（自由向量空间）和例 2.4.6（度量空间完备化）中使用的范畴类型。

---

### 2. **“对象之下”的范畴 $(T/X)$**

*   **前提**：
    *   与上面相同：函子 $T: \mathsf{C}' \to \mathsf{C}$ 和对象 $X \in Ob(\mathsf{C})$。

*   **定义**：
    逗号范畴 $(T/X)$ 的：
    *   **对象**：是一个对 $(W, p)$，其中 $W \in Ob(\mathsf{C}')$ 且 $p: T(W) \to X$ 是 $\mathsf{C}$ 中的一个态射。
    *   **态射**：从 $(W_1, p_1)$ 到 $(W_2, p_2)$ 的态射是一个 $\mathsf{C}'$ 中的态射 $f: W_1 \to W_2$，它使得下面的三角形在范畴 $\mathsf{C}$ 中交换：
        ````tikz
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
        T(W_1) \arrow[rr, "T(f)"] \arrow[dr, "p_1"'] & & T(W_2) \arrow[dl, "p_2"] \\
        & X &
        \end{tikzcd}
        \end{document}
        ````
        即满足等式：$p_2 \circ T(f) = p_1$。

*   **几何学中的应用**：
    这类范畴在几何学中不时出现。取 $T = id_C$，一种看法是把 $p: W \to X$ 想成在 $X$ 上“纤维化”的对象。不妨取 $\mathsf{C}$ 为某些空间的范畴（如拓扑空间、复代数簇等等），映射 $p: W \to X$ 可以设想为一族被 $X$ 参数化的空间：对每一点 $x \in X$，相应的空间是 $x$ 上的纤维 $W_x := p^{-1}(x)$。

书中的例子可以进一步特殊化为下面的两种范畴。

#### a) 切片范畴 (Slice Category)，或称“对象之上”的范畴（overcategory）

这是描述“所有箭头都指向一个固定对象”的范畴。

**前提**：
给定一个范畴 $\mathsf{C}$ 和一个固定的对象 $A \in Ob(\mathsf{C})$。

**定义**：
**切片范畴** $(C /  A)$ 是逗号范畴的一个特例，其中：
*   $S$ 是恒等函子 $id_C: C \to C$。（书中取了两个不同的范畴）
*   $\mathsf{B}$ 是只有一个对象（我们称之为 $*$）和唯一一个恒等态射的**终点范畴 $\mathbf{1}$**。
*   $T: \mathbf{1} \to C$ 是一个选择对象 $A$ 的常数函子。

在这种情况下，泛型定义大大简化：

*   **对象**：三元组 $(X, *, f)$ 简化为一个**对象-态射对** $(X, f)$，其中 $X \in Ob(C)$ 且 $f: X \to A$ 是一个态射。

*   **态射**：从 $(X, f)$ 到 $(Y, g)$ 的态射是一个态射 $h: X \to Y$ (in C)，它使得下面的三角形交换：
    ````tikz
    \usepackage{tikz-cd}
    \begin{document}
    \begin{tikzcd}
    X \arrow[rr, "h"] \arrow[dr, "f"'] & & Y \arrow[dl, "g"] \\
    & A &
    \end{tikzcd}
    \end{document}
    ````
    即满足等式：$g \circ h = f$。

**直观总结**：切片范畴 $(C /  A)$ 的**对象**是所有指向 $A$ 的箭头，**态射**是这些箭头之间的“交换三角形”。

#### b) 余切片范畴 (Coslice Category)，或称“对象之下”的范畴（undercategory）

这是切片范畴的对偶概念，描述“所有从一个固定对象出发的箭头”。

**前提**：
给定一个范畴 $\mathsf{C}$ 和一个固定的对象 $A \in Ob(\mathsf{C})$。

**定义**：
**余切片范畴** $(A /  C)$ 的：

*   **对象**：是一个对象-态射对 $(X, f)$，其中 $X \in Ob(C)$ 且 $f: A \to X$ 是一个态射。

*   **态射**：从 $(X, f)$ 到 $(Y, g)$ 的态射是一个态射 $h: X \to Y$ (in C)，它使得下面的三角形交换：
    ````tikz
    \usepackage{tikz-cd}
    \begin{document}
    \begin{tikzcd}
    & X \arrow[dr, "h"] & \\
    A \arrow[ur, "f"] \arrow[rr, "g"'] & & Y
    \end{tikzcd}
    \end{document}
    ````
    即满足等式：$h \circ f = g$。

**直观总结**：余切片范畴 $(A /  C)$ 的**对象**是所有从 $A$ 出发的箭头，**态射**是这些箭头之间的“交换三角形”。

## 泛性质
### 自由线性空间的泛性质
[[LiWenWei2023DaiShuXueFangFaJuanYi\|LiWenWei2023DaiShuXueFangFaJuanYi]]例 2.4.5。
这个例子确实信息量很大，但它完美地展示了范畴论是如何将我们熟悉的概念（比如线性代数中的“基”）用一种全新的、更普适的语言来重新表述的。

**核心目标**：用范畴论的语言，重新定义什么是“**由集合 X 生成的自由向量空间**”。

我们平时是怎么理解的呢？
*   给定一个集合 $X = \{x_1, x_2, \dots\}$。
*   “由 $X$ 生成的自由向量空间” $V(X)$ 就是所有形如 $c_1 x_1 + c_2 x_2 + \dots$ 的**形式线性组合**构成的空间。
*   集合 $X$ 的元素就是这个空间的**基 (basis)**。

这个定义的关键性质是：任何一个从基 $X$ 到另一个向量空间 $W$ 的**映射**，都可以**唯一地**扩展成一个从 $V(X)$ 到 $W$ 的**线性映射**。这正是泛性质要抓住的核心思想。

---

#### 1. 舞台上的角色

让我们先来认识一下例子中出现的几个主要角色：

*   **范畴 $\mathsf{Set}$**：我们的“起点世界”，由**集合**和**函数**构成。我们要从这里的一个对象——集合 $X$ 出发。

*   **范畴 $\mathsf{Vect}(k)$**：我们的“目标世界”，由**向量空间**和**线性映射**构成。我们要在这里构造一个对象。

*   **函子 $V: \mathsf{Set} \to \mathsf{Vect}(k)$**：这是“自由向量空间构造器”。
    *   **对对象**：它接收一个集合 $X$，输出由 $X$ 作为基构成的自由向量空间 $V(X)$。
    *   **对态射**：它接收一个函数 $f: X \to Y$，输出一个线性映射 $V(f): V(X) \to V(Y)$，这个线性映射的作用就是将基向量 $x \in X$ 映射到 $f(x)$，然后线性扩展。

*   **函子 $U: \mathsf{Vect}(k) \to \mathsf{Set}$**：这是一个**忘却函子 (Forgetful Functor)**。
    *   **对对象**：它接收一个向量空间 $W$，“忘记”它的加法和数乘结构，只保留它底层的**元素集合** $U(W)$。
    *   **对态射**：它接收一个线性映射 $h: W_1 \to W_2$，忘记它的线性性质，只把它看作一个普通的**函数** $U(h)$。

*   **态射 $\iota: X \to U(V(X))$**：这是一个非常关键的态射。
    *   $V(X)$ 是由 $X$ 生成的向量空间。
    *   $U(V(X))$ 是这个向量空间底层的集合。
    *   $\iota$ 就是一个**集合间的映射**（函数），它将集合 $X$ 中的每个元素 $x$ **嵌入**到 $U(V(X))$ 这个更大的集合中，即把它看作是 $V(X)$ 的一个基向量。这个映射是**典范的包含映射 (canonical inclusion)**。

---

#### 2. 泛性质的表述

现在，我们可以用这些角色来讲述“自由向量空间”的泛性质故事了。

这个故事说，$V(X)$ 连同它的嵌入映射 $\iota: X \to U(V(X))$ 是一个“**最普适的**”或“**最自由的**”将集合 $X$ 变成一个向量空间的方式。

“最普适”体现在哪里呢？

> **对于任何其他**将集合 $X$ 变成向量空间 $W$ 的方式（即，任何一个函数 $i: X \to U(W)$），都存在**唯一一个**保持结构的映射（即一个**线性映射** $h: V(X) \to W$），使得从 $X$ 出发的两条路径最终结果相同。

用图表来表示，就是：
$$
\begin{CD}
X @>{\iota}>> U(V(X)) \\
@V{i}VV @VV{U(h)}V \\
U(W) @= U(W)
\end{CD}
$$
这个图必须交换，即 $U(h) \circ \iota = i$。

让我们翻译一下这个图：
1.  **左边的路径 ($i$)**：代表任何一种“山寨版”的尝试，它把集合 $X$ 的元素映射到某个向量空间 $W$ 的点集里。
2.  **上面的路径 ($\iota$)**：代表我们构造的“正版”或“官方版”方式，它把 $X$ 嵌入到“自由”向量空间 $V(X)$ 中。
3.  **泛性质说**：任何一个“山寨版”的尝试 $i$，都可以通过先走“官方”路径 $\iota$，然后再通过**唯一一个**“官方”空间之间的结构保持映射（线性映射 $h$）来到达终点。

这个**唯一性**是“自由”的关键。因为 $X$ 是 $V(X)$ 的基，所以一旦你规定了基向量的去向（由 $i$ 决定），那么整个线性映射 $h$ 就被完全确定了，没有任何自由度。

### 泛性质的定义

> [!definition] 泛性质
> - $X$是范畴$\mathsf{C}$中的对象，$X$的**泛性质**由函子$F:\mathsf{C} \rightarrow \mathsf{Set}$或$F:\mathsf{C}^\mathrm{op} \rightarrow \mathsf{Set}$，以及一个给定的自然同构$\alpha:\mathrm{Hom}_\mathsf{C}(X,\cdot)\implies F$或$\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F$给出，根据米田引理来确定自然同构$\alpha$的元素$p\in FX$被称为**泛元素**(element)。

> [!note]
> - 米田引理给出的是自然变换的集合与$FX$之间的双射，但不是所有自然变换都是自然同构，$FX$中仅部分元素对应自然同构。根据米田引理证中的构造，$p$对应的自然同构是$v^p$，详见证明过程。


设$X$的泛性质由$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$和$p\in FX$给出，设相应的自然变换为$\alpha$，根据自然性，对于任意的$f:Y\rightarrow X$，有交换图


<div class="transclusion internal-embed is-loaded"><div class="markdown-embed">





```tikz
        \usepackage{amsmath}
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
	{\mathrm{id}_X} &&& {p=\alpha_X(\mathrm{id}_X)} \\
	& {\mathrm{Hom}_\mathsf{C}(X,X)} & FX \\
	& {\mathrm{Hom}_\mathsf{C}(Y,X)} & FY \\
	{f:Y\rightarrow X} &&& q
	\arrow[maps to, from=1-1, to=1-4]
	\arrow[maps to, from=1-1, to=4-1]
	\arrow[maps to, from=1-4, to=4-4]
	\arrow["{\alpha_X}", from=2-2, to=2-3]
	\arrow["{f^*}"', from=2-2, to=3-2]
	\arrow["Ff", from=2-3, to=3-3]
	\arrow["{\alpha_Y}"', from=3-2, to=3-3]
	\arrow[maps to, from=4-1, to=4-4]
\end{tikzcd}
        \end{document}
        ```


</div></div>



且图中的$\alpha$的分量都是双射，$\alpha_Y$是双射当且仅当任取$q\in FY$，唯一存在$f:Y\rightarrow X\in {\mathrm{Hom}_\mathsf{C}(Y,X)}$，使得$\alpha_Y(f)=q$，或等价地$\alpha_Y(f\circ \mathrm{id}_X) =q$，或等价地$Ff(p)=q$。总的来说，关于$X$的泛性质给出了指向$X$的箭头的唯一存在的条件。


## 松散的内容

---

### 3. 与逗号范畴的联系

这个例子是如何被逗号范畴 $(X/U)$ 统一的呢？

*   这里的 $X$ 被看作是来自一个单点范畴 $\mathbf{1}$ 的函子 $j_X$。
*   **逗号范畴 $(j_X /  U)$ 的对象**：是一个三元组，但可以简化为一对 $(W, i)$，其中 $W$ 是 $\mathsf{Vect}(k)$ 中的对象（向量空间），$i: j_X(\cdot) \to U(W)$ 是 $\mathsf{Set}$ 中的态射（函数）。这正是我们上面说的“任何一种将集合 $X$ 变成向量空间的方式”。

*   **逗号范畴中的态射**：从 $(W_1, i_1)$ 到 $(W_2, i_2)$ 的态射，恰好就是使得上面那个三角形交换图成立的线性映射 $h: W_1 \to W_2$。

*   **结论**：我们上面描述的泛性质，精确地说明了 $(V(X), \iota)$ 是这个逗号范畴 $(X/U)$ 中的**始对象 (Initial Object)**。

因为始对象在同构的意义下是唯一的，所以任何满足这个泛性质的构造，其结果必然与我们熟知的自由向量空间是同构的。

### 总结

*   **目标**：用范畴论语言定义“自由向量空间”。
*   **方法**：通过一个**泛性质**来刻画它。
*   **核心**：这个性质说，自由向量空间 $V(X)$ 是将集合 $X$ “向量空间化”的“最有效率”的方式。任何其他的方式都可以通过它**唯一地**分解得到。
*   **形式化语言**：这个泛性质可以用**逗号范畴**中的**始对象**来精确描述。
*   **忘却函子 $U$ 的作用**：它充当了两个不同世界（$\mathsf{Vect}(k)$ 和 $\mathsf{Set}$）之间的桥梁，使得我们可以在同一个范畴（$\mathsf{Set}$）中比较和连接不同的映射（$\iota$ 和 $i$）。
*   **最终收获**：这种看似复杂的表述，实际上提炼出了“自由构造”这一概念的本质，使其可以被推广到任何其他代数结构（如自由群、自由环等）。它们都是各自忘却函子的**左伴随 (left adjoint)**，而这个泛性质正是伴随函子的一种定义方式。

[[2024-08-12-11-18-02.png]]
待整理：泛性质的例子，张量积{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] marginnote.p.127


