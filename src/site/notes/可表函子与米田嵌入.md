---
{"dg-publish":true,"permalink":"/可表函子与米田嵌入/","tags":["#范畴论"]}
---

从范畴中取出集合有各种各样的方法，这些取出集合的方法构成一些从$\mathsf{C}$到集合的函子，为了讨论这些函子的结构，有下面的定义。
> [!definition] 可表函子(representable)
> - 称函子$F:\mathsf{C}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象** (representing)，或代表元。
>
>   称预层$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(\cdot,S):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象**，或代表元。

> [!note]
> - 设可表函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$吃进去$X$，返回一个从$S$到$X$的箭头，它是从$S$刺向$X$的探针，我们可以用各种不同的$S$去探测$X$的结构。反之，$\mathrm{Hom}_\mathsf{C}(\cdot,S)$是从$X$设向$S$的投影，从侧面反映了$X$的结构。
>
>   可表函子和Hom-函子之间的自然同构的分量是集合范畴上的同构，只需要建立双射、检验自然性即可。
- [[整理前的米田引理与证明\|整理前的米田引理与证明]] 
> [!lemma] 米田引理 (Yoneda Lemma)
> - 设 $\mathsf{C}$ 是一个局部小范畴，$X$ 是 $\mathsf{C}$ 中的一个对象，$F: \mathsf{C}^{\mathrm{op}} \to \mathsf{Set}$ 是一个函子（即 $\mathsf{C}$ 上的一个预层），则映射
>   $$
>   i_X: \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X), F) \to F(X)
>   $$
>   定义为
>   $$
>    (\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F) \mapsto \alpha_X(\mathrm{id}_X)
>   $$
>   是一个**双射** (bijection)。（右边的$\alpha_X$左边的自然变换$\alpha$中取$X$分量）
> - 此外，这个双射关于 $X \in \mathrm{Ob}(\mathsf{C})$ 和 $F \in \mathrm{Ob}([\mathsf{C}^{\mathrm{op}}, \mathsf{Set}])$ 都是**自然的 (natural)**，也成为具有函子性。

> [!proof]
> 证明分为三个部分：1) 证明 $i$ 是双射；2) 证明关于 $X$ 的自然性；3) 证明关于 $F$ 的自然性。
>
> #### 1. 证明双射性
>
> 我们通过构造 $i$ 的逆映射 $j$ 来证明其是双射。
>
> - **构造逆映射 $j: F(X) \to \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X), F)$**
>   对于 $F(X)$ 中的任意一个元素 $p \in F(X)$，我们需要构造一个自然变换 $j(p) = v^p : \mathrm{Hom}_\mathsf{C}(\cdot,X) \Rightarrow F$。
>   这个自然变换 $v^p$ 由其在每个对象 $Y \in \mathrm{Ob}(\mathsf{C})$ 上的分量 $v^p_Y$ 组成：
>   $$
>   v_Y^p: \mathrm{Hom}_\mathsf{C}(Y, X) \to F(Y)
>   $$
>   定义为
>   $$
>   f \mapsto F(f)(p)
>   $$
>   由于 $f: Y \to X$ 是 $\mathsf{C}$ 中的态射，它对应于 $\mathsf{C}^{\mathrm{op}}$ 中的态射 $f: X \to Y$。因为 $F$ 是反变函子，所以 $F(f): F(X) \to F(Y)$，这个定义是良定的。
>
> - **验证 $v^p$ 是自然变换**
>   我们需要证明对于任意态射 $g: Z \to Y$ in $\mathsf{C}$，下图交换：
>   ```tikz
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   \mathrm{Hom}(Y,X) \arrow[r, "v_Y^p"] \arrow[d, "g^*"'] & F(Y) \arrow[d, "F(g)"] \\
>   \mathrm{Hom}(Z,X) \arrow[r, "v_Z^p"] & F(Z)
>   \end{tikzcd}
>   \end{document}
>   ```
>   其中 $g^*(f) = f \circ g$。对于任意 $f \in \mathrm{Hom}(Y,X)$，我们追踪两条路径：
>   *   $F(g) \circ v_Y^p(f) = F(g)(F(f)(p)) = (F(g) \circ F(f))(p) = F(f \circ g)(p)$
>   *   $v_Z^p \circ g^*(f) = v_Z^p(f \circ g) = F(f \circ g)(p)$
>   两条路径相等，因此 $v^p$ 是一个合法的自然变换。
>
> - **验证 $i$ 和 $j$ 互为逆**
>   1.  **$i \circ j = \mathrm{id}_{F(X)}$**: 对于任意 $p \in F(X)$，
>       $$
>       i(j(p)) = i(v^p) = v^p_X(\mathrm{id}_X) = F(\mathrm{id}_X)(p) = \mathrm{id}_{F(X)}(p) = p
>       $$
>   2.  **$j \circ i = \mathrm{id}$**: 对于任意自然变换 $\alpha: \mathrm{Hom}_\mathsf{C}(\cdot,X) \Rightarrow F$，
>       我们需要证明 $j(i(\alpha)) = \alpha$，即 $v^{\alpha_X(\mathrm{id}_X)} = \alpha$。这需要验证它们在每个对象 $Y$ 上的分量都相等。对于任意 $f: Y \to X$，
>       $$
>       v^{\alpha_X(\mathrm{id}_X)}_Y(f) = F(f)(\alpha_X(\mathrm{id}_X))
>       $$
>       由于 $\alpha$ 是自然变换，对于态射 $f: Y \to X$，下图交换：
>       ```tikz
>       \usepackage{tikz-cd}
>       \begin{document}
>       \begin{tikzcd}
>       \mathrm{Hom}(X,X) \arrow[r, "\alpha_X"] \arrow[d, "f_*"'] & F(X) \arrow[d, "F(f)"] \\
>       \mathrm{Hom}(Y,X) \arrow[r, "\alpha_Y"] & F(Y)
>       \end{tikzcd}
>       \end{document}
>       ```
>       其中 $f_*(g) = g \circ f$。从图可知 $F(f) \circ \alpha_X = \alpha_Y \circ f_*$。将此应用于元素 $\mathrm{id}_X \in \mathrm{Hom}(X,X)$：
>       $$
>       F(f)(\alpha_X(\mathrm{id}_X)) = \alpha_Y(f_*(\mathrm{id}_X)) = \alpha_Y(\mathrm{id}_X \circ f) = \alpha_Y(f)
>       $$
>       因此 $v^{\alpha_X(\mathrm{id}_X)}_Y(f) = \alpha_Y(f)$，证明完毕。
>
> #### 2. 证明关于 $X$ 的自然性
>
> 我们需要证明 $i$ 是函子 $G(-)=\mathrm{Hom}(\mathrm{Hom}(\cdot,-),F)$ 和 $E(-)=F(-)$ 之间的自然同构。对于任意态射 $h: Y \to X$ in $\mathsf{C}$，我们需要验证下图交换：
> ```tikz
> \usepackage{tikz-cd}
> \begin{document}
> \begin{tikzcd}
> G(X) \arrow[r, "i_X"] \arrow[d, "G(h)"'] & E(X) \arrow[d, "E(h)"] \\
> G(Y) \arrow[r, "i_Y"] & E(Y)
> \end{tikzcd}
> \end{document}
> ```
> 其中 $G(h)(\alpha) = \alpha \circ \mathrm{Hom}(\cdot,h)$ (前复合)，$E(h) = F(h)$。
> 对于任意 $\alpha \in G(X)$，我们追踪两条路径：
> *   **上-右路径**: $E(h) \circ i_X (\alpha) = F(h)(\alpha_X(\mathrm{id}_X))$。
> *   **左-下路径**: $i_Y \circ G(h) (\alpha) = i_Y(\alpha \circ \mathrm{Hom}(\cdot,h)) = (\alpha \circ \mathrm{Hom}(\cdot,h))_Y(\mathrm{id}_Y) = \alpha_Y(h \circ \mathrm{id}_Y) = \alpha_Y(h)$。
>
> 根据 $\alpha$ 的自然性，对于态射 $h: Y \to X$ 有 $F(h) \circ \alpha_X = \alpha_Y \circ h_*$，作用于 $\mathrm{id}_X$ 得到 $F(h)(\alpha_X(\mathrm{id}_X)) = \alpha_Y(h)$。两条路径相等，自然性得证。
>
> #### 3. 证明关于 $F$ 的自然性
>
> 我们需要证明 $i$ 是函子 $Q(F)=\mathrm{Hom}(\mathrm{Hom}(\cdot,X),F)$ 和 $P(F)=F(X)$ 之间的自然同构。对于任意自然变换 $\beta: F \Rightarrow K$，我们需要验证下图交换：
> ```tikz
> \usepackage{tikz-cd}
> \begin{document}
> \begin{tikzcd}
> Q(F) \arrow[r, "i_F"] \arrow[d, "Q(\beta)"'] & P(F) \arrow[d, "P(\beta)"] \\
> Q(K) \arrow[r, "i_K"] & P(K)
> \end{tikzcd}
> \end{document}
> ```
> 其中 $Q(\beta)(\alpha) = \beta \circ \alpha$ (纵向复合)，$P(\beta) = \beta_X$。
> 对于任意 $\alpha \in Q(F)$，我们追踪两条路径：
> *   **上-右路径**: $P(\beta) \circ i_F (\alpha) = \beta_X(\alpha_X(\mathrm{id}_X))$。
> *   **左-下路径**: $i_K \circ Q(\beta) (\alpha) = i_K(\beta \circ \alpha) = (\beta \circ \alpha)_X(\mathrm{id}_X)$。
>
> 根据自然变换纵向复合的定义，$(\beta \circ \alpha)_X = \beta_X \circ \alpha_X$。因此，$\beta_X(\alpha_X(\mathrm{id}_X)) = (\beta \circ \alpha)_X(\mathrm{id}_X)$。两条路径相等，自然性得证。

> [!note]
> - $\mathrm{Hom}_\mathsf{C}(\cdot,X)$ 是被 $X$ 表示的**可表函子 (representable functor)**。
> - $[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]$ 是**函子范畴 (functor category)**，其对象是这两个范畴之间的函子，态射是函子之间的自然变换。


> [!theorem] 米田嵌入(embedding)
> - 设$X,Y$是范畴$\mathsf{C}$的对象，则存在关于$X$和$Y$自然的集合之间的双射
>
$$
\operatorname{Hom}_{\mathsf{C}}(X, Y) \cong \operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)
$$
> 等价地，函子$h_\mathsf{C}:\mathsf{C}\to [\mathsf{C}^{op},\mathsf{Set}],S\mapsto \mathrm{Hom}_\mathsf{C}(\cdot,S)$是一个全忠实函子，即关于态射是双射。[[LiWenWei2023DaiShuXueFangFaJuanYi\|LiWenWei2023DaiShuXueFangFaJuanYi]] Th.2.5.1


> [!proof]
> - 在米田引理中取$F= \mathrm{Hom}_\mathsf{C}(\cdot,Y)$即可。

> [!note]
> - 从米田嵌入可以立即推论，$\mathrm{Hom}_\mathsf{C}(X,Y)$中存在同构$f:X\rightarrow Y$当且仅当$\operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)$中存在自然同构$\alpha:\operatorname{Hom}_{\mathsf{C}}(\cdot, X)\implies \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)$。因此两个对象$X,Y$同构，当且仅$X$和$Y$表示的函子自然同构。

