---
{"dg-publish":true,"permalink":"/1 Stories of Bizzo's Life/1 数学基础/范畴/","tags":["范畴论"]}
---

## 范畴
### 基本定义
> [!definition] 范畴{\cite[Def.2.1.1
> - {liwenweiav1}}]\label{def:cat}
>   一个范畴 $\mathsf{C}$ 系指以下资料:
>   \begin{enumerate}
> - 集合 $\operatorname{Ob}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**对象**.
> - 集合 $\operatorname{Mor}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**态射**, 配上一对映射$\operatorname{Mor}(\mathsf{C}) \stackrel{s,t}{\rightrightarrows} \operatorname{Ob}(\mathsf{C})$,其中 $s$ 和 $t$ 分别给出态射的来源(定义域 domain)和目标(陪域 codomain). 对于 $X, Y \in \mathrm{Ob}(\mathsf{C})$, 一般习惯记 $\operatorname{Hom}_{\mathsf{C}}(X, Y):=s^{-1}(X) \cap t^{-1}(Y)$ ，简记为 $\operatorname{Hom}(X, Y)$或$\mathsf{C}(X,Y)$, 称为 $\operatorname{Hom}$-集, 其元素以$X$为来源且以$Y$为目标，称为从 $X$ 到 $Y$ 的态射.
> - 对每个对象 $X$ 给定元素 $\operatorname{id}_{X} \in \operatorname{Hom}_{C}(X, X)$, 称为 $X$ 到自身的**恒等态射**.
> - 对于任意 $X, Y, Z \in \mathrm{Ob}(\mathsf{C})$, 给定态射间的合成映射
>
$$
\begin{aligned}
\circ: \operatorname{Hom}_{\mathsf{C}}(Y, Z) \times \operatorname{Hom}_{\mathsf{C}}(X, Y) & \longrightarrow \operatorname{Hom}_{\mathsf{C}}(X, Z) \\
(f, g) & \longmapsto f \circ g,
\end{aligned}
$$
>   不致混淆时常将 $f \circ g$ 简记为 $f g$. 它满足
>
> - 结合律: 对于任意态射 $h, g, f \in \operatorname{Mor}(\mathsf{C})$, 若合成 $f(g h)$ 和 $(f g) h$ 都有定义,则
>
$$
f(g h)=(f g) h .
$$
>   故两边可以同写为 $f \circ g \circ h$ 或 $f g h$;
> - 对于任意态射 $f \in \operatorname{Hom}_{\mathsf{C}}(X, Y)$, 有
>
$$
f \circ \mathrm{id}_{X}=f=\operatorname{id}_{Y} \circ f
$$
>   \end{enumerate}
>   始对象$A$：从$A$到任何其他对象之间都有且只有一个态射。
>
>   终对象$A$：从任何其他对象到$A$之间都有且只有一个态射。

> [!note]
> - 对于态射 $f: X \rightarrow Y$, 若存在 $g: Y \rightarrow X$ 使得 $f g=\operatorname{id}_{Y}, g f=\operatorname{id}_{X}$, 则称 $f$ 是**同构** ，或称为**可逆**, 写作 $X \stackrel{f}{\cong} Y$ ， $g$ 称为 $f$ 的逆。Rotman将$f$和$g$残臭中的等价(equivalence)（[[rotman2013alto\|rotman2013alto]] p.12）。态射都是有方向的，不需要担心$f$和$g$之间的对易性。两条式子互不蕴含，为了证明同构，两者缺一不可。对象的“同构”是数学中两个对象是否在某种意义下“相等”的严格定义，只有态射才谈及“相等”，这个相等对于一些具体的例子来说是可以判断的，但是没有一般的方法来判断两个态射是否相等，在高阶范畴中，可以进一步谈论态射之间态射和“同构”。
>
>   称态射的左逆或右逆为分裂(splitting)。态射存在左逆，则一定是单射，反之不然；态射存在右逆，则一定是满射，反之不然。
>
>   从恒等态射的性质易见逆若存在则唯一。从 $X$ 到 $Y$ 的同构集记为 $\operatorname{Isom}_{\mathsf{C}}(X, Y)$.
>
>
>
>   在大多数情形中，对象都被解释为系统，而态射都被解释为过程。

> [!example] 范畴
> - 下面列举一些常见的范畴和相关概念，一个更大的列表参见[nLab链接](https://ncatlab.org/nlab/show/database+of+categories)。
>
> - 范畴：对象 ；态射
> - 具体范畴：以集合为对象；以函数为态射。对于具体范畴，通常以集合的名字来称呼这个具体范畴。
> - 小范畴：态射构成集合的范畴。
> - 局部小范畴(locally small)：任何两个对象之间的态射构成集合的范畴，这时候才有$\mathrm{Hom}$-集的概念，大多数情况下范畴都是局部小的。
> - $\mathsf{Set}$：集合 ；集合之间的映射。
> - $\mathsf{Grp}$：群 ；群同态。
> - $\mathsf{Ab}$：阿贝尔群 ；群同态。
> - $\mathsf{Top}$：拓扑空间 ；连续映射。
> - $\mathsf{Top_*}$：带基点的拓扑空间 ；保持基点的连续映射。
> - $\mathsf{Top}^2$：拓扑空间对 ；保持包含关系的连续映射。
> - $\mathsf{TopGrp}$：拓扑群；连续群同态。
> - $\mathsf{Comp}$：链复形 ；链映射。
> - $\mathsf{hTop}$：拓扑空间 ；连续映射的同伦等价类。
> - 广群(groupoid)：每个态射都是同构(可逆)的范畴，例如群$G$
> - $\mathsf{B}G$只有一个对象的广群：没有具体含义的单点 ；群元。
> - $\mathsf{Vect}$：线性空间 ；线性映射。
> - $\mathsf{Mat}$：自然数 ；矩阵(值域和陪域分别决定矩阵的列数和行数)。
> - $\mathsf{Ring}$：环 ；环同态。
> - $\mathsf{Diff}$：光滑流形 ；光滑映射。
> - $\mathsf{Rel}${（[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.5）}：集合，集合之间的二元关系。
> - preordered set：集合中的元素 ；集合上的自反以及传递的关系$\leqslant$。
> - $\mathsf{Poset}$：偏序集 ；单调函数$x\leqslant y\implies f(x)\leqslant f(y)$
> - $\mathsf{Hilb}$：希尔伯特空间；等距映射(亦或者某种保持希尔伯特空间结构的映射，[nLab](ncatlab.org/nlab/show/Hilb)中的定义令人困惑)。
> - $\mathsf{Meas}$：可测空间；可测映射。
> - 两个范畴$[\mathsf{C},\mathsf{D}]$之间的的函子范畴(functor category)：函子$F:\mathsf{C}\rightarrow \mathsf{D}$，自然变换$\alpha:F\implies G$。设$\mathsf{I}$是小范畴$\mathsf{C}$是范畴，那么$\mathsf{C}$中形状为$\mathsf{I}$的**图**是函子$\mathsf{I}\rightarrow \mathsf{C}$，函子范畴$[\mathsf{I},\mathsf{C}]$被称为$\mathsf{C}$中的以$\mathsf{I}$为形状的**图的范畴**。

在范畴论中，态射比对象重要。
### 反范畴
> [!definition] 反范畴{\cite[Def.2.1.10 liwenweiav1]
>   对于任意范畴 $\mathsf{C}$, 其**反范畴** $\mathsf{C}^{\mathrm{op}}$ 定义如下:
>
> - $\operatorname{Ob}\left(\mathsf{C}^{\mathrm{op}}\right)=\operatorname{Ob}(\mathsf{C})$,
> - 对任意对象 $X, Y, \operatorname{Hom}_{\mathsf{C}^\mathrm{op}}(X, Y):=\operatorname{Hom}_{\mathsf{C}}(Y, X)$,
> - 态射 $f \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(Y, Z), g \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(X, Y)$ 在 $\mathsf{C}^{\mathrm{op}}$ 中的合成 $f \circ^{\mathrm{op}} g$ 定义为 $\mathsf{C}$ 中的反向合成 $g \circ f$,
> - 恒等态射定义同 $\mathsf{C}$.

> [!note]
> - 反范畴就是将箭头取反，其他都不变。注意mono变成了epi，反之亦然。
>
>   $\mathsf{Set}^{\mathrm{op}}$中的态射是原像吗？[SE贴](math.stackexchange.com/questions/980933/what-is-the-opposite-category-of-set)
>
>   对偶性指的是范畴和对偶范畴的性质之间的对应关系。
>
>   如果一个定理对任何范畴都成立，那么只需要对$\mathsf{C}$证明一次就可以得到它对偶的定理对$\mathsf{C}^{\mathrm{op}}$也成立，方法是$\mathsf{C}$直接替换为$\mathsf{C}^{\mathrm{op}}$。
- [[范畴与反范畴的理解\|范畴与反范畴的理解]] 
- [[Top的反范畴的理解\|Top的反范畴的理解]]

### 子范畴

设 $C$ 是一个范畴。一个范畴 $C'$ 被称为 $C$ 的**子范畴**，如果它满足以下条件：

1.  **对象的子集**：$C'$ 的对象集合是 $C$ 的对象集合的子集。
    $$
    Ob(C') \subseteq Ob(C)
    $$

2.  **态射的子集**：$C'$ 的态射集合是 $C$ 的态射集合的子集。
    $$
    Mor(C') \subseteq Mor(C)
    $$

3.  **结构保持**：
    *   **源与目标**：对于 $C'$ 中的任何态射 $f$，它在 $C'$ 中的源对象和目标对象与它在 $C$ 中的源、目标对象相同。
    *   **包含恒等态射**：对于 $C'$ 中的任何一个对象 $X$，它在 $C$ 中的恒等态射 $id_X$ 也必须属于 $C'$ 的态射集合。
    *   **对合成封闭**：对于 $C'$ 中任意两个可以合成的态射 $f: X \to Y$ 和 $g: Y \to Z$，它们在 $C$ 中的合成 $g \circ f$ 也必须属于 $C'$ 的态射集合。

子范畴之于范畴，就好比子群之于群，或子空间之于拓扑空间。

它的核心思想是：从一个“大”的范畴中，选取一部分**对象**和一部分**态射**，使得这个被选出来的部分自身也构成一个合法的范畴。这意味着它必须保持原有的结构，即包含恒等态射并且对态射的合成运算是封闭的。
#### 全子范畴
子范畴的一个极其重要的特例是**全子范畴 (Full Subcategory)**。
*   **定义**：如果一个子范畴 $C'$ 在挑选了对象之后，包含了这些被选中的对象之间在“大”范畴 $C$ 中的**所有**态射，那么就称 $C'$ 是 $C$ 的一个**全子范畴**。
    用公式表达，对于任意 $X, Y \in Ob(C')$，都有：
    $$
    Hom_{C'}(X, Y) = Hom_C(X, Y)
    $$

*   **直观解释**：全子范畴的构造分为两步：
    1.  你先从大范畴中挑选一个**对象子集**。
    2.  然后，你**不再有选择态射的自由**，必须把这些对象之间原有的**所有**关系（态射）全部保留下来。
##### 例子与解释

1.  **阿贝尔群范畴 $\mathbf{Ab}$ 是群范畴 $\mathbf{Grp}$ 的一个全子范畴。**
    *   **对象**：所有阿贝尔群（交换群）的集合是所有群的集合的一个子集。
    *   **态射**：两个阿贝尔群之间的**所有**群同态都被包含在内。我们没有舍弃任何态射，因为两个阿贝尔群之间的群同态本身就构成了完整的 $Hom$ 集。
    *   所以，$\mathbf{Ab}$ 是 $\mathbf{Grp}$ 的一个**全子范畴**。

2.  **有限集合范畴 $\mathbf{Set_{fin}}$ 是集合范畴 $\mathbf{Set}$ 的一个全子范畴。**
    *   **对象**：有限集合是集合的子集。
    *   **态射**：两个有限集合之间的**所有**函数（无论单射、满射或其它）都被包含在内。
    *   所以，$\mathbf{Set_{fin}}$ 是 $\mathbf{Set}$ 的一个**全子范畴**。

3.  **一个非全子范畴的例子**
    *   考虑一个范畴 $C'$，它的对象是所有的集合（与 $\mathbf{Set}$ 相同），但它的态射**仅仅是所有的单射函数**。
    *   $C'$ 是 $\mathbf{Set}$ 的一个子范畴吗？是的。恒等映射是单射，两个单射的复合也是单射。
    *   它是全子范畴吗？**不是**。因为对于任意两个集合 $X, Y$，$Hom_{C'}(X, Y)$ 只包含了单射函数，而 $Hom_{\mathbf{Set}}(X, Y)$ 还包含了非单射的函数。我们“扔掉”了一部分态射。

全子范畴的概念非常有用，因为它使我们能够精确地讨论“**具有某种性质的对象所构成的世界**”。例如，研究阿贝尔群的理论，本质上就是在研究群范畴 $\mathbf{Grp}$ 中那个名为 $\mathbf{Ab}$ 的全子范畴。

> [!definition] 单态射 mono, 满态射 epi；收回，截面
> - 设$f:Y\rightarrow Z$
>
> - 如果对任何$h,k: X \rightarrow Y$，有$fh=fk$蕴含$h=k$，则称$f$是单态射**mono**(后作用的可以约掉、左消去律)；
> - 如果对任何$h,k:Z\rightarrow W$，有$hf=kf$蕴含$h=k$，则称$f$是满态射**epi**(先作用的可以约掉、右消去律)。
>
>   在范畴中，
>
> - 收回(retraction)、可裂满态射(split epimorphisms)是某个态射$f$的左逆，$f$被称为可裂单态射(split mono)，
> - 截面(section)、可裂单态射(split monomorphisms)是某个态射$f$的右逆，$f$被称为可裂满态射(split epi)。
>   记忆：单射是可以收回的。

> [!example] retract 收缩核{\cite[ex.0.1 {rotman2013alto}}]
>   对于阿贝尔群$H$和$G$，如果$H$是$G$的子群且存在同态$r:G\rightarrow H$使得$r\circ \iota = \mathrm{id}_{H}$，那么称$H$是$G$的收缩核，$r$称为收回映射(retraction) 。$H$是$G$的收缩核，当且仅当$H$是$G$的一个直和项。只要证明$G=H\oplus \mathrm{ker} r$。

> [!note]
> - 注意区分上述定义的mono/epi，单射/满射，单态射/满态射。这里不将mono/epi翻译为单态射/满态射以作区分。
>
>
>
>   对于具体范畴来说，单态射都是mono，满态射都是epi。
>
>   epi不必是满射，幺半群中的包含映射$\mathbb{N}\mapsto \mathbb{Z}$是epi但不是满射，练习已证{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.19）}。但对于$\mathsf{Set}$，$\mathsf{Grp}$(wiki:epimorphism)，$\mathsf{Vect}$，$\mathsf{Top}$来说，epi都是满射{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.18）}。
>
>   对一般的范畴来说，不是所有的单态射都存在收回(左逆,split epi)，对拓扑范畴来说，不是所有的包含映射都存在收回，这是因为覆水难收，例如没有从$D^2$到$S^1$的收回，他们的基本群分别是$\{0\}$和$\mathbb{Z}$，利用函子$\pi_1$保持态射的左右可逆性可以证明某些左右逆射不存在，这引出了下面的证明技巧。



<div class="transclusion internal-embed is-loaded"><a class="markdown-embed-link" href="/1 Stories of Bizzo's Life/1 数学基础/1 群论和群表示论/#87pa47" aria-label="Open link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a><div class="markdown-embed">



> [!note]
> - $A\simeq \mathrm{im}(i)$是同态$p$的核，因此可以视$A$为$\hat{G}$的正规子群，$\hat{G}/A\simeq G$。
>
>   在$\mathsf{Grp}$中，并非所有的单射都是可裂的，例如加法群的包含映射$\iota :\mathbb{Z}\rightarrow \mathbb{R}$。根据定义，如果$\iota$是可裂的，那么存在群同态$p:\mathbb{R}\to \mathbb{Z}$使得$p\circ\iota = \mathrm{id}_\mathbb{Z}$，但是实际上不存在这样的同态$p$，这是因为唯一可能的同态$p$是平凡的，假设$p(1)=k$，那么$p(1/n) n=k$对任意的$n$成立，因此只能有$k=0$，非零的值都会导致矛盾，因为不存在被任何正整数$n$整除的数$k\neq 0$。
>
>   扩张是可裂的当且仅当\footnote{参见：[wiki](omni.wikiwand.com/en/articles/Group_extension)}$\hat{G}=A \rtimes G$(待证，证明参见[讲义](https://www.math.clemson.edu/~macaule/classes/s24_math4120/slides/math4120_slides_chapter06_h.pdf))。
>
>   在范畴论中，如果一个态射存在左逆或者右逆，则称这个逆为分裂(splitting){（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] def.1.2.7）}。 

</div></div>

\begin{trick}
    利用函子保持左右可逆性，可知如果函子打过去的态射$Ff$不是左或右可逆的，则原来的态射$f$也不是左或有可逆的，即态射不存在收回或者截面。
\end{trick}
> [!example]
> - 线性空间中的mono和单射等价。先证必要性，对于任意的mono $A$和任意线性映射$B$，$AB=0$，即$\mathrm{im}B \subset \mathrm{ker}A$，蕴含$B=0$，即$\mathrm{im}B=0$，则有$\mathrm{ker}A=0$，因此$A$是单射。反之，如果$\mathrm{ker}A=0$，则有$B=0$，因此$A$是单态射。

> [!theorem] mono与epi的性质
> - split epi $\implies$ epi
> - split mono $\implies$ mono
> - iso $\iff$ split mono 且 epi
> - iso $\iff$ mono 且 split epi
> - mono/epi 是反范畴中的 epi/mono


> [!proof]
> - 只证3.充分性，设$f:X\rightarrow Y$是split mono，即存在左逆(retraction、split epi)$~g:Y\rightarrow X$使得
>
> $$
g\circ f=\mathrm{id}_Y
> $$
>
>   eq-eq-gcfeqidy
>
>   由于$f$是epi，因此任取$f_{1,2}:Y\rightarrow Y$，$f_1f=f_2f$蕴含$f_1=f_2$。只要证$(f\circ g)\circ f=\mathrm{id}_Y \circ f$，这显然成立，在式{eq:gcfeqidy}右边接上$f$即得。
## 函子

> [!definition] 函子
> - 设 $\mathsf{C}^{\prime}, \mathsf{C}$ 为范畴. 一个**函子** $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 意谓以下资料:
>   
> - 对象间的映射 $F: \mathrm{Ob}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Ob}(\mathsf{C})$.
> - 态射间的映射 $F: \operatorname{Mor}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Mor}(\mathsf{C})$, 使得对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$ 皆有映射
{ #zu13p2}
  $$
F: \operatorname{Hom}_{\mathsf{C}^{\prime}}(X, Y) \rightarrow \operatorname{Hom}_{\mathsf{C}}(F X, F Y)$$
满足$$
F(g \circ f)=F(g) \circ F(f), F\left(\mathrm{id}_{X}\right)=\mathrm{id}_{F X}$$


> [!note]
> - 在旧文献中，保持箭头方向的称为共变函子，反转箭头方向的称为反变函子。但是实际上我们不需要区分函子的变性，只需要根据函子的始对象和终对象是否是反范畴就能确定它作用在复合映射上的行为。例如$$F:C^{\prime op}\to C $$满足    $$    F((g \circ f)^{op}) = F(f^{op} \circ_{op} g^{op}) = F(f^{op}) \circ F(g^{op})    $$
> 上式的第一个等号是反范畴的定义的一部分。
> -  作为范畴的拥有等价关系的集合$(X,\sim)$，$(Y,\sim)$之间的函子保持等价关系，但是并不反映等价关系，等价关系可以被创造，也就是说可能有$Fx\sim Fy$，但没有$x\sim y$。Relations are preserved but not necessarily reflected{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] p.35）}.
{ #bkvznx}

- [[函子的变性的理解\|函子的变性的理解]] 


### 函子的一些例子

*   **线性表示 (Linear Representation)**
    一个群 $G$ 的线性表示可以被看作是一个函子 $R: G \to \mathsf{Vect}$，其中群 $G$ 被视为一个只有一个对象的范畴（有时记作 $\mathsf{B}G$）。

*   **Hom-函子 (Hom-Functor)**
    对于一个给定的范畴 $\mathsf{C}$ 和其中的一个特定对象 $A$，我们可以定义两种 Hom-函子，它们都将 $\mathsf{C}$ 映射到 $\mathsf{Set}$（集合范畴）。

    1.  **共变 Hom-函子**: $\mathrm{Hom}(A, \cdot)$ 或 $(\cdot)_*$
        *   **作用在对象上**：它将范畴 $\mathsf{C}$ 中的任意对象 $X$ 映射到**集合** $\mathrm{Hom}_{\mathsf{C}}(A, X)$。这可以被形象地理解为所有从“探针”对象 $A$ 出发，指向 $X$ 的箭头（态射）的集合。
        *   **作用在态射上（推前/Pushforward）**：它将 $\mathsf{C}$ 中的一个态射 $f: X \to Y$ 映射为一个函数，这个函数的作用效果是将 $f$ **后合成 (post-composition)** 到输入的态射上。
            $$
            \begin{aligned}
            f_* = \mathrm{Hom}_{\mathsf{C}}(A, f): \mathrm{Hom}_{\mathsf{C}}(A, X) &\to \mathrm{Hom}_{\mathsf{C}}(A, Y) \\
            (p: A \to X) &\mapsto (f \circ p: A \to Y)
            \end{aligned}
            $$
        *   **图示**：
        * ```tikz
            \usepackage{amsmath}
            \usepackage{tikz-cd}
            \begin{document}
            \begin{tikzcd}
            & A \\
            X && Y
            \arrow["{p}"', from=1-2, to=2-1]
            \arrow["{f \circ p}", from=1-2, to=2-3]
            \arrow["f"', from=2-1, to=2-3]
            \end{tikzcd}
            \end{document}
            ```
        *   **协变性**：由于源态射 $f: X \to Y$ 和目标态射 $f_*: \mathrm{Hom}(A, X) \to \mathrm{Hom}(A, Y)$ 的方向一致，所以这是一个**共变 (covariant)** 函子。

    2.  **反变 Hom-函子**: $\mathrm{Hom}(\cdot, A)$ 或 $(\cdot)^*$
        *   **作用在对象上**：它将范畴 $\mathsf{C}$ 中的任意对象 $X$ 映射到**集合** $\mathrm{Hom}_{\mathsf{C}}(X, A)$。这可以被形象地理解为所有从 $X$ 出发，指向“目标”对象 $A$ 的箭头（态射）的集合。
        *   **作用在态射上（拉回/Pullback）**：它将 $\mathsf{C}$ 中的一个态射 $f: X \to Y$ 映射为一个函数，这个函数的作用效果是将 $f$ **前合成 (pre-composition)** 到输入的态射上。
            $$
            \begin{aligned}
            f^* = \mathrm{Hom}_{\mathsf{C}}(f, A): \mathrm{Hom}_{\mathsf{C}}(Y, A) &\to \mathrm{Hom}_{\mathsf{C}}(X, A) \\
            (p: Y \to A) &\mapsto (p \circ f: X \to A)
            \end{aligned}
            $$
        *   **图示**：
        * ```tikz
            \usepackage{amsmath}
            \usepackage{tikz-cd}
            \begin{document}
            \begin{tikzcd}
            & A \\
            X && Y
            \arrow["{p \circ f}", from=2-1, to=1-2]
            \arrow["f"', from=2-1, to=2-3]
            \arrow["{p}"', from=2-3, to=1-2]
            \end{tikzcd}
            \end{document}
            ```
        *   **反变性**：由于源态射 $f: X \to Y$ 诱导出了一个方向**相反**的映射 $f^*: \mathrm{Hom}(Y, A) \to \mathrm{Hom}(X, A)$，所以这是一个**反变 (contravariant)** 函子。按照现代定义，它是一个从反范畴出发的函子：$\mathrm{Hom}(\cdot, A): \mathsf{C}^{\mathrm{op}} \to \mathsf{Set}$。

### 函子的等价与三个性质
函子或者说范畴的等价是根据下面三个关于函子的性质来刻画的 [[LiWenWei2023DaiShuXueFangFaJuanYi\|LiWenWei2023DaiShuXueFangFaJuanYi]] ，注意与函子之间的自然同构（
<div class="transclusion internal-embed is-loaded"><a class="markdown-embed-link" href="/自然变换/#r9x7z8" aria-label="Open link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a><div class="markdown-embed">



> [!definition] 自然同构
>   如果对于 $\mathsf{C}^\prime$ 中的每一个对象 $X$，分量 $\theta_X: F(X) \rightarrow G(X)$ 都是一个**同构 (isomorphism)**（即可逆），那么这个自然变换 $\theta$ 就被称为**自然同构 (natural isomorphism)** 或**自然等价 (natural equivalence)**（我已经基本上将这个术语清除了，因为我并不理解等价在范畴中的含义，有时候似乎被滥用了，例如等价也被用于范畴等价中，容易混淆），或简称**同构**。
>
>   在这种情况下，函子 $F$ 和 $G$ 被认为是**同构**的，记作 $F \simeq G$。这是函子范畴意义下的同构。
>   
>   这个定义也出现在[[LiWenWei2023DaiShuXueFangFaJuanYi\|LiWenWei2023DaiShuXueFangFaJuanYi]]定义2.2.8的上面，称$\theta:F\to G$是函子之间的同构（函子同构），称$\theta_X:FX\rightarrow GX$是对变元$X$的**典范同构**或**自然同构**。 

</div></div>
）进行区分。

> [!definition] 函子等价（范畴等价）{\cite[Def.0.17 {heunen2019CategoriesQuantumTheory}}]
>   函子 $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 称为**等价**(equivalence)如果它满足以下三个性质，
> - **全**(full)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，都有$F:\mathrm{Hom}(X,Y)\rightarrow \mathrm{Hom}(F(X),F(Y)), f\mapsto F(f)$是满射。即函子$F$关于态射是满射。
> - **忠实**(faithful)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，以及所有箭头对$f_1,f_2:X\rightarrow Y$，都有$Ff_1=Ff_2$蕴含$f_1=f_2$。即函子$F$关于态射的是单射。
> - **本质满射**(essentially surjective on objects)：对每个$A\in \operatorname{Ob}\left(\mathsf{C}\right)$ ，都存在$X\in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，使得$F(X)$与$A$同构。即在对象同构的意义下，函子$F$关于对象是满射。
{ #q7hwob}


> [!note]
> - 既可以说函子是等价，也可以说两个范畴{（[[riehl2017category\|riehl2017category]] Def.1.5.4）}是等价的。
>
>  - 群的线性表示的忠实性就是在函子忠实的意义下说的。

> [!example] 矩阵与线性空间之间的等价
> - 矩阵$\mathsf{Mat}$和有限维线性空间$\mathsf{FVect}$之间存在等价$F$，定义$F(n)=\mathbb{F}^{\mathrm{dim}(V)}$。给定基底以后，就可以将线性变换唯一地写成矩阵形式，反过来确定了矩阵就确定了线性变换，而有限维线性空间$V$都和$\mathbb{F}^{\mathrm{dim}(V)}$同构。
- [[全忠实、本质满射的详细解释\|全忠实、本质满射的详细解释]] 
- 后面提到自然变换时，会给出函子等价的另一种刻画方式，参见： [[自然变换#函子的等价\|自然变换#函子的等价]]，同时也给出了函子同构与范畴同构，这是一个更加少见的概念。
## 骨架范畴
- [[骨架范畴\|骨架范畴]] 
## 自然变换

- [[自然变换\|自然变换]]

## 函子范畴

本节的核心思想是将**函子**和**自然变换**提升到一个新的层次：我们可以把函子本身看作是“对象”，而把它们之间的自然变换看作是“态射”，从而构成一个全新的范畴。这个新范畴被称为**函子范畴 (Functor Category)**。这个构造是范畴论中一个极其强大且普遍的工具，它允许我们对函子和自然变换进行“代数”操作，就像我们对集合和函数进行操作一样。
### 范畴的积与余积 (Product and Coproduct of Categories)

在定义函子范畴之前，本节首先介绍了如何组合多个范畴。

*   **积范畴 (Product Category)**:
    *   给定一族范畴 $\{C_i\}_{i \in I}$，它们的积范畴 $\prod_{i \in I} C_i$ 的：
        *   **对象**是元组 $(X_i)_{i \in I}$，其中每个 $X_i \in Ob(C_i)$。
        *   **态射**是元组 $(f_i)_{i \in I}: (X_i) \to (Y_i)$，其中每个 $f_i: X_i \to Y_i$ 是 $C_i$ 中的一个态射。
        *   **合成**是逐分量进行的。
    *   **二元函子 (Bifunctor)** $F: C_1 \times C_2 \to D$ 就是积范畴上的一个函子。

*   **余积范畴 (Coproduct Category)**:
    *   给定一族范畴 $\{C_i\}_{i \in I}$，它们的余积范畴 $\coprod_{i \in I} C_i$ 的：
        *   **对象**是所有 $C_i$ 中对象的无交并集。
        *   **态射**只存在于来自**同一个**范畴 $C_j$ 的对象之间，即 $Hom(X_j, Y_k)$ 只有在 $j=k$ 时才非空。

### 函子范畴 (Functor Category)

这是本节最核心的定义。

*   **定义 2.3.4**：给定两个范畴 $\mathsf{C}_1$ 和 $\mathsf{C}_2$，可以构造**函子范畴** $\mathrm{Fct}(\mathsf{C}_1, \mathsf{C}_2)$，有时也记作 $[\mathsf{C}_1, \mathsf{C}_2]$ 或 $\mathsf{C}_2^{\mathsf{C}_1}$。
    *   **对象**：这个范畴的对象是从 $\mathsf{C}_1$ 到 $\mathsf{C}_2$ 的所有**函子**。
    *   **态射**：从一个对象（函子 $F$）到一个另一个对象（函子 $G$）的态射，是从 $F$到 $G$ 的所有**自然变换**。
    *   **合成**：态射（自然变换）的合成是**纵向合成 (vertical composition)**。

*   **构造的意义**：这个定义将函子和自然变换的概念“内部化”了。我们不再仅仅把它们看作是描述范畴间关系的工具，而是将它们本身提升为了一门新的、更高级的数学结构（范畴）中的研究对象。

### 范畴的中心 (Center of a Category)

本节还引入了一个基于函子范畴的有趣概念。

*   **定义 2.3.8**：一个范畴 $\mathsf{C}$ 的**中心** $Z(\mathsf{C})$，被定义为**恒等函子** $id_{\mathsf{C}}: \mathsf{C} \to \mathsf{C}$ 的**自同态幺半群 (endomorphism monoid)**。
    $$
    Z(\mathsf{C}) := \mathrm{End}(id_{\mathsf{C}})
    $$
*   **解释**：
    *   $id_{\mathsf{C}}$ 是函子范畴 $[\mathsf{C}, \mathsf{C}]$ 中的一个对象。
    *   $Z(\mathsf{C})$ 就是 $Hom_{[\mathsf{C}, \mathsf{C}]}(id_{\mathsf{C}}, id_{\mathsf{C}})$，即从恒等函子到自身的**所有自然变换**。
    *  将恒等函子代入到
<div class="transclusion internal-embed is-loaded"><a class="markdown-embed-link" href="/自然变换/#ugno5r" aria-label="Open link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a><div class="markdown-embed">



> [!definition] 自然变换，或函子之间的态射{\cite[Def.2.2.5  liwenweiav1]
> \label{def:natraltrans}
>   设 $F, G: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 是两个具有相同始对象和终对象的函子。一个从 $F$ 到 $G$ 的**自然变换 (natural transformation)** $\theta$ 是一族（a family of）态射，这族态射由 $\mathsf{C}'$ 中的每个对象 $X$ 所索引：
>   $
>   \{\theta_{X}: F(X) \to G(X)\}_{X \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)}
>   $
>   其中，$\theta_X$ 被称为 $\theta$ 在 $X$ 处的**分量 (component)**{\cite{MonomorphismWikiwandArticles def.1.4.1}}。
>
>   这一族态射必须满足**自然性条件 (naturality condition)**，即对于 $\mathsf{C}^{\prime}$ 中的**每一个**态射 $f: X \rightarrow Y$，下面的交换图都成立：
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=large]
>   FX && GX \\
>   \\
>   FY && GY
>   \arrow["{\theta_X}", from=1-1, to=1-3]
>   \arrow["Gf", from=1-3, to=3-3]
>   \arrow["Ff"', from=1-1, to=3-1]
>   \arrow["{\theta_Y}"', from=3-1, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>   这个交换图等价于以下等式：
>   $
>   G(f) \circ \theta_X = \theta_Y \circ F(f)
>   $
>
>   我们通常将一个自然变换记作 $\theta: F \Rightarrow G$。它可以被形象地理解为将函子 $F$ “平滑地”形变为函子 $G$ 的一种方式，或者说是函子之间的“态射”。
>
>   在图示上，这可以表示为： 

</div></div>
的定义中可知， 一个自然变换 $\theta: id_{\mathsf{C}} \Rightarrow id_{\mathsf{C}}$ 是一族态射 $\{\theta_X: X \to X\}_{X \in Ob(C)}$，它必须与范畴 $\mathsf{C}$ 中的**所有**态射 $f: X \to Y$ 自然地交换，即 $$f \circ \theta_X = \theta_Y \circ f$$上式更清晰地展现了“中心”的含义，就像群的中心定义为和所有元素交换一样（考虑B$G$范畴）
*   **性质**：范畴的中心 $Z(\mathsf{C})$ 总是一个**交换幺半群 (commutative monoid)**。
### 例子
- [[函子范畴作为积范畴的推广\|函子范畴作为积范畴的推广]] 
## 可表函子、米田嵌入

- [[可表函子与米田嵌入\|可表函子与米田嵌入]]

## 泛性质

- [[泛性质\|泛性质]]
## 极限
极限是寻找具有泛性质的态射的方法，极限的重要例子包括：积(product)，相等化子(equilizer)和终对象(terminal object)。

补充这里（有助于理解积拓扑？[讨论球面和环面的区别](https://math.stackexchange.com/questions/4208133/why-is-s1-times-s1-torus-and-s2-ne-s1-times-s1)）

## 幺半范畴 Monoidal Category

幺半范畴中，作为结合子(associator)的自然同构$(A\otimes B)\otimes C\xrightarrow{\alpha_{A,B,C}}A\otimes(B\otimes C)$是指函子$F:(A,B,C)\mapsto (A\otimes B)\otimes C$和$G:(A,B,C)\mapsto A\otimes( B\otimes C)$这两个函子之间的自然同构，自然性是指相应的交换图。

# 松散的内容
- [reference request - Category Theory Zoo - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1639034/category-theory-zoo)

一些反范畴
- [general topology - What is the opposite category of $\operatorname{Top}$? - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1711330/what-is-the-opposite-category-of-operatornametop)

- [A Survey of Graphical Languages for Monoidal Categories | SpringerLink](https://link.springer.com/chapter/10.1007/978-3-642-12821-9_4)