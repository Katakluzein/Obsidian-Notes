---
{"dg-publish":true,"permalink":"/1 Stories of Bizzo's Life/1 数学基础/范畴/","tags":["范畴论"]}
---



### 范畴与函子
\label{ssec:cnf}
> [!definition] 范畴{\cite[Def.2.1.1
> - {liwenweiav1}}]\label{def:cat}
>   一个范畴 $\mathsf{C}$ 系指以下资料:
>   \begin{enumerate}
> - 集合 $\operatorname{Ob}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**对象**.
> - 集合 $\operatorname{Mor}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**态射**, 配上一对映射$\operatorname{Mor}(\mathsf{C}) \stackrel{s,t}{\rightrightarrows} \operatorname{Ob}(\mathsf{C})$,其中 $s$ 和 $t$ 分别给出态射的来源(定义域 domain)和目标(陪域 codomain). 对于 $X, Y \in \mathrm{Ob}(\mathsf{C})$, 一般习惯记 $\operatorname{Hom}_{\mathsf{C}}(X, Y):=s^{-1}(X) \cap t^{-1}(Y)$ ，简记为 $\operatorname{Hom}(X, Y)$或$\mathsf{C}(X,Y)$, 称为 $\operatorname{Hom}$-集, 其元素以$X$为来源且以$Y$为目标，称为从 $X$ 到 $Y$ 的态射.
> - 对每个对象 $X$ 给定元素 $\operatorname{id}_{X} \in \operatorname{Hom}_{C}(X, X)$, 称为 $X$ 到自身的**恒等态射**.
> - 对于任意 $X, Y, Z \in \mathrm{Ob}(\mathsf{C})$, 给定态射间的合成映射
>
$$
\begin{aligned}
\circ: \operatorname{Hom}_{\mathsf{C}}(Y, Z) \times \operatorname{Hom}_{\mathsf{C}}(X, Y) & \longrightarrow \operatorname{Hom}_{\mathsf{C}}(X, Z) \\
(f, g) & \longmapsto f \circ g,
\end{aligned}
$$
>   不致混淆时常将 $f \circ g$ 简记为 $f g$. 它满足
>
> - 结合律: 对于任意态射 $h, g, f \in \operatorname{Mor}(\mathsf{C})$, 若合成 $f(g h)$ 和 $(f g) h$ 都有定义,则
>
$$
f(g h)=(f g) h .
$$
>   故两边可以同写为 $f \circ g \circ h$ 或 $f g h$;
> - 对于任意态射 $f \in \operatorname{Hom}_{\mathsf{C}}(X, Y)$, 有
>
$$
f \circ \mathrm{id}_{X}=f=\operatorname{id}_{Y} \circ f
$$
>   \end{enumerate}
>   始对象$A$：从$A$到任何其他对象之间都有且只有一个态射。
>
>   终对象$A$：从任何其他对象到$A$之间都有且只有一个态射。

> [!note]
> - 对于态射 $f: X \rightarrow Y$, 若存在 $g: Y \rightarrow X$ 使得 $f g=\operatorname{id}_{Y}, g f=\operatorname{id}_{X}$, 则称 $f$ 是**同构** ，或称为**可逆**, 写作 $X \stackrel{f}{\cong} Y$ ， $g$ 称为 $f$ 的逆。Rotman将$f$和$g$残臭中的等价(equivalence)（[[rotman2013alto\|rotman2013alto]] p.12）。态射都是有方向的，不需要担心$f$和$g$之间的对易性。两条式子互不蕴含，为了证明同构，两者缺一不可。对象的“同构”是数学中两个对象是否在某种意义下“相等”的严格定义，只有态射才谈及“相等”，这个相等对于一些具体的例子来说是可以判断的，但是没有一般的方法来判断两个态射是否相等，在高阶范畴中，可以进一步谈论态射之间态射和“同构”。
>
>   称态射的左逆或右逆为分裂(splitting)。态射存在左逆，则一定是单射，反之不然；态射存在右逆，则一定是满射，反之不然。
>
>   从恒等态射的性质易见逆若存在则唯一。从 $X$ 到 $Y$ 的同构集记为 $\operatorname{Isom}_{\mathsf{C}}(X, Y)$.
>
>
>
>   在大多数情形中，对象都被解释为系统，而态射都被解释为过程。

> [!example] 范畴
> - 下面列举一些常见的范畴和相关概念，一个更大的列表参见[nLab链接](https://ncatlab.org/nlab/show/database+of+categories)。
>
> - 范畴：对象 ；态射
> - 具体范畴：以集合为对象；以函数为态射。对于具体范畴，通常以集合的名字来称呼这个具体范畴。
> - 小范畴：态射构成集合的范畴。
> - 局部小范畴(locally small)：任何两个对象之间的态射构成集合的范畴，这时候才有$\mathrm{Hom}$-集的概念，大多数情况下范畴都是局部小的。
> - $\mathsf{Set}$：集合 ；集合之间的映射。
> - $\mathsf{Grp}$：群 ；群同态。
> - $\mathsf{Ab}$：阿贝尔群 ；群同态。
> - $\mathsf{Top}$：拓扑空间 ；连续映射。
> - $\mathsf{Top_*}$：带基点的拓扑空间 ；保持基点的连续映射。
> - $\mathsf{Top}^2$：拓扑空间对 ；保持包含关系的连续映射。
> - $\mathsf{TopGrp}$：拓扑群；连续群同态。
> - $\mathsf{Comp}$：链复形 ；链映射。
> - $\mathsf{hTop}$：拓扑空间 ；连续映射的同伦等价类。
> - 广群(groupoid)：每个态射都是同构(可逆)的范畴，例如群$G$
> - $\mathsf{B}G$只有一个对象的广群：没有具体含义的单点 ；群元。
> - $\mathsf{Vect}$：线性空间 ；线性映射。
> - $\mathsf{Mat}$：自然数 ；矩阵(值域和陪域分别决定矩阵的列数和行数)。
> - $\mathsf{Ring}$：环 ；环同态。
> - $\mathsf{Diff}$：光滑流形 ；光滑映射。
> - $\mathsf{Rel}${（[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.5）}：集合，集合之间的二元关系。
> - preordered set：集合中的元素 ；集合上的自反以及传递的关系$\leqslant$。
> - $\mathsf{Poset}$：偏序集 ；单调函数$x\leqslant y\implies f(x)\leqslant f(y)$
> - $\mathsf{Hilb}$：希尔伯特空间；等距映射(亦或者某种保持希尔伯特空间结构的映射，[nLab](ncatlab.org/nlab/show/Hilb)中的定义令人困惑)。
> - $\mathsf{Meas}$：可测空间；可测映射。
> - 两个范畴$[\mathsf{C},\mathsf{D}]$之间的的函子范畴(functor category)：函子$F:\mathsf{C}\rightarrow \mathsf{D}$，自然变换$\alpha:F\implies G$。设$\mathsf{I}$是小范畴$\mathsf{C}$是范畴，那么$\mathsf{C}$中形状为$\mathsf{I}$的**图**是函子$\mathsf{I}\rightarrow \mathsf{C}$，函子范畴$[\mathsf{I},\mathsf{C}]$被称为$\mathsf{C}$中的以$\mathsf{I}$为形状的**图的范畴**。

在范畴论中，态射比对象重要。

> [!definition] 反范畴{\cite[Def.2.1.10
> - {liwenweiav1}}]
>   对于任意范畴 $\mathsf{C}$, 其**反范畴** $\mathsf{C}^{\mathrm{op}}$ 定义如下:
>
> - $\operatorname{Ob}\left(\mathsf{C}^{\mathrm{op}}\right)=\operatorname{Ob}(\mathsf{C})$,
> - 对任意对象 $X, Y, \operatorname{Hom}_{\mathsf{C}^\mathrm{op}}(X, Y):=\operatorname{Hom}_{\mathsf{C}}(Y, X)$,
> - 态射 $f \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(Y, Z), g \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(X, Y)$ 在 $\mathsf{C}^{\mathrm{op}}$ 中的合成 $f \circ^{\mathrm{op}} g$ 定义为 $\mathsf{C}$ 中的反向合成 $g \circ f$,
> - 恒等态射定义同 $\mathsf{C}$.

> [!note]
> - 反范畴就是将箭头取反，其他都不变。注意mono变成了epi，反之亦然。
>
>   $\mathsf{Set}^{\mathrm{op}}$中的态射是原像吗？[SE贴](math.stackexchange.com/questions/980933/what-is-the-opposite-category-of-set)
>
>   对偶性指的是范畴和对偶范畴的性质之间的对应关系。
>
>   如果一个定理对任何范畴都成立，那么只需要对$\mathsf{C}$证明一次就可以得到它对偶的定理对$\mathsf{C}^{\mathrm{op}}$也成立，方法是$\mathsf{C}$直接替换为$\mathsf{C}^{\mathrm{op}}$。

> [!definition] mono, epi；收回，截面
> - 设$f:Y\rightarrow Z$
>
> - 如果对任何$h,k: X \rightarrow Y$，有$fh=fk$蕴含$h=k$，则称$f$是**mono**(后作用的可以约掉)；
> - 如果对任何$h,k:Z\rightarrow W$，有$hf=kf$蕴含$h=k$，则称$f$是**epi**(先作用的可以约掉)。
>
>   在范畴中，
>
> - 收回(retraction)、可裂满态射(split epimorphisms)是某个态射$f$的左逆，$f$被称为可裂单态射(split mono)，
> - 截面(section)、可裂单态射(split monomorphisms)是某个态射$f$的右逆，$f$被称为可裂满态射(split epi)。
>   记忆：单射是可以收回的。

> [!example] ~retract 收缩核{\cite[ex.0.1
> - {rotman2013alto}}]
>   对于阿贝尔群$H$和$G$，如果$H$是$G$的子群且存在同态$r:G\rightarrow H$使得$r\circ \iota = \mathrm{id}_{H}$，那么称$H$是$G$的收缩核，$r$称为收回映射(retraction) 。$H$是$G$的收缩核，当且仅当$H$是$G$的一个直和项。只要证明$G=H\oplus \mathrm{ker} r$。

> [!note]
> - 注意区分上述定义的mono/epi，单射/满射，单态射/满态射。这里不将mono/epi翻译为单态射/满态射以作区分。
>
>
>
>   对于具体范畴来说，单态射都是mono，满态射都是epi。
>
>   epi不必是满射，幺半群中的包含映射$\mathbb{N}\mapsto \mathbb{Z}$是epi但不是满射，练习已证{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.19）}。但对于$\mathsf{Set}$，$\mathsf{Grp}$(wiki:epimorphism)，$\mathsf{Vect}$，$\mathsf{Top}$来说，epi都是满射{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.18）}。
>
>   对一般的范畴来说，不是所有的单态射都存在收回(左逆,split epi)，对拓扑范畴来说，不是所有的包含映射都存在收回，这是因为覆水难收，例如没有从$D^2$到$S^1$的收回，他们的基本群分别是$\{0\}$和$\mathbb{Z}$，利用函子$\pi_1$保持态射的左右可逆性可以证明某些左右逆射不存在，这引出了下面的证明技巧。

\begin{trick}
    利用函子保持左右可逆性，可知如果函子打过去的态射$Ff$不是左或右可逆的，则原来的态射$f$也不是左或有可逆的，即态射不存在收回或者截面。
\end{trick}
> [!example]
> - 线性空间中的mono和单射等价。先证必要性，对于任意的mono $A$和任意线性映射$B$，$AB=0$，即$\mathrm{im}B \subset \mathrm{ker}A$，蕴含$B=0$，即$\mathrm{im}B=0$，则有$\mathrm{ker}A=0$，因此$A$是单射。反之，如果$\mathrm{ker}A=0$，则有$B=0$，因此$A$是单态射。

> [!theorem] mono与epi的性质
> - \begin{enumerate}
> - split epi $\implies$ epi
> - split mono $\implies$ mono
> - iso $\iff$ split mono 且 epi
> - iso $\iff$ mono 且 split epi
> - mono/epi 是反范畴中的 epi/mono
>   \end{enumerate}

> [!proof]
> - 只证3.充分性，设$f:X\rightarrow Y$是split mono，即存在左逆(retraction、split epi)$~g:Y\rightarrow X$使得
>
$$
g\circ f=\mathrm{id}_Y
$$
>
>   eq-eq-gcfeqidy
>
>   由于$f$是epi，因此任取$f_{1,2}:Y\rightarrow Y$，$f_1f=f_2f$蕴含$f_1=f_2$。只要证$(f\circ g)\circ f=\mathrm{id}_Y \circ f$，这显然成立，在式{eq:gcfeqidy}右边接上$f$即得。

> [!definition] 函子
> - 设 $\mathsf{C}^{\prime}, \mathsf{C}$ 为范畴. 一个**函子** $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 意谓以下资料:
>   \begin{enumerate}
> - 对象间的映射 $F: \mathrm{Ob}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Ob}(\mathsf{C})$.
> - 态射间的映射 $F: \operatorname{Mor}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Mor}(\mathsf{C})$, 使得对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$ 皆有映射
$$
F: \operatorname{Hom}_{\mathsf{C}^{\prime}}(X, Y) \rightarrow \operatorname{Hom}_{\mathsf{C}}(F X, F Y)
$$
满足
$$
F(g \circ f)=F(g) \circ F(f), F\left(\mathrm{id}_{X}\right)=\mathrm{id}_{F X}
$$


> [!note]
> - 保持箭头方向的称为共变函子，反转箭头方向的称为反变函子。
>
>   作为范畴的拥有等价关系的集合$(X,\sim)$，$(Y,\sim)$之间的函子保持等价关系，但是并不反映等价关系，等价关系可以被创造，也就是说可能有$Fx\sim Fy$，但没有$x\sim y$。Relations are preserved but not necessarily reflected{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] p.35）}.

> [!example] 函子
> -
> - 线性表示$R:G\rightarrow\mathsf{Vect}$之间的函子。
> - 给定的范畴$\mathsf{C}$，和其中的对象$A$，**Hom-函子**有两种，分别记为$\mathrm{Hom}(A,\cdot) =(\cdot)_*$和$\mathrm{Hom}(\cdot,A)=(\cdot)^*$，
>   > [!abstract] Contents
> - > - $\mathrm{Hom}(A,\cdot) =(\cdot)_*$作用在对象$X$上时得到指向$X$的箭头($A$刺出探针)。作用在态射$f$上时对应“将$f$合成于后”或推前。具有协变性。
>   >
>   >   对于推前，$\mathrm{Hom}_\mathsf{C}(A,\cdot):\mathsf{C}\rightarrow \mathsf{Set},~X\mapsto \mathrm{Hom}_\mathsf{C}(A,X)$，推前Hom-函子将$\mathsf{C}$中的态射$f:X\rightarrow Y$映到两个Hom-集之间的映射
$$
  \begin{aligned}
  \mathrm{Hom}_\mathsf{C}(A,f)=f\circ (\cdot) =f_*(\cdot ):\operatorname{Hom}_C(A, X) & \xrightarrow{f \circ(\cdot)} \operatorname{Hom}_C(A, Y) \\
   (A \xrightarrow{p} X) & \longmapsto(A \xrightarrow{p} X \xrightarrow{f} Y) .
  \end{aligned}
 $$
>   >   设$f:X\rightarrow Y,$~$p_1:A\rightarrow X$,~$p_2:A\rightarrow Y$是两个从$A$出发的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_1\mapsto p_2=f\circ p_1$，因此$\mathrm{Hom}(A,\cdot)$的作用效果是“后合成”，图示如下。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}"', from=1-2, to=2-1]
>   >   \arrow["{p_2}", from=1-2, to=2-3]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >  $\mathrm{Hom}(\cdot,A)=(\cdot)^*$作用在对象$X$上时得到从$X$出发的箭头($A$接收投影)。作用在态射$f$上时对应“将$f$合成于前”或拉回。具有反变性。
>   >
>   >
>   >
>   >   对于拉回，$\mathrm{Hom}_\mathsf{C}(\cdot,A):\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$，它可以提供指向$A$的箭头。$\mathrm{Hom}(\cdot,A)$将$X\in \mathrm{Ob}(\mathsf{C})$映到态射的集合$\mathrm{Hom}(X,A)$，将$f:X\rightarrow Y$打到
>   >
$$
   \begin{aligned}
   \mathrm{Hom}_\mathsf{C}(f,A)= (\cdot)  \circ f=f^*(\cdot):\operatorname{Hom}_C(A, Y) & \xrightarrow{(\cdot)  \circ f} \operatorname{Hom}_C(A, X) \\
  (Y \xrightarrow{p} A) & \longmapsto(X \xrightarrow{f} Y \xrightarrow{p} A) .
   \end{aligned}
$$
>   >
>   >   设$f:X\rightarrow Y,$~$p_1:X\rightarrow A$,~$p_2:Y\rightarrow A$是两个指向$A$的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_2\mapsto p_1= p_1\circ f$，因此$\mathrm{Hom}(A,\cdot )$的作用效果是“前合成”，图示如下。注意到$f$本身是从$X$打到$Y$的，但$\mathrm{Hom}(A,\cdot )$是从$\mathrm{Hom}(A,Y)$打到$\mathrm{Hom}(A,X)$的，这说明$\mathrm{Hom}(A,\cdot)$是反变的，否则无法将其中一个箭头写成另外两个的复合。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}", from=2-1, to=1-2]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \arrow["{p_2}"', from=2-3, to=1-2]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >
>   >

### 自然变换

> [!definition] 自然变换，或函子之间的态射{\cite[Def.2.2.5
> - {liwenweiav1}}]\label{def:natraltrans}
>   具有相同变性(variance)的函子 $F, G: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 之间的**自然变换** $\theta$ 是一族态射
>
$$
\theta_{X} \in \operatorname{Hom}_{\mathsf{C}}(F X, G X), \quad X \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right),
$$
>   称为$\theta$在$X$处的分量(component){（[[MonomorphismWikiwandArticles\|MonomorphismWikiwandArticles]] def.1.4.1）}，使得下图对所有 $\mathsf{C}^{\prime}$ 中的态射 $f: X \rightarrow Y$ 交换，
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=small]
>   FX && GX \\
>   \\
>   FY && GY
>   \arrow["{\theta_X}", from=1-1, to=1-3]
>   \arrow["Gf", from=1-3, to=3-3]
>   \arrow["Ff"', from=1-1, to=3-1]
>   \arrow["{\theta_Y}"', from=3-1, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   或等价地
>
$$
Gf \circ \theta_X = \theta_Y \circ Ff
$$
>
>   自然变换记作 $\theta: F \implies G$, 或图解为
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=small]
>   {\mathsf{C}^\prime} &&& {\mathsf{C}}
>   \arrow[""{name=0, anchor=center, inner sep=0}, "F", color={rgb,255:red,214;green,92;blue,92}, curve={height=-24pt}, from=1-1, to=1-4]
>   \arrow[""{name=1, anchor=center, inner sep=0}, "G"', color={rgb,255:red,214;green,92;blue,214}, curve={height=24pt}, from=1-1, to=1-4]
>   \arrow["\theta", shorten <=6pt, shorten >=6pt, Rightarrow, from=0, to=1]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   上述条件称为自然性条件(natuality condition)。
>
>   如果任取$X\in \mathrm{Ob}(\mathsf{C}^\prime)$，都有$\theta_X:FX\rightarrow GX$是同构(可逆)，则称自然变换$\theta$是**自然同构**(isomorphism)或**自然等价**(equivalence)，称函子$F$和$G$是**自然等价**或者**自然同构**的，记作$G \simeq F$。

> [!note]
> - 自然变换是一系列两个函子的像之间的箭头。可以将$\theta$视为由$\mathsf{C}^\prime$中的对象$X$索引的一族态射，显然只有当$FX$和$GX$都在同一个范畴中才能定义他们之间的态射，四角和四边上的东西分别都是$\mathsf{C}$中的对象和态射。
>
>   自然变换保持了两个函子的作用、对称性或其他结构。
>
>   自然变换是一个正统的、标准的、系统的、直觉上自然的映射。
>
>   如果$\theta_X$这族态射中的每个一都是同构，那么称两个函子是自然同构的。注意区分两个函子之间的自然等价与两个范畴之间的等价。
>
>   看到自然变换$\theta:F\implies G$就插入对象$X$，称为$\theta_X:FX\rightarrow GX$
>
>   在函子范畴中，函子是对象，自然变换是函子之间的态射，因此有定义头中的称呼。
>
>   通常称分量$\theta_X$关于$X$自然，以表示$\theta$是自然变换。

> [!definition] 函子(范畴)的等价{\cite[Def.0.17
> - {heunen2019CategoriesQuantumTheory}}]
>   函子 $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 称为**等价**(equivalence)如果它满足以下三个性质，
>
> - **满**(full)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，都有$F:\mathrm{Hom}(X,Y)\rightarrow \mathrm{Hom}(F(X),F(Y)), f\mapsto F(f)$是满射。即函子$F$关于态射是满射。
> - **忠实**(faithful)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，以及所有箭头对$f_1,f_2:X\rightarrow$，都有$Ff_1=Ff_2$蕴含$f_1=f_2$。即函子$F$关于态射的是单射。
> - **本质满射**(essentially surjective on objects)：对每个$A\in \operatorname{Ob}\left(\mathsf{C}\right)$ ，都存在$X\in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，使得$F(X)$与$A$同构。即在对象同构的意义下，函子$F$关于对象是满射。

> [!note]
> - 既可以说函子是等价，也可以说两个范畴{（[[riehl2017category\|riehl2017category]] Def.1.5.4）}是等价的。
>
>   群的线性表示的忠实性就是在函子忠实的意义下说的。

> [!example] 矩阵与线性空间之间的等价
> - 矩阵$\mathsf{Mat}$和有限维线性空间$\mathsf{FVect}$之间存在等价$F$，定义$F(n)=\mathbb{F}^{\mathrm{dim}(V)}$。给定基底以后，就可以将线性变换唯一地写成矩阵形式，反过来确定了矩阵就确定了线性变换，而有限维线性空间$V$都和$\mathbb{F}^{\mathrm{dim}(V)}$同构。

基于自然变换和自然等价，有范畴等价的另一个刻画。
> [!theorem] 用自然变换定义等价函子{},{} （[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.21）
> - 函子$F:\mathsf{C}\rightarrow \mathsf{D}$是等价当且仅当存在一个函子$G:\mathsf{D}\rightarrow \mathsf{C}$使得函子的自然等价成立$F\circ G\simeq \mathrm{id}_\mathsf{C}$ 以及$G\circ F\simeq \mathrm{id}_\mathsf{D}$，称$G$和$F$互为**伪逆**(pseudo)。

> [!proof]
> 

> [!note]
> - 为什么不需要定义关于对象的本质单射？忠实满函子蕴含了“本质单射”{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] prop.1.5.7）}。只需要满、忠实和本质忠实就已经能够说明存在两个范畴之间存在等价，即存在一对自然变换$\alpha:F\circ G\implies \mathrm{id}_\mathsf{C}$和$\beta:G\circ F\implies \mathrm{id}_\mathsf{D}$。

> [!example] 线性空间上恒等函子与双重对偶函子之间的自然变换
> - 对偶函子\footnote{op写在前面还是写在后面应该是无关紧要的，重要的是态射被函子打到另一个范畴之后方向是相同还是相反，无论写前面还是后面都都表示这个函子是反变的。}$(\cdot)^*\equiv  \mathrm{Hom}_\mathsf{Vect}(\cdot,\mathbb{K}): \mathsf{Vect}^{\mathrm{op}}\rightarrow \mathsf{Vect}$，它将线性空间$V$打到$\mathrm{Hom}(V,\mathbb{K})$，即我们熟悉的对偶空间的定义$V^*=\{ \omega  \mid \omega :V\rightarrow \mathbb{K}\}$，对偶函子将线性映射$\phi:V\rightarrow W$打到“将$\phi$复合于前”，
>
$$
\mathrm{Hom}_\mathsf{Vect^{\mathrm{op}}}(W,\mathbb{K}) = \mathrm{Hom}_\mathsf{Vect}(\mathbb{K},W)=W^* \rightarrow \mathrm{Hom}_\mathsf{Vect^{\mathrm{op}}}(V,\mathbb{K})=\mathrm{Hom}_\mathsf{Vect}(\mathbb{K},V)=V^*
$$
>
$$
(\omega:W\rightarrow \mathbb{K}) \mapsto ( \phi^*(\omega)=\omega \circ \phi:V\rightarrow \mathbb{K})
$$
>   即对于任意的$\omega \in W^*$，定义$\phi^*(\omega)=\omega\circ \phi$，这类似于1-形式的拉回，参见式{eq:1fpullback}。由于$\phi:V\rightarrow W$和经过对偶函子作用后的$\phi^*:W^*\rightarrow V^*$两个箭头方向相反，对偶函子是反变函子，因此它和恒等函子$\mathsf{Vect}\rightarrow \mathsf{Vect}$之间不可能存在自然变换。即便推广自然性的定义，不要求打过去的是同一个范畴\footnote{实际上并不清楚$\mathsf{Vect}^{op}$和$\mathsf{Vect}$是否在某种意义下一样，即他们之间是否存在函子(范畴)等价}，任何在$V$与$V^*$建立的同构$d_V$都不可能使得下图交换，
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   V & {V^{*}} \\
>   V & {V^{*}}
>   \arrow["\phi"', from=1-1, to=2-1]
>   \arrow["{d_V}", from=1-1, to=1-2]
>   \arrow["{d_V}"', from=2-1, to=2-2]
>   \arrow["{\phi^{*}}", from=1-2, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   下面证明不存在性(如何证?)，仅仅提供一个看上去自然但实际上并不自然的同构$d:V\rightarrow V^*,d(e_i)=e^i$，其中$e^i(e_i)=\delta_{j}^i$，根据线性性$d(v^ie_i)=v^ie^i$，分别沿两条路径走
>
$$
d(\phi(v))(e_k)=v^i\phi_{ki}
$$
>
$$
\phi^*(d(v))(e_k)=v^i\phi_{ik}
$$
>   基变换的图是交换的当且仅当$\phi_{ik}=\phi_{ki}$，即$\phi$在$\{e_i\}$下的矩阵是对称的。
>
>   这里没有提供$\mathsf{Vect}^{\mathrm{op}}$中的态射是1-形式(线性变换？还是什么？)的证明，\myemph{如何证?}，$\mathsf{Vect}$中的态射$\phi:V\rightarrow W$在$\mathsf{Vect}^{\mathrm{op}}$中对应的箭头是什么样的？思考共轭转置和对偶映射之间的关系。为什么对偶函子用$\mathrm{Hom}_{\mathsf{Vect}}(\cdot,\mathbb{K})$来定义而不是用其他的除$\mathbb{K}$以外的线性空间？
>
>
>
>   通常称线性空间$V$及其两重对偶$V^{**}$自然同构，即对于任意的$V$，有$V\cong V^{**}$，这是存在从恒等自函子到双重对偶函子的自然变换(实际上是自然同构)~
$$
\mathrm{ev}:\mathrm{id}_{\mathsf{Vect}}\implies \mathrm{Hom}_{\mathsf{Vect}}(\mathrm{Hom}_{\mathsf{Vect}}(\cdot,\mathbb{K}),\mathbb{K})
$$
>   其分量为$\mathrm{ev}_V:V\rightarrow V^{**},~v\mapsto (\mathrm{ev}_V(v):V^*\rightarrow \mathbb{K} ,~\omega \mapsto \mathrm{ev}_V(v)(\omega)=\omega(v))$。下面验证自然性，即存在交换图
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   V & {V^{**}} \\
>   W & {W^{**}}
>   \arrow["\phi"', from=1-1, to=2-1]
>   \arrow["{\mathrm{ev}_V}", from=1-1, to=1-2]
>   \arrow["{\mathrm{ev}_W}"', from=2-1, to=2-2]
>   \arrow["{\phi^{**}}", from=1-2, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   只要证明$\phi^{**}\circ \mathrm{ev}_V =\mathrm{ev}_W\circ \phi$，设$x \in V$，根据对偶函子的定义，$\phi^{**}(\mathrm{ev}_V(x))=\mathrm{ev}_V(x)\circ \phi^*$，取$\omega\in W^*$，有$\phi^{**}(\mathrm{ev}_V(x))(\omega)=\mathrm{ev}_V(x)\circ \phi^*(\omega) =\mathrm{ev}_V(x)(\omega\circ \phi)=\omega\circ \phi(x)$。另一方面，$\mathrm{ev}_W(\phi(x)) = \omega\circ \phi(x)$。如果$V=W$，且$\phi$是线性同构，那么可以将$\phi$理解为基变换(基变换就是线性同构)，自然性体现在如果改变$V$中的基底，那么$V^{**}$的基底也会随之改变，在基变换前后映射 $\mathrm{ev}_V$相等。

> [!example] $G$-等变函数是自然等价
> - 参见定义\ref{def:gequiv}。

### 可表函子、米田嵌入
从范畴中取出集合有各种各样的方法，这些取出集合的方法构成一些从$\mathsf{C}$到集合的函子，为了讨论这些函子的结构，有下面的定义。
> [!definition] 可表函子(representable)
> - 称函子$F:\mathsf{C}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象**~(representing)
>
>   称预层$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(\cdot,S):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象**

> [!note]
> - 设可表函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$吃进去$X$，返回一个从$S$到$X$的箭头，它是从$S$刺向$X$的探针，我们可以用各种不同的$S$去探测$X$的结构。反之，$\mathrm{Hom}_\mathsf{C}(\cdot,S)$是从$X$设向$S$的投影，从侧面反映了$X$的结构。
>
>   可表函子和Hom-函子之间的自然同构的分量是集合范畴上的同构，只需要建立双射、检验自然性即可。

> [!lemma] 米田
> - 设$\mathsf{C}$是范畴，$X$是$\mathsf{C}$中的对象，$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$是$\mathsf{C}$上的预层，则映射
>   $$\begin{align}
>   i: \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)&\rightarrow FX\\
>   (\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F)&\mapsto \alpha_X(\mathrm{id}_X)
>   \end{align}$$
>   是双射，且关于$F$和$X$自然。

> [!proof]
> - 建立$i: \alpha\mapsto \alpha_X(\mathrm{id}_X)$的逆射，给定$p\in FX$，定义一个自然变换$j:p\mapsto v^p:\mathrm{Hom}(\cdot,X)\implies F$，其分量为
>
$$
\begin{aligned}
\operatorname{Hom}_C(Y, X) \xrightarrow{v_Y^p} F Y \\
f \longmapsto F f(p) .
\end{aligned}
$$
>   由于$F$是反变的，所以$Ff:FX\rightarrow FY$。设$h \in \operatorname{Hom}_C(Z, X)$，由
>
$$
F g\left(v_Z^p(h)\right)=F g(F h(p))=F(h \circ g)(p)=v_Y^p(h \circ g) .
$$
>   可知$v^p$是自然变换。要证明$j:p\mapsto v^p$与$i:\alpha\mapsto \alpha_X(\mathrm{id}_X)$互逆，只要证$p=v^p_X(\mathrm{id}_X)$以及$\alpha=v^{\alpha_X(\mathrm{id}_X)}$。实际上，
>
$$
v_X^p\left(\mathrm{id}_X\right)=F\left(\operatorname{id}_X\right)(p)=\operatorname{id}_{F X}(p)=p .
$$
>
$$
v_Y^{\alpha_X\left(\mathrm{id}_X\right)}(f)=F f\left(\alpha_X\left(\mathrm{id}_X\right)\right)=\alpha_Y(f)
$$
>
>   自然性的证明如下。
>
>   关于$X$的自然性是指函子$G\equiv \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,-),F):\mathsf{C}\rightarrow \mathsf{Set}$~($\mathsf{C}$中的对象和态射要插入$-$处，在对象层面$GX=\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)$，在态射层面$Gh=\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,h),F):GX\rightarrow GY ,~\alpha \mapsto \alpha\circ \mathrm{Hom}_\mathsf{C}(\cdot,h)$~)与函子$F:\mathsf{C}^\mathrm{op}\rightarrow \mathsf{Set}$之间存在自然变换$i$，其在$X$处的分量为$i_X:\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)\rightarrow FX$。设$h:Y\rightarrow X$，要证明对于任何态射$h:Y\rightarrow X$，以及任何自然变换$\alpha\in \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},F]}(\mathrm{Hom}(\cdot,X),F)$，都有
>
$$
F h\left(i_X(\alpha)\right)= i_Y( Gh(\alpha))
$$
>   上式中的$\mathrm{Hom}_\mathsf{C}(\cdot,h)=h_*:\mathrm{Hom}_\mathsf{C}(\cdot,Y)\implies \mathrm{Hom}_\mathsf{C}(\cdot,X)$是一个自然变换，其分量为$(h_*)_A:\mathrm{Hom}_\mathsf{C}(A,Y)\rightarrow  \mathrm{Hom}_\mathsf{C}(A,X)$，$h_*$与$\alpha$纵向复合。实际上，右边在$Y$处的分量，
>
$$
i_Y( \alpha \circ \mathrm{Hom}_\mathsf{C}(\cdot ,h))= i(\alpha\circ h_*)_Y (\mathrm{id}_Y) = \alpha_Y\circ h_*(\mathrm{id}_Y)=\alpha_Y(h)=Fh(\alpha_X(\mathrm{id}_X))
$$
>   最后一步利用了$\alpha$的自然性。
>
>   关于$F$的自然性是指，函子$P,Q: [\mathsf{C}^{\mathrm{op}},\mathsf{Set}]\rightarrow \mathsf{Set}$之间存在自然变换$i$，即任取自然变换$\alpha$和$\beta:F\implies K$，有
>
$$
P\beta(i_F(\alpha)) =i_K(Q\beta(\alpha))
$$
>   其中$Q(-)\equiv \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),-)$,~而$P(\cdot)\equiv(\cdot)X$在对象层面$PF\equiv FX$(函子$F$是对象)，在态射层面，设作为态射的自然变换$\beta:F\implies K$，被打到其分量$P\beta\equiv\beta_X : FX\rightarrow KX$，变为集合之间的映射。注意到$Q\beta(\alpha)=\beta_*(\alpha)=\beta \circ \alpha$即得上式左右相等(这是个推前)，即
$$
\beta_X(\alpha_X(\mathrm{id}_X))=(\beta\circ \alpha)_X(\mathrm{id}_X)
$$
> [!note]
> - $\mathrm{Hom}_\mathsf{C}(\cdot,X)$是被$X$表示的可表函子。$[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]$是函子范畴，对象是这两个范畴之间的函子，态射是函子之间的自然变换。

> [!theorem] 米田嵌入(embedding)
> - 设$X,Y$是范畴$\mathsf{C}$的对象，则存在关于$X$和$Y$自然的集合之间的双射
>
$$
\operatorname{Hom}_{\mathsf{C}}(X, Y) \cong \operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)
$$
> [!proof]
> - 在米田引理中取$F= \mathrm{Hom}_\mathsf{C}(\cdot,Y)$即可。

> [!note]
> - 从米田嵌入可以立即推论，$\mathrm{Hom}_\mathsf{C}(X,Y)$中存在同构$f:X\rightarrow Y$当且仅当$\operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)$中存在自然等价$\alpha:\operatorname{Hom}_{\mathsf{C}}(\cdot, X)\implies \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)$。因此两个对象$X,Y$同构，当且仅$X$和$Y$表示的函子自然同构。


### 泛性质

\label{ssec:universalproperty}

> [!definition] 泛性质
> - $X$是范畴$\mathsf{C}$中的对象，$X$的**泛性质**由函子$F:\mathsf{C} \rightarrow \mathsf{Set}$或$F:\mathsf{C}^\mathrm{op} \rightarrow \mathsf{Set}$，以及一个给定的自然等价$\alpha:\mathrm{Hom}_\mathsf{C}(X,\cdot)\implies F$或$\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F$给出，根据米田引理来确定自然同构$\alpha$的元素$p\in FX$被称为**泛元素**(element)。

> [!note]
> - 米田引理给出的是自然变换的集合与$FX$之间的双射，但不是所有自然变换都是自然同构，$FX$中仅部分元素对应自然同构。根据米田引理证中的构造，$p$对应的自然同构是$v^p$，详见证明过程。


设$X$的泛性质由$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$和$p\in FX$给出，设相应的自然变换为$\alpha$，根据自然性，对于任意的$f:Y\rightarrow X$，有交换图


<div class="transclusion internal-embed is-loaded"><div class="markdown-embed">





```tikz
        \usepackage{amsmath}
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
	{\mathrm{id}_X} &&& {p=\alpha_X(\mathrm{id}_X)} \\
	& {\mathrm{Hom}_\mathsf{C}(X,X)} & FX \\
	& {\mathrm{Hom}_\mathsf{C}(Y,X)} & FY \\
	{f:Y\rightarrow X} &&& q
	\arrow[maps to, from=1-1, to=1-4]
	\arrow[maps to, from=1-1, to=4-1]
	\arrow[maps to, from=1-4, to=4-4]
	\arrow["{\alpha_X}", from=2-2, to=2-3]
	\arrow["{f^*}"', from=2-2, to=3-2]
	\arrow["Ff", from=2-3, to=3-3]
	\arrow["{\alpha_Y}"', from=3-2, to=3-3]
	\arrow[maps to, from=4-1, to=4-4]
\end{tikzcd}
        \end{document}
        ```


</div></div>



且图中的$\alpha$的分量都是双射，$\alpha_Y$是双射当且仅当任取$q\in FY$，唯一存在$f:Y\rightarrow X\in {\mathrm{Hom}_\mathsf{C}(Y,X)}$，使得$\alpha_Y(f)=q$，或等价地$\alpha_Y(f\circ \mathrm{id}_X) =q$，或等价地$Ff(p)=q$。总的来说，关于$X$的泛性质给出了指向$X$的箭头的唯一存在的条件。


[[2024-08-12-11-18-02.png]]
待整理：泛性质的例子，张量积{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] marginnote.p.127

### 极限
极限是寻找具有泛性质的态射的方法，极限的重要例子包括：积(product)，相等化子(equilizer)和终对象(terminal object)。

补充这里（有助于理解积拓扑？[讨论球面和环面的区别](https://math.stackexchange.com/questions/4208133/why-is-s1-times-s1-torus-and-s2-ne-s1-times-s1)）

### 幺半范畴 Monoidal Category

幺半范畴中，作为结合子(associator)的自然同构$(A\otimes B)\otimes C\xrightarrow{\alpha_{A,B,C}}A\otimes(B\otimes C)$是指函子$F:(A,B,C)\mapsto (A\otimes B)\otimes C$和$G:(A,B,C)\mapsto A\otimes( B\otimes C)$这两个函子之间的自然同构，自然性是指相应的交换图。


# 松散的内容
- [reference request - Category Theory Zoo - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1639034/category-theory-zoo)

一些反范畴
- [general topology - What is the opposite category of $\operatorname{Top}$? - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1711330/what-is-the-opposite-category-of-operatornametop)

- [A Survey of Graphical Languages for Monoidal Categories | SpringerLink](https://link.springer.com/chapter/10.1007/978-3-642-12821-9_4)