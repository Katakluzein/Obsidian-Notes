---
{"dg-publish":true,"permalink":"/1 Stories of Bizzo's Life/1 数学基础/范畴/","tags":["范畴论"]}
---



### 范畴与函子

> [!definition] 范畴{\cite[Def.2.1.1
> - {liwenweiav1}}]\label{def:cat}
>   一个范畴 $\mathsf{C}$ 系指以下资料:
>   \begin{enumerate}
> - 集合 $\operatorname{Ob}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**对象**.
> - 集合 $\operatorname{Mor}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**态射**, 配上一对映射$\operatorname{Mor}(\mathsf{C}) \stackrel{s,t}{\rightrightarrows} \operatorname{Ob}(\mathsf{C})$,其中 $s$ 和 $t$ 分别给出态射的来源(定义域 domain)和目标(陪域 codomain). 对于 $X, Y \in \mathrm{Ob}(\mathsf{C})$, 一般习惯记 $\operatorname{Hom}_{\mathsf{C}}(X, Y):=s^{-1}(X) \cap t^{-1}(Y)$ ，简记为 $\operatorname{Hom}(X, Y)$或$\mathsf{C}(X,Y)$, 称为 $\operatorname{Hom}$-集, 其元素以$X$为来源且以$Y$为目标，称为从 $X$ 到 $Y$ 的态射.
> - 对每个对象 $X$ 给定元素 $\operatorname{id}_{X} \in \operatorname{Hom}_{C}(X, X)$, 称为 $X$ 到自身的**恒等态射**.
> - 对于任意 $X, Y, Z \in \mathrm{Ob}(\mathsf{C})$, 给定态射间的合成映射
>
$$
\begin{aligned}
\circ: \operatorname{Hom}_{\mathsf{C}}(Y, Z) \times \operatorname{Hom}_{\mathsf{C}}(X, Y) & \longrightarrow \operatorname{Hom}_{\mathsf{C}}(X, Z) \\
(f, g) & \longmapsto f \circ g,
\end{aligned}
$$
>   不致混淆时常将 $f \circ g$ 简记为 $f g$. 它满足
>
> - 结合律: 对于任意态射 $h, g, f \in \operatorname{Mor}(\mathsf{C})$, 若合成 $f(g h)$ 和 $(f g) h$ 都有定义,则
>
$$
f(g h)=(f g) h .
$$
>   故两边可以同写为 $f \circ g \circ h$ 或 $f g h$;
> - 对于任意态射 $f \in \operatorname{Hom}_{\mathsf{C}}(X, Y)$, 有
>
$$
f \circ \mathrm{id}_{X}=f=\operatorname{id}_{Y} \circ f
$$
>   \end{enumerate}
>   始对象$A$：从$A$到任何其他对象之间都有且只有一个态射。
>
>   终对象$A$：从任何其他对象到$A$之间都有且只有一个态射。

> [!note]
> - 对于态射 $f: X \rightarrow Y$, 若存在 $g: Y \rightarrow X$ 使得 $f g=\operatorname{id}_{Y}, g f=\operatorname{id}_{X}$, 则称 $f$ 是**同构** ，或称为**可逆**, 写作 $X \stackrel{f}{\cong} Y$ ， $g$ 称为 $f$ 的逆。Rotman将$f$和$g$残臭中的等价(equivalence)（[[rotman2013alto\|rotman2013alto]] p.12）。态射都是有方向的，不需要担心$f$和$g$之间的对易性。两条式子互不蕴含，为了证明同构，两者缺一不可。对象的“同构”是数学中两个对象是否在某种意义下“相等”的严格定义，只有态射才谈及“相等”，这个相等对于一些具体的例子来说是可以判断的，但是没有一般的方法来判断两个态射是否相等，在高阶范畴中，可以进一步谈论态射之间态射和“同构”。
>
>   称态射的左逆或右逆为分裂(splitting)。态射存在左逆，则一定是单射，反之不然；态射存在右逆，则一定是满射，反之不然。
>
>   从恒等态射的性质易见逆若存在则唯一。从 $X$ 到 $Y$ 的同构集记为 $\operatorname{Isom}_{\mathsf{C}}(X, Y)$.
>
>
>
>   在大多数情形中，对象都被解释为系统，而态射都被解释为过程。

> [!example] 范畴
> - 下面列举一些常见的范畴和相关概念，一个更大的列表参见[nLab链接](https://ncatlab.org/nlab/show/database+of+categories)。
>
> - 范畴：对象 ；态射
> - 具体范畴：以集合为对象；以函数为态射。对于具体范畴，通常以集合的名字来称呼这个具体范畴。
> - 小范畴：态射构成集合的范畴。
> - 局部小范畴(locally small)：任何两个对象之间的态射构成集合的范畴，这时候才有$\mathrm{Hom}$-集的概念，大多数情况下范畴都是局部小的。
> - $\mathsf{Set}$：集合 ；集合之间的映射。
> - $\mathsf{Grp}$：群 ；群同态。
> - $\mathsf{Ab}$：阿贝尔群 ；群同态。
> - $\mathsf{Top}$：拓扑空间 ；连续映射。
> - $\mathsf{Top_*}$：带基点的拓扑空间 ；保持基点的连续映射。
> - $\mathsf{Top}^2$：拓扑空间对 ；保持包含关系的连续映射。
> - $\mathsf{TopGrp}$：拓扑群；连续群同态。
> - $\mathsf{Comp}$：链复形 ；链映射。
> - $\mathsf{hTop}$：拓扑空间 ；连续映射的同伦等价类。
> - 广群(groupoid)：每个态射都是同构(可逆)的范畴，例如群$G$
> - $\mathsf{B}G$只有一个对象的广群：没有具体含义的单点 ；群元。
> - $\mathsf{Vect}$：线性空间 ；线性映射。
> - $\mathsf{Mat}$：自然数 ；矩阵(值域和陪域分别决定矩阵的列数和行数)。
> - $\mathsf{Ring}$：环 ；环同态。
> - $\mathsf{Diff}$：光滑流形 ；光滑映射。
> - $\mathsf{Rel}${（[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.5）}：集合，集合之间的二元关系。
> - preordered set：集合中的元素 ；集合上的自反以及传递的关系$\leqslant$。
> - $\mathsf{Poset}$：偏序集 ；单调函数$x\leqslant y\implies f(x)\leqslant f(y)$
> - $\mathsf{Hilb}$：希尔伯特空间；等距映射(亦或者某种保持希尔伯特空间结构的映射，[nLab](ncatlab.org/nlab/show/Hilb)中的定义令人困惑)。
> - $\mathsf{Meas}$：可测空间；可测映射。
> - 两个范畴$[\mathsf{C},\mathsf{D}]$之间的的函子范畴(functor category)：函子$F:\mathsf{C}\rightarrow \mathsf{D}$，自然变换$\alpha:F\implies G$。设$\mathsf{I}$是小范畴$\mathsf{C}$是范畴，那么$\mathsf{C}$中形状为$\mathsf{I}$的**图**是函子$\mathsf{I}\rightarrow \mathsf{C}$，函子范畴$[\mathsf{I},\mathsf{C}]$被称为$\mathsf{C}$中的以$\mathsf{I}$为形状的**图的范畴**。

在范畴论中，态射比对象重要。

> [!definition] 反范畴{\cite[Def.2.1.10
> - {liwenweiav1}}]
>   对于任意范畴 $\mathsf{C}$, 其**反范畴** $\mathsf{C}^{\mathrm{op}}$ 定义如下:
>
> - $\operatorname{Ob}\left(\mathsf{C}^{\mathrm{op}}\right)=\operatorname{Ob}(\mathsf{C})$,
> - 对任意对象 $X, Y, \operatorname{Hom}_{\mathsf{C}^\mathrm{op}}(X, Y):=\operatorname{Hom}_{\mathsf{C}}(Y, X)$,
> - 态射 $f \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(Y, Z), g \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(X, Y)$ 在 $\mathsf{C}^{\mathrm{op}}$ 中的合成 $f \circ^{\mathrm{op}} g$ 定义为 $\mathsf{C}$ 中的反向合成 $g \circ f$,
> - 恒等态射定义同 $\mathsf{C}$.

> [!note]
> - 反范畴就是将箭头取反，其他都不变。注意mono变成了epi，反之亦然。
>
>   $\mathsf{Set}^{\mathrm{op}}$中的态射是原像吗？[SE贴](math.stackexchange.com/questions/980933/what-is-the-opposite-category-of-set)
>
>   对偶性指的是范畴和对偶范畴的性质之间的对应关系。
>
>   如果一个定理对任何范畴都成立，那么只需要对$\mathsf{C}$证明一次就可以得到它对偶的定理对$\mathsf{C}^{\mathrm{op}}$也成立，方法是$\mathsf{C}$直接替换为$\mathsf{C}^{\mathrm{op}}$。

> [!definition] mono, epi；收回，截面
> - 设$f:Y\rightarrow Z$
>
> - 如果对任何$h,k: X \rightarrow Y$，有$fh=fk$蕴含$h=k$，则称$f$是**mono**(后作用的可以约掉)；
> - 如果对任何$h,k:Z\rightarrow W$，有$hf=kf$蕴含$h=k$，则称$f$是**epi**(先作用的可以约掉)。
>
>   在范畴中，
>
> - 收回(retraction)、可裂满态射(split epimorphisms)是某个态射$f$的左逆，$f$被称为可裂单态射(split mono)，
> - 截面(section)、可裂单态射(split monomorphisms)是某个态射$f$的右逆，$f$被称为可裂满态射(split epi)。
>   记忆：单射是可以收回的。

> [!example] ~retract 收缩核{\cite[ex.0.1
> - {rotman2013alto}}]
>   对于阿贝尔群$H$和$G$，如果$H$是$G$的子群且存在同态$r:G\rightarrow H$使得$r\circ \iota = \mathrm{id}_{H}$，那么称$H$是$G$的收缩核，$r$称为收回映射(retraction) 。$H$是$G$的收缩核，当且仅当$H$是$G$的一个直和项。只要证明$G=H\oplus \mathrm{ker} r$。

> [!note]
> - 注意区分上述定义的mono/epi，单射/满射，单态射/满态射。这里不将mono/epi翻译为单态射/满态射以作区分。
>
>
>
>   对于具体范畴来说，单态射都是mono，满态射都是epi。
>
>   epi不必是满射，幺半群中的包含映射$\mathbb{N}\mapsto \mathbb{Z}$是epi但不是满射，练习已证{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.19）}。但对于$\mathsf{Set}$，$\mathsf{Grp}$(wiki:epimorphism)，$\mathsf{Vect}$，$\mathsf{Top}$来说，epi都是满射{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.18）}。
>
>   对一般的范畴来说，不是所有的单态射都存在收回(左逆,split epi)，对拓扑范畴来说，不是所有的包含映射都存在收回，这是因为覆水难收，例如没有从$D^2$到$S^1$的收回，他们的基本群分别是$\{0\}$和$\mathbb{Z}$，利用函子$\pi_1$保持态射的左右可逆性可以证明某些左右逆射不存在，这引出了下面的证明技巧。

\begin{trick}
    利用函子保持左右可逆性，可知如果函子打过去的态射$Ff$不是左或右可逆的，则原来的态射$f$也不是左或有可逆的，即态射不存在收回或者截面。
\end{trick}
> [!example]
> - 线性空间中的mono和单射等价。先证必要性，对于任意的mono $A$和任意线性映射$B$，$AB=0$，即$\mathrm{im}B \subset \mathrm{ker}A$，蕴含$B=0$，即$\mathrm{im}B=0$，则有$\mathrm{ker}A=0$，因此$A$是单射。反之，如果$\mathrm{ker}A=0$，则有$B=0$，因此$A$是单态射。

> [!theorem] mono与epi的性质
> - \begin{enumerate}
> - split epi $\implies$ epi
> - split mono $\implies$ mono
> - iso $\iff$ split mono 且 epi
> - iso $\iff$ mono 且 split epi
> - mono/epi 是反范畴中的 epi/mono
>   \end{enumerate}

> [!proof]
> - 只证3.充分性，设$f:X\rightarrow Y$是split mono，即存在左逆(retraction、split epi)$~g:Y\rightarrow X$使得
>
$$
g\circ f=\mathrm{id}_Y
$$
>
>   eq-eq-gcfeqidy
>
>   由于$f$是epi，因此任取$f_{1,2}:Y\rightarrow Y$，$f_1f=f_2f$蕴含$f_1=f_2$。只要证$(f\circ g)\circ f=\mathrm{id}_Y \circ f$，这显然成立，在式{eq:gcfeqidy}右边接上$f$即得。

> [!definition] 函子
> - 设 $\mathsf{C}^{\prime}, \mathsf{C}$ 为范畴. 一个**函子** $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 意谓以下资料:
>   \begin{enumerate}
> - 对象间的映射 $F: \mathrm{Ob}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Ob}(\mathsf{C})$.
> - 态射间的映射 $F: \operatorname{Mor}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Mor}(\mathsf{C})$, 使得对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$ 皆有映射
$$
F: \operatorname{Hom}_{\mathsf{C}^{\prime}}(X, Y) \rightarrow \operatorname{Hom}_{\mathsf{C}}(F X, F Y)
$$
满足
$$
F(g \circ f)=F(g) \circ F(f), F\left(\mathrm{id}_{X}\right)=\mathrm{id}_{F X}
$$


> [!note]
> - 保持箭头方向的称为共变函子，反转箭头方向的称为反变函子。
>
>   作为范畴的拥有等价关系的集合$(X,\sim)$，$(Y,\sim)$之间的函子保持等价关系，但是并不反映等价关系，等价关系可以被创造，也就是说可能有$Fx\sim Fy$，但没有$x\sim y$。Relations are preserved but not necessarily reflected{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] p.35）}.

> [!example] 函子
> -
> - 线性表示$R:G\rightarrow\mathsf{Vect}$之间的函子。
> - 给定的范畴$\mathsf{C}$，和其中的对象$A$，**Hom-函子**有两种，分别记为$\mathrm{Hom}(A,\cdot) =(\cdot)_*$和$\mathrm{Hom}(\cdot,A)=(\cdot)^*$，
>   > [!abstract] Contents
> - > - $\mathrm{Hom}(A,\cdot) =(\cdot)_*$作用在对象$X$上时得到指向$X$的箭头($A$刺出探针)。作用在态射$f$上时对应“将$f$合成于后”或推前。具有协变性。
>   >
>   >   对于推前，$\mathrm{Hom}_\mathsf{C}(A,\cdot):\mathsf{C}\rightarrow \mathsf{Set},~X\mapsto \mathrm{Hom}_\mathsf{C}(A,X)$，推前Hom-函子将$\mathsf{C}$中的态射$f:X\rightarrow Y$映到两个Hom-集之间的映射
$$
  \begin{aligned}
  \mathrm{Hom}_\mathsf{C}(A,f)=f\circ (\cdot) =f_*(\cdot ):\operatorname{Hom}_C(A, X) & \xrightarrow{f \circ(\cdot)} \operatorname{Hom}_C(A, Y) \\
   (A \xrightarrow{p} X) & \longmapsto(A \xrightarrow{p} X \xrightarrow{f} Y) .
  \end{aligned}
 $$
>   >   设$f:X\rightarrow Y,$~$p_1:A\rightarrow X$,~$p_2:A\rightarrow Y$是两个从$A$出发的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_1\mapsto p_2=f\circ p_1$，因此$\mathrm{Hom}(A,\cdot)$的作用效果是“后合成”，图示如下。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}"', from=1-2, to=2-1]
>   >   \arrow["{p_2}", from=1-2, to=2-3]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >  $\mathrm{Hom}(\cdot,A)=(\cdot)^*$作用在对象$X$上时得到从$X$出发的箭头($A$接收投影)。作用在态射$f$上时对应“将$f$合成于前”或拉回。具有反变性。
>   >
>   >
>   >
>   >   对于拉回，$\mathrm{Hom}_\mathsf{C}(\cdot,A):\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$，它可以提供指向$A$的箭头。$\mathrm{Hom}(\cdot,A)$将$X\in \mathrm{Ob}(\mathsf{C})$映到态射的集合$\mathrm{Hom}(X,A)$，将$f:X\rightarrow Y$打到
>   >
$$
   \begin{aligned}
   \mathrm{Hom}_\mathsf{C}(f,A)= (\cdot)  \circ f=f^*(\cdot):\operatorname{Hom}_C(A, Y) & \xrightarrow{(\cdot)  \circ f} \operatorname{Hom}_C(A, X) \\
  (Y \xrightarrow{p} A) & \longmapsto(X \xrightarrow{f} Y \xrightarrow{p} A) .
   \end{aligned}
$$
>   >
>   >   设$f:X\rightarrow Y,$~$p_1:X\rightarrow A$,~$p_2:Y\rightarrow A$是两个指向$A$的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_2\mapsto p_1= p_1\circ f$，因此$\mathrm{Hom}(A,\cdot )$的作用效果是“前合成”，图示如下。注意到$f$本身是从$X$打到$Y$的，但$\mathrm{Hom}(A,\cdot )$是从$\mathrm{Hom}(A,Y)$打到$\mathrm{Hom}(A,X)$的，这说明$\mathrm{Hom}(A,\cdot)$是反变的，否则无法将其中一个箭头写成另外两个的复合。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}", from=2-1, to=1-2]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \arrow["{p_2}"', from=2-3, to=1-2]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >
>   >

### 自然变换

[[自然变换\|自然变换]]
### 可表函子、米田嵌入

[[可表函子与米田嵌入\|可表函子与米田嵌入]]

### 泛性质

[[泛性质\|泛性质]]

# 松散的内容
- [reference request - Category Theory Zoo - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1639034/category-theory-zoo)

一些反范畴
- [general topology - What is the opposite category of $\operatorname{Top}$? - Mathematics Stack Exchange](https://math.stackexchange.com/questions/1711330/what-is-the-opposite-category-of-operatornametop)

- [A Survey of Graphical Languages for Monoidal Categories | SpringerLink](https://link.springer.com/chapter/10.1007/978-3-642-12821-9_4)