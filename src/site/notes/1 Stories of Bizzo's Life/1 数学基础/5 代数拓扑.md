---
{"dg-publish":true,"permalink":"/1 Stories of Bizzo's Life/1 数学基础/5 代数拓扑/","tags":["拓扑"]}
---



> [!quote] 
> 光に覆われし漆黒よ。 夜を纏いし爆炎よ。 他はともかく、 爆裂魔法のことに関しては私は誰にも負けたくないのです！ 行きます！ 我が究極の破壊魔法、 エクスプロージョン！ 
> ——めぐみん 
>  

> [!abstract] Contents
> - 点集拓扑
> - [[1 Stories of Bizzo's Life/1 数学基础/范畴\|范畴]]论
> - 基本群
> - 奇异同调

## 简介
[[1 Stories of Bizzo's Life/1 数学基础/5 代数拓扑\|代数拓扑]]能将空间的几何性质约化为代数性质，它使用抽象代数的工具来研究拓扑空间。基本目标是找到同胚代数不变量，尽管通常只能分类到同伦等价不变量。

在[[1 Stories of Bizzo's Life/1 数学基础/几何\|几何]]拓扑和代数拓扑中，许多重要的空间是商空间。它们是通过等价关系从给定的空间中获得的。尽管商拓扑在形式上很容易定义，但玩转它需要一些时间。在数学的几个分支中，商对象比子对象更难处理。即使从一个好的、众所周知的空间开始构造，它的商空间也可能具有奇怪的性质；为了排除不必要的现象，通常必须添加一些假设。商空间通常不会从原始空间继承所需的属性{（[[tom2008algebraic\|tom2008algebraic]] p6）}。

本章使用的一些记号
> [!abstract] Contents
> - 链群之间的同态或者链复形之间的链映射$f_\# =S_*(f)$，参见式$\eqref{eq:fsharp}$。
> - 同伦使用符号$\simeq$，同构使用符号$\cong$
> - $\mathrm{cls}$表示等价类
> - 同调群之间的映射$f_*=H_n(f)$

 

## 点集拓扑
\label{sec:pointsettop}

重要的概念，下列提到的映射默认连续，强调不必连续时称之为“集合映射”
> [!abstract] Contents
> - 基本概念
>   
> - 拓扑空间，开集、闭集
> - 拓扑基和子基，判断给定的集族是否构成拓扑基、判断给定的集族是否为给定拓扑的拓扑基
> - 连续映射(原像保持开或闭)和同胚，开映射和闭映射(像集保持开、闭)。连续映射定义为原像保持开集的映射。连续、开、闭任何两个不蕴含第三个。
> - 若函数及其逆映射都是连续的，则称为同胚。双射是同胚当且仅当它是开或者闭的。
> - 闭包、稠密、内部、内点、无处稠密(闭包的内部是空集)、边界、聚点。
> - 开邻域、邻域、邻域基
> - 分离性、Haussdorff=$T_2$
> - 用度量诱导拓扑、度量空间上的一致连续函数和一致收敛函数列
> - 有向集(direct set)、网(net)(点列的推广)、子网、点列的收敛、极限点。在更细的拓扑中收敛蕴含在更粗的拓扑中收敛([SE帖](https://math.stackexchange.com/questions/2105678/convergence-in-finer-coarser-topology))。
> - 子空间
> - 子集诱导的子空间拓扑
> - 嵌入(与微分几何中的嵌入比较，参见：定义\ref{def:subimmersion})、嵌入的泛性质
> - 收回(retraction)($r:X\rightarrow A,~r|_A=\mathrm{id}_A$，这样定义的收回相当于范畴意义下对包含映射$\iota:A\rightarrow X$的收回)、截面(section)。Section是右逆，retraction是左逆。
> - 商拓扑、商空间、商映射(又称identification)、正则映射(类似群论中的正则同态)，满射就是等价关系。


> [!definition] 商映射
> - 连续满射 $f: X \rightarrow Y$ 称为**商映射**(又称identification)如果$Y$子集 $U$ 是开集当且仅当 $f^{-1}(U)$ 是 $X$中的开集。

> [!definition] 商拓扑 p.19  [[rotman2013alto\|rotman2013alto]]
>   设 $X$ 是一个拓扑空间，并设 $X' = \{X_j : j \in J\}$ 是 $X$ 的一个\textbf{划分} (partition)（其中每个 $X_j$ 都是非空子集，$X = \bigcup_{j \in J} X_j$，且诸 $X_j$ 两两不交）。
>
>   **自然映射** (natural map) $\nu: X \to X'$ 定义为 $\nu(x) = X_j$，其中 $X_j$ 是划分中包含 $x$ 的唯一子集。
>
>   在 $X'$ 上的**商拓扑** (quotient topology) 是由 $X'$ 的所有满足以下条件的子集 $U'$ 构成的拓扑：
>   $U' \subseteq X'$ 是一个开集，当且仅当其原像 $\nu^{-1}(U') = \bigcup_{X_j\in U^\prime}X_j$ 在 $X$ 中是开集。

> [!note]
> - 常见的例子是将一个拓扑空间的一个子集$A$视同，而不视同其他的所有的点，这时候商空间记为$X/A$。另一个常见的例子是$X$上存在等价关系$\sim$，此时自然映射为$\nu :x\mapsto [x]$，商空间记为$X/\sim$。此时自然映射是商映射，满射是因为商集中任何一个点都写成$[x]=\nu(x)$的形式，$\nu$的连续性是因为对任何开集$U\in X/\sim$，根据商拓扑的定义，$\nu ^{-1}(U)$在$X$中是开集，也就是说，商拓扑的定义本身保证了连续性，最后商映射需要满足的条件就上商拓扑的定义本身。商拓扑这个概念就是为了让自然映射成为一个等同映射而量身定做的。在这个利用映射构造等价关系再构造商拓扑的过程中，我们对拓扑空间和映射没有任何要求，即使它们都很奇异，这个构造也是合法的。
>
>   设$h:X\to Y$是一个函数，根据函数值相等与否定义了$X$上的一个等价关系，进而根据$X/\sim$定义了一个商空间，有时候将它记为$X/\mathrm{ker}~h$，需要注意的是这里使用的是第二种定义方式，而不是将$\mathrm{ker} h$坍缩为同一个点的第一种方式。这两种理解在绝大多数情况下是不一样的，考虑反例
>   $h:[-1,1]\to [0,1]$,$\mathrm{ker}h=\{-1,1\}$，按照等价关系来定义商空间，我们将对称的点粘合在一起，如果按照集合来定义商空间，我们只将两个端点粘合在一起。
>
>   证明一个映射是商映射相当于在证明$Y$上的拓扑就是$f$诱导的商拓扑。
>
>   连续的满的开映射是商映射，但是反之不然，存在不是开映射的商映射。如果商映射是构建在拓扑群到其商集上的，那么商映射一定是开的，参见定理\ref{th:quotientmapopen}。
>
>   连续的满的闭映射是商映射，但是反之不然，存在不是闭映射的商映射。

> [!theorem] 商映射的泛性质{} （[[rotman2013alto\|rotman2013alto]] Th.1.8）
> - 设$f:X\to Y$是连续满映射，则$f$是商映射当且仅当对于任何拓扑空间$Z$和任何函数$g:Y\to Z$，都有以下结论：$g$连续当且仅当$g\circ f$连续。

## 范畴论

### 范畴与函子\label{ssec:cnf}
> [!definition] 范畴{\cite[Def.2.1.1
> - {liwenweiav1}}]\label{def:cat}
>   一个范畴 $\mathsf{C}$ 系指以下资料:
>   \begin{enumerate}
> - 集合 $\operatorname{Ob}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**对象**.
> - 集合 $\operatorname{Mor}(\mathsf{C})$, 其元素称作 $\mathsf{C}$ 的**态射**, 配上一对映射$\operatorname{Mor}(\mathsf{C}) \stackrel{s,t}{\rightrightarrows} \operatorname{Ob}(\mathsf{C})$,其中 $s$ 和 $t$ 分别给出态射的来源(定义域 domain)和目标(陪域 codomain). 对于 $X, Y \in \mathrm{Ob}(\mathsf{C})$, 一般习惯记 $\operatorname{Hom}_{\mathsf{C}}(X, Y):=s^{-1}(X) \cap t^{-1}(Y)$ ，简记为 $\operatorname{Hom}(X, Y)$或$\mathsf{C}(X,Y)$, 称为 $\operatorname{Hom}$-集, 其元素以$X$为来源且以$Y$为目标，称为从 $X$ 到 $Y$ 的态射.
> - 对每个对象 $X$ 给定元素 $\operatorname{id}_{X} \in \operatorname{Hom}_{C}(X, X)$, 称为 $X$ 到自身的**恒等态射**.
> - 对于任意 $X, Y, Z \in \mathrm{Ob}(\mathsf{C})$, 给定态射间的合成映射
>
$$
\begin{aligned}
\circ: \operatorname{Hom}_{\mathsf{C}}(Y, Z) \times \operatorname{Hom}_{\mathsf{C}}(X, Y) & \longrightarrow \operatorname{Hom}_{\mathsf{C}}(X, Z) \\
(f, g) & \longmapsto f \circ g,
\end{aligned}
$$
>   不致混淆时常将 $f \circ g$ 简记为 $f g$. 它满足
>
> - 结合律: 对于任意态射 $h, g, f \in \operatorname{Mor}(\mathsf{C})$, 若合成 $f(g h)$ 和 $(f g) h$ 都有定义,则
>
$$
f(g h)=(f g) h .
$$
>   故两边可以同写为 $f \circ g \circ h$ 或 $f g h$;
> - 对于任意态射 $f \in \operatorname{Hom}_{\mathsf{C}}(X, Y)$, 有
>
$$
f \circ \mathrm{id}_{X}=f=\operatorname{id}_{Y} \circ f
$$
>   \end{enumerate}
>   始对象$A$：从$A$到任何其他对象之间都有且只有一个态射。
>
>   终对象$A$：从任何其他对象到$A$之间都有且只有一个态射。

> [!note]
> - 对于态射 $f: X \rightarrow Y$, 若存在 $g: Y \rightarrow X$ 使得 $f g=\operatorname{id}_{Y}, g f=\operatorname{id}_{X}$, 则称 $f$ 是**同构** ，或称为**可逆**, 写作 $X \stackrel{f}{\cong} Y$ ， $g$ 称为 $f$ 的逆。Rotman将$f$和$g$残臭中的等价(equivalence)（[[rotman2013alto\|rotman2013alto]] p.12）。态射都是有方向的，不需要担心$f$和$g$之间的对易性。两条式子互不蕴含，为了证明同构，两者缺一不可。对象的“同构”是数学中两个对象是否在某种意义下“相等”的严格定义，只有态射才谈及“相等”，这个相等对于一些具体的例子来说是可以判断的，但是没有一般的方法来判断两个态射是否相等，在高阶范畴中，可以进一步谈论态射之间态射和“同构”。
>
>   称态射的左逆或右逆为分裂(splitting)。态射存在左逆，则一定是单射，反之不然；态射存在右逆，则一定是满射，反之不然。
>
>   从恒等态射的性质易见逆若存在则唯一。从 $X$ 到 $Y$ 的同构集记为 $\operatorname{Isom}_{\mathsf{C}}(X, Y)$.
>
>
>
>   在大多数情形中，对象都被解释为系统，而态射都被解释为过程。

> [!example] 范畴
> - 下面列举一些常见的范畴和相关概念，一个更大的列表参见[nLab链接](https://ncatlab.org/nlab/show/database+of+categories)。
>
> - 范畴：对象 ；态射
> - 具体范畴：以集合为对象；以函数为态射。对于具体范畴，通常以集合的名字来称呼这个具体范畴。
> - 小范畴：态射构成集合的范畴。
> - 局部小范畴(locally small)：任何两个对象之间的态射构成集合的范畴，这时候才有$\mathrm{Hom}$-集的概念，大多数情况下范畴都是局部小的。
> - $\mathsf{Set}$：集合 ；集合之间的映射。
> - $\mathsf{Grp}$：群 ；群同态。
> - $\mathsf{Ab}$：阿贝尔群 ；群同态。
> - $\mathsf{Top}$：拓扑空间 ；连续映射。
> - $\mathsf{Top_*}$：带基点的拓扑空间 ；保持基点的连续映射。
> - $\mathsf{Top}^2$：拓扑空间对 ；保持包含关系的连续映射。
> - $\mathsf{TopGrp}$：拓扑群；连续群同态。
> - $\mathsf{Comp}$：链复形 ；链映射。
> - $\mathsf{hTop}$：拓扑空间 ；连续映射的同伦等价类。
> - 广群(groupoid)：每个态射都是同构(可逆)的范畴，例如群$G$
> - $\mathsf{B}G$只有一个对象的广群：没有具体含义的单点 ；群元。
> - $\mathsf{Vect}$：线性空间 ；线性映射。
> - $\mathsf{Mat}$：自然数 ；矩阵(值域和陪域分别决定矩阵的列数和行数)。
> - $\mathsf{Ring}$：环 ；环同态。
> - $\mathsf{Diff}$：光滑流形 ；光滑映射。
> - $\mathsf{Rel}${（[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.5）}：集合，集合之间的二元关系。
> - preordered set：集合中的元素 ；集合上的自反以及传递的关系$\leqslant$。
> - $\mathsf{Poset}$：偏序集 ；单调函数$x\leqslant y\implies f(x)\leqslant f(y)$
> - $\mathsf{Hilb}$：希尔伯特空间；等距映射(亦或者某种保持希尔伯特空间结构的映射，[nLab](ncatlab.org/nlab/show/Hilb)中的定义令人困惑)。
> - $\mathsf{Meas}$：可测空间；可测映射。
> - 两个范畴$[\mathsf{C},\mathsf{D}]$之间的的函子范畴(functor category)：函子$F:\mathsf{C}\rightarrow \mathsf{D}$，自然变换$\alpha:F\implies G$。设$\mathsf{I}$是小范畴$\mathsf{C}$是范畴，那么$\mathsf{C}$中形状为$\mathsf{I}$的**图**是函子$\mathsf{I}\rightarrow \mathsf{C}$，函子范畴$[\mathsf{I},\mathsf{C}]$被称为$\mathsf{C}$中的以$\mathsf{I}$为形状的**图的范畴**。

在范畴论中，态射比对象重要。

> [!definition] 反范畴{\cite[Def.2.1.10
> - {liwenweiav1}}]
>   对于任意范畴 $\mathsf{C}$, 其**反范畴** $\mathsf{C}^{\mathrm{op}}$ 定义如下:
>
> - $\operatorname{Ob}\left(\mathsf{C}^{\mathrm{op}}\right)=\operatorname{Ob}(\mathsf{C})$,
> - 对任意对象 $X, Y, \operatorname{Hom}_{\mathsf{C}^\mathrm{op}}(X, Y):=\operatorname{Hom}_{\mathsf{C}}(Y, X)$,
> - 态射 $f \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(Y, Z), g \in \operatorname{Hom}_{\mathsf{C}^{\mathrm{op}}}(X, Y)$ 在 $\mathsf{C}^{\mathrm{op}}$ 中的合成 $f \circ^{\mathrm{op}} g$ 定义为 $\mathsf{C}$ 中的反向合成 $g \circ f$,
> - 恒等态射定义同 $\mathsf{C}$.

> [!note]
> - 反范畴就是将箭头取反，其他都不变。注意mono变成了epi，反之亦然。
>
>   $\mathsf{Set}^{\mathrm{op}}$中的态射是原像吗？[SE贴](math.stackexchange.com/questions/980933/what-is-the-opposite-category-of-set)
>
>   对偶性指的是范畴和对偶范畴的性质之间的对应关系。
>
>   如果一个定理对任何范畴都成立，那么只需要对$\mathsf{C}$证明一次就可以得到它对偶的定理对$\mathsf{C}^{\mathrm{op}}$也成立，方法是$\mathsf{C}$直接替换为$\mathsf{C}^{\mathrm{op}}$。

> [!definition] mono, epi；收回，截面
> - 设$f:Y\rightarrow Z$
>
> - 如果对任何$h,k: X \rightarrow Y$，有$fh=fk$蕴含$h=k$，则称$f$是**mono**(后作用的可以约掉)；
> - 如果对任何$h,k:Z\rightarrow W$，有$hf=kf$蕴含$h=k$，则称$f$是**epi**(先作用的可以约掉)。
>
>   在范畴中，
>
> - 收回(retraction)、可裂满态射(split epimorphisms)是某个态射$f$的左逆，$f$被称为可裂单态射(split mono)，
> - 截面(section)、可裂单态射(split monomorphisms)是某个态射$f$的右逆，$f$被称为可裂满态射(split epi)。
>   记忆：单射是可以收回的。

> [!example] ~retract 收缩核{\cite[ex.0.1
> - {rotman2013alto}}]
>   对于阿贝尔群$H$和$G$，如果$H$是$G$的子群且存在同态$r:G\rightarrow H$使得$r\circ \iota = \mathrm{id}_{H}$，那么称$H$是$G$的收缩核，$r$称为收回映射(retraction) 。$H$是$G$的收缩核，当且仅当$H$是$G$的一个直和项。只要证明$G=H\oplus \mathrm{ker} r$。

> [!note]
> - 注意区分上述定义的mono/epi，单射/满射，单态射/满态射。这里不将mono/epi翻译为单态射/满态射以作区分。
>
>
>
>   对于具体范畴来说，单态射都是mono，满态射都是epi。
>
>   epi不必是满射，幺半群中的包含映射$\mathbb{N}\mapsto \mathbb{Z}$是epi但不是满射，练习已证{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.19）}。但对于$\mathsf{Set}$，$\mathsf{Grp}$(wiki:epimorphism)，$\mathsf{Vect}$，$\mathsf{Top}$来说，epi都是满射{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] ex.1.2.18）}。
>
>   对一般的范畴来说，不是所有的单态射都存在收回(左逆,split epi)，对拓扑范畴来说，不是所有的包含映射都存在收回，这是因为覆水难收，例如没有从$D^2$到$S^1$的收回，他们的基本群分别是$\{0\}$和$\mathbb{Z}$，利用函子$\pi_1$保持态射的左右可逆性可以证明某些左右逆射不存在，这引出了下面的证明技巧。

\begin{trick}
    利用函子保持左右可逆性，可知如果函子打过去的态射$Ff$不是左或右可逆的，则原来的态射$f$也不是左或有可逆的，即态射不存在收回或者截面。
\end{trick}
> [!example]
> - 线性空间中的mono和单射等价。先证必要性，对于任意的mono $A$和任意线性映射$B$，$AB=0$，即$\mathrm{im}B \subset \mathrm{ker}A$，蕴含$B=0$，即$\mathrm{im}B=0$，则有$\mathrm{ker}A=0$，因此$A$是单射。反之，如果$\mathrm{ker}A=0$，则有$B=0$，因此$A$是单态射。

> [!theorem] mono与epi的性质
> - \begin{enumerate}
> - split epi $\implies$ epi
> - split mono $\implies$ mono
> - iso $\iff$ split mono 且 epi
> - iso $\iff$ mono 且 split epi
> - mono/epi 是反范畴中的 epi/mono
>   \end{enumerate}

> [!proof]
> - 只证3.充分性，设$f:X\rightarrow Y$是split mono，即存在左逆(retraction、split epi)$~g:Y\rightarrow X$使得
>
$$
g\circ f=\mathrm{id}_Y
$$
>
>   eq-eq-gcfeqidy
>
>   由于$f$是epi，因此任取$f_{1,2}:Y\rightarrow Y$，$f_1f=f_2f$蕴含$f_1=f_2$。只要证$(f\circ g)\circ f=\mathrm{id}_Y \circ f$，这显然成立，在式\eqref{eq:gcfeqidy}右边接上$f$即得。

> [!definition] 函子
> - 设 $\mathsf{C}^{\prime}, \mathsf{C}$ 为范畴. 一个**函子** $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 意谓以下资料:
>   \begin{enumerate}
> - 对象间的映射 $F: \mathrm{Ob}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Ob}(\mathsf{C})$.
> - 态射间的映射 $F: \operatorname{Mor}\left(\mathsf{C}^{\prime}\right) \rightarrow \operatorname{Mor}(\mathsf{C})$, 使得对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$ 皆有映射
$$
F: \operatorname{Hom}_{\mathsf{C}^{\prime}}(X, Y) \rightarrow \operatorname{Hom}_{\mathsf{C}}(F X, F Y)
$$
满足
$$
F(g \circ f)=F(g) \circ F(f), F\left(\mathrm{id}_{X}\right)=\mathrm{id}_{F X}
$$


> [!note]
> - 保持箭头方向的称为共变函子，反转箭头方向的称为反变函子。
>
>   作为范畴的拥有等价关系的集合$(X,\sim)$，$(Y,\sim)$之间的函子保持等价关系，但是并不反映等价关系，等价关系可以被创造，也就是说可能有$Fx\sim Fy$，但没有$x\sim y$。Relations are preserved but not necessarily reflected{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] p.35）}.

> [!example] 函子
> -
> - 线性表示$R:G\rightarrow\mathsf{Vect}$之间的函子。
> - 给定的范畴$\mathsf{C}$，和其中的对象$A$，**Hom-函子**有两种，分别记为$\mathrm{Hom}(A,\cdot) =(\cdot)_*$和$\mathrm{Hom}(\cdot,A)=(\cdot)^*$，
>   > [!abstract] Contents
> - > - $\mathrm{Hom}(A,\cdot) =(\cdot)_*$作用在对象$X$上时得到指向$X$的箭头($A$刺出探针)。作用在态射$f$上时对应“将$f$合成于后”或推前。具有协变性。
>   >
>   >   对于推前，$\mathrm{Hom}_\mathsf{C}(A,\cdot):\mathsf{C}\rightarrow \mathsf{Set},~X\mapsto \mathrm{Hom}_\mathsf{C}(A,X)$，推前Hom-函子将$\mathsf{C}$中的态射$f:X\rightarrow Y$映到两个Hom-集之间的映射
$$
  \begin{aligned}
  \mathrm{Hom}_\mathsf{C}(A,f)=f\circ (\cdot) =f_*(\cdot ):\operatorname{Hom}_C(A, X) & \xrightarrow{f \circ(\cdot)} \operatorname{Hom}_C(A, Y) \\
   (A \xrightarrow{p} X) & \longmapsto(A \xrightarrow{p} X \xrightarrow{f} Y) .
  \end{aligned}
 $$
>   >   设$f:X\rightarrow Y,$~$p_1:A\rightarrow X$,~$p_2:A\rightarrow Y$是两个从$A$出发的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_1\mapsto p_2=f\circ p_1$，因此$\mathrm{Hom}(A,\cdot)$的作用效果是“后合成”，图示如下。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}"', from=1-2, to=2-1]
>   >   \arrow["{p_2}", from=1-2, to=2-3]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >  $\mathrm{Hom}(\cdot,A)=(\cdot)^*$作用在对象$X$上时得到从$X$出发的箭头($A$接收投影)。作用在态射$f$上时对应“将$f$合成于前”或拉回。具有反变性。
>   >
>   >
>   >
>   >   对于拉回，$\mathrm{Hom}_\mathsf{C}(\cdot,A):\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$，它可以提供指向$A$的箭头。$\mathrm{Hom}(\cdot,A)$将$X\in \mathrm{Ob}(\mathsf{C})$映到态射的集合$\mathrm{Hom}(X,A)$，将$f:X\rightarrow Y$打到
>   >
$$
   \begin{aligned}
   \mathrm{Hom}_\mathsf{C}(f,A)= (\cdot)  \circ f=f^*(\cdot):\operatorname{Hom}_C(A, Y) & \xrightarrow{(\cdot)  \circ f} \operatorname{Hom}_C(A, X) \\
  (Y \xrightarrow{p} A) & \longmapsto(X \xrightarrow{f} Y \xrightarrow{p} A) .
   \end{aligned}
$$
>   >
>   >   设$f:X\rightarrow Y,$~$p_1:X\rightarrow A$,~$p_2:Y\rightarrow A$是两个指向$A$的箭头，那么根据函子保持态射的性质，应该有$\mathrm{Hom}(A,f):p_2\mapsto p_1= p_1\circ f$，因此$\mathrm{Hom}(A,\cdot )$的作用效果是“前合成”，图示如下。注意到$f$本身是从$X$打到$Y$的，但$\mathrm{Hom}(A,\cdot )$是从$\mathrm{Hom}(A,Y)$打到$\mathrm{Hom}(A,X)$的，这说明$\mathrm{Hom}(A,\cdot)$是反变的，否则无法将其中一个箭头写成另外两个的复合。
>   >
>   >   ```tikz
>   >   \usepackage{amsmath}
>   >   \usepackage{tikz-cd}
>   >   \begin{document}
>   >   \begin{tikzcd}
>   >   & A \\
>   >   X && Y
>   >   \arrow["{p_1}", from=2-1, to=1-2]
>   >   \arrow["f"', from=2-1, to=2-3]
>   >   \arrow["{p_2}"', from=2-3, to=1-2]
>   >   \end{tikzcd}
>   >   \end{document}
>   >   ```
>   >
>   >

### 自然变换

> [!definition] 自然变换，或函子之间的态射{\cite[Def.2.2.5
> - {liwenweiav1}}]\label{def:natraltrans}
>   具有相同变性(variance)的函子 $F, G: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 之间的**自然变换** $\theta$ 是一族态射
>
$$
\theta_{X} \in \operatorname{Hom}_{\mathsf{C}}(F X, G X), \quad X \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right),
$$
>   称为$\theta$在$X$处的分量(component){（[[MonomorphismWikiwandArticles\|MonomorphismWikiwandArticles]] def.1.4.1）}，使得下图对所有 $\mathsf{C}^{\prime}$ 中的态射 $f: X \rightarrow Y$ 交换，
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=small]
>   FX && GX \\
>   \\
>   FY && GY
>   \arrow["{\theta_X}", from=1-1, to=1-3]
>   \arrow["Gf", from=1-3, to=3-3]
>   \arrow["Ff"', from=1-1, to=3-1]
>   \arrow["{\theta_Y}"', from=3-1, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   或等价地
>
$$
Gf \circ \theta_X = \theta_Y \circ Ff
$$
>
>   自然变换记作 $\theta: F \implies G$, 或图解为
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=small]
>   {\mathsf{C}^\prime} &&& {\mathsf{C}}
>   \arrow[""{name=0, anchor=center, inner sep=0}, "F", color={rgb,255:red,214;green,92;blue,92}, curve={height=-24pt}, from=1-1, to=1-4]
>   \arrow[""{name=1, anchor=center, inner sep=0}, "G"', color={rgb,255:red,214;green,92;blue,214}, curve={height=24pt}, from=1-1, to=1-4]
>   \arrow["\theta", shorten <=6pt, shorten >=6pt, Rightarrow, from=0, to=1]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   上述条件称为自然性条件(natuality condition)。
>
>   如果任取$X\in \mathrm{Ob}(\mathsf{C}^\prime)$，都有$\theta_X:FX\rightarrow GX$是同构(可逆)，则称自然变换$\theta$是**自然同构**(isomorphism)或**自然等价**(equivalence)，称函子$F$和$G$是**自然等价**或者**自然同构**的，记作$G \simeq F$。

> [!note]
> - 自然变换是一系列两个函子的像之间的箭头。可以将$\theta$视为由$\mathsf{C}^\prime$中的对象$X$索引的一族态射，显然只有当$FX$和$GX$都在同一个范畴中才能定义他们之间的态射，四角和四边上的东西分别都是$\mathsf{C}$中的对象和态射。
>
>   自然变换保持了两个函子的作用、对称性或其他结构。
>
>   自然变换是一个正统的、标准的、系统的、直觉上自然的映射。
>
>   如果$\theta_X$这族态射中的每个一都是同构，那么称两个函子是自然同构的。注意区分两个函子之间的自然等价与两个范畴之间的等价。
>
>   看到自然变换$\theta:F\implies G$就插入对象$X$，称为$\theta_X:FX\rightarrow GX$
>
>   在函子范畴中，函子是对象，自然变换是函子之间的态射，因此有定义头中的称呼。
>
>   通常称分量$\theta_X$关于$X$自然，以表示$\theta$是自然变换。

> [!definition] 函子(范畴)的等价{\cite[Def.0.17
> - {heunen2019CategoriesQuantumTheory}}]
>   函子 $F: \mathsf{C}^{\prime} \rightarrow \mathsf{C}$ 称为**等价**(equivalence)如果它满足以下三个性质，
>
> - **满**(full)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，都有$F:\mathrm{Hom}(X,Y)\rightarrow \mathrm{Hom}(F(X),F(Y)), f\mapsto F(f)$是满射。即函子$F$关于态射是满射。
> - **忠实**(faithful)：对每个 $X, Y \in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，以及所有箭头对$f_1,f_2:X\rightarrow$，都有$Ff_1=Ff_2$蕴含$f_1=f_2$。即函子$F$关于态射的是单射。
> - **本质满射**(essentially surjective on objects)：对每个$A\in \operatorname{Ob}\left(\mathsf{C}\right)$ ，都存在$X\in \operatorname{Ob}\left(\mathsf{C}^{\prime}\right)$，使得$F(X)$与$A$同构。即在对象同构的意义下，函子$F$关于对象是满射。

> [!note]
> - 既可以说函子是等价，也可以说两个范畴{（[[riehl2017category\|riehl2017category]] Def.1.5.4）}是等价的。
>
>   群的线性表示的忠实性就是在函子忠实的意义下说的。

> [!example] 矩阵与线性空间之间的等价
> - 矩阵$\mathsf{Mat}$和有限维线性空间$\mathsf{FVect}$之间存在等价$F$，定义$F(n)=\mathbb{F}^{\mathrm{dim}(V)}$。给定基底以后，就可以将线性变换唯一地写成矩阵形式，反过来确定了矩阵就确定了线性变换，而有限维线性空间$V$都和$\mathbb{F}^{\mathrm{dim}(V)}$同构。

基于自然变换和自然等价，有范畴等价的另一个刻画。
> [!theorem] 用自然变换定义等价函子{},{} （[[heunen2019CategoriesQuantumTheory\|heunen2019CategoriesQuantumTheory]] Def.0.21）
> - 函子$F:\mathsf{C}\rightarrow \mathsf{D}$是等价当且仅当存在一个函子$G:\mathsf{D}\rightarrow \mathsf{C}$使得函子的自然等价成立$F\circ G\simeq \mathrm{id}_\mathsf{C}$ 以及$G\circ F\simeq \mathrm{id}_\mathsf{D}$，称$G$和$F$互为**伪逆**(pseudo)。

> [!proof]
> 

> [!note]
> - 为什么不需要定义关于对象的本质单射？忠实满函子蕴含了“本质单射”{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] prop.1.5.7）}。只需要满、忠实和本质忠实就已经能够说明存在两个范畴之间存在等价，即存在一对自然变换$\alpha:F\circ G\implies \mathrm{id}_\mathsf{C}$和$\beta:G\circ F\implies \mathrm{id}_\mathsf{D}$。

> [!example] 线性空间上恒等函子与双重对偶函子之间的自然变换
> - 对偶函子\footnote{op写在前面还是写在后面应该是无关紧要的，重要的是态射被函子打到另一个范畴之后方向是相同还是相反，无论写前面还是后面都都表示这个函子是反变的。}$(\cdot)^*\equiv  \mathrm{Hom}_\mathsf{Vect}(\cdot,\mathbb{K}): \mathsf{Vect}^{\mathrm{op}}\rightarrow \mathsf{Vect}$，它将线性空间$V$打到$\mathrm{Hom}(V,\mathbb{K})$，即我们熟悉的对偶空间的定义$V^*=\{ \omega  \mid \omega :V\rightarrow \mathbb{K}\}$，对偶函子将线性映射$\phi:V\rightarrow W$打到“将$\phi$复合于前”，
>
$$
\mathrm{Hom}_\mathsf{Vect^{\mathrm{op}}}(W,\mathbb{K}) = \mathrm{Hom}_\mathsf{Vect}(\mathbb{K},W)=W^* \rightarrow \mathrm{Hom}_\mathsf{Vect^{\mathrm{op}}}(V,\mathbb{K})=\mathrm{Hom}_\mathsf{Vect}(\mathbb{K},V)=V^*
$$
>
$$
(\omega:W\rightarrow \mathbb{K}) \mapsto ( \phi^*(\omega)=\omega \circ \phi:V\rightarrow \mathbb{K})
$$
>   即对于任意的$\omega \in W^*$，定义$\phi^*(\omega)=\omega\circ \phi$，这类似于1-形式的拉回，参见式\eqref{eq:1fpullback}。由于$\phi:V\rightarrow W$和经过对偶函子作用后的$\phi^*:W^*\rightarrow V^*$两个箭头方向相反，对偶函子是反变函子，因此它和恒等函子$\mathsf{Vect}\rightarrow \mathsf{Vect}$之间不可能存在自然变换。即便推广自然性的定义，不要求打过去的是同一个范畴\footnote{实际上并不清楚$\mathsf{Vect}^{op}$和$\mathsf{Vect}$是否在某种意义下一样，即他们之间是否存在函子(范畴)等价}，任何在$V$与$V^*$建立的同构$d_V$都不可能使得下图交换，
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   V & {V^{*}} \\
>   V & {V^{*}}
>   \arrow["\phi"', from=1-1, to=2-1]
>   \arrow["{d_V}", from=1-1, to=1-2]
>   \arrow["{d_V}"', from=2-1, to=2-2]
>   \arrow["{\phi^{*}}", from=1-2, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   下面证明不存在性(如何证?)，仅仅提供一个看上去自然但实际上并不自然的同构$d:V\rightarrow V^*,d(e_i)=e^i$，其中$e^i(e_i)=\delta_{j}^i$，根据线性性$d(v^ie_i)=v^ie^i$，分别沿两条路径走
>
$$
d(\phi(v))(e_k)=v^i\phi_{ki}
$$
>
$$
\phi^*(d(v))(e_k)=v^i\phi_{ik}
$$
>   基变换的图是交换的当且仅当$\phi_{ik}=\phi_{ki}$，即$\phi$在$\{e_i\}$下的矩阵是对称的。
>
>   这里没有提供$\mathsf{Vect}^{\mathrm{op}}$中的态射是1-形式(线性变换？还是什么？)的证明，\myemph{如何证?}，$\mathsf{Vect}$中的态射$\phi:V\rightarrow W$在$\mathsf{Vect}^{\mathrm{op}}$中对应的箭头是什么样的？思考共轭转置和对偶映射之间的关系。为什么对偶函子用$\mathrm{Hom}_{\mathsf{Vect}}(\cdot,\mathbb{K})$来定义而不是用其他的除$\mathbb{K}$以外的线性空间？
>
>
>
>   通常称线性空间$V$及其两重对偶$V^{**}$自然同构，即对于任意的$V$，有$V\cong V^{**}$，这是存在从恒等自函子到双重对偶函子的自然变换(实际上是自然同构)~
$$
\mathrm{ev}:\mathrm{id}_{\mathsf{Vect}}\implies \mathrm{Hom}_{\mathsf{Vect}}(\mathrm{Hom}_{\mathsf{Vect}}(\cdot,\mathbb{K}),\mathbb{K})
$$
>   其分量为$\mathrm{ev}_V:V\rightarrow V^{**},~v\mapsto (\mathrm{ev}_V(v):V^*\rightarrow \mathbb{K} ,~\omega \mapsto \mathrm{ev}_V(v)(\omega)=\omega(v))$。下面验证自然性，即存在交换图
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   V & {V^{**}} \\
>   W & {W^{**}}
>   \arrow["\phi"', from=1-1, to=2-1]
>   \arrow["{\mathrm{ev}_V}", from=1-1, to=1-2]
>   \arrow["{\mathrm{ev}_W}"', from=2-1, to=2-2]
>   \arrow["{\phi^{**}}", from=1-2, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   只要证明$\phi^{**}\circ \mathrm{ev}_V =\mathrm{ev}_W\circ \phi$，设$x \in V$，根据对偶函子的定义，$\phi^{**}(\mathrm{ev}_V(x))=\mathrm{ev}_V(x)\circ \phi^*$，取$\omega\in W^*$，有$\phi^{**}(\mathrm{ev}_V(x))(\omega)=\mathrm{ev}_V(x)\circ \phi^*(\omega) =\mathrm{ev}_V(x)(\omega\circ \phi)=\omega\circ \phi(x)$。另一方面，$\mathrm{ev}_W(\phi(x)) = \omega\circ \phi(x)$。如果$V=W$，且$\phi$是线性同构，那么可以将$\phi$理解为基变换(基变换就是线性同构)，自然性体现在如果改变$V$中的基底，那么$V^{**}$的基底也会随之改变，在基变换前后映射 $\mathrm{ev}_V$相等。

> [!example] $G$-等变函数是自然等价
> - 参见定义\ref{def:gequiv}。

### 可表函子、米田嵌入
从范畴中取出集合有各种各样的方法，这些取出集合的方法构成一些从$\mathsf{C}$到集合的函子，为了讨论这些函子的结构，有下面的定义。
> [!definition] 可表函子(representable)
> - 称函子$F:\mathsf{C}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象**~(representing)
>
>   称预层$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$是**可表的**，如果存在$\mathsf{C}$中的对象$S$，使得$F$自然同构于Hom-函子$\mathrm{Hom}_\mathsf{C}(\cdot,S):\mathsf{C}\rightarrow \mathsf{Set}$。称$S$是起表示作用的对象，或**表示对象**

> [!note]
> - 设可表函子$\mathrm{Hom}_\mathsf{C}(S,\cdot):\mathsf{C}\rightarrow \mathsf{Set}$吃进去$X$，返回一个从$S$到$X$的箭头，它是从$S$刺向$X$的探针，我们可以用各种不同的$S$去探测$X$的结构。反之，$\mathrm{Hom}_\mathsf{C}(\cdot,S)$是从$X$设向$S$的投影，从侧面反映了$X$的结构。
>
>   可表函子和Hom-函子之间的自然同构的分量是集合范畴上的同构，只需要建立双射、检验自然性即可。

> [!lemma] 米田
> - 设$\mathsf{C}$是范畴，$X$是$\mathsf{C}$中的对象，$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$是$\mathsf{C}$上的预层，则映射
>   $$\begin{align}
>   i: \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)&\rightarrow FX\\
>   (\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F)&\mapsto \alpha_X(\mathrm{id}_X)
>   \end{align}$$
>   是双射，且关于$F$和$X$自然。

> [!proof]
> - 建立$i: \alpha\mapsto \alpha_X(\mathrm{id}_X)$的逆射，给定$p\in FX$，定义一个自然变换$j:p\mapsto v^p:\mathrm{Hom}(\cdot,X)\implies F$，其分量为
>
$$
\begin{aligned}
\operatorname{Hom}_C(Y, X) \xrightarrow{v_Y^p} F Y \\
f \longmapsto F f(p) .
\end{aligned}
$$
>   由于$F$是反变的，所以$Ff:FX\rightarrow FY$。设$h \in \operatorname{Hom}_C(Z, X)$，由
>
$$
F g\left(v_Z^p(h)\right)=F g(F h(p))=F(h \circ g)(p)=v_Y^p(h \circ g) .
$$
>   可知$v^p$是自然变换。要证明$j:p\mapsto v^p$与$i:\alpha\mapsto \alpha_X(\mathrm{id}_X)$互逆，只要证$p=v^p_X(\mathrm{id}_X)$以及$\alpha=v^{\alpha_X(\mathrm{id}_X)}$。实际上，
>
$$
v_X^p\left(\mathrm{id}_X\right)=F\left(\operatorname{id}_X\right)(p)=\operatorname{id}_{F X}(p)=p .
$$
>
$$
v_Y^{\alpha_X\left(\mathrm{id}_X\right)}(f)=F f\left(\alpha_X\left(\mathrm{id}_X\right)\right)=\alpha_Y(f)
$$
>
>   自然性的证明如下。
>
>   关于$X$的自然性是指函子$G\equiv \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,-),F):\mathsf{C}\rightarrow \mathsf{Set}$~($\mathsf{C}$中的对象和态射要插入$-$处，在对象层面$GX=\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)$，在态射层面$Gh=\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,h),F):GX\rightarrow GY ,~\alpha \mapsto \alpha\circ \mathrm{Hom}_\mathsf{C}(\cdot,h)$~)与函子$F:\mathsf{C}^\mathrm{op}\rightarrow \mathsf{Set}$之间存在自然变换$i$，其在$X$处的分量为$i_X:\mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),F)\rightarrow FX$。设$h:Y\rightarrow X$，要证明对于任何态射$h:Y\rightarrow X$，以及任何自然变换$\alpha\in \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},F]}(\mathrm{Hom}(\cdot,X),F)$，都有
>
$$
F h\left(i_X(\alpha)\right)= i_Y( Gh(\alpha))
$$
>   上式中的$\mathrm{Hom}_\mathsf{C}(\cdot,h)=h_*:\mathrm{Hom}_\mathsf{C}(\cdot,Y)\implies \mathrm{Hom}_\mathsf{C}(\cdot,X)$是一个自然变换，其分量为$(h_*)_A:\mathrm{Hom}_\mathsf{C}(A,Y)\rightarrow  \mathrm{Hom}_\mathsf{C}(A,X)$，$h_*$与$\alpha$纵向复合。实际上，右边在$Y$处的分量，
>
$$
i_Y( \alpha \circ \mathrm{Hom}_\mathsf{C}(\cdot ,h))= i(\alpha\circ h_*)_Y (\mathrm{id}_Y) = \alpha_Y\circ h_*(\mathrm{id}_Y)=\alpha_Y(h)=Fh(\alpha_X(\mathrm{id}_X))
$$
>   最后一步利用了$\alpha$的自然性。
>
>   关于$F$的自然性是指，函子$P,Q: [\mathsf{C}^{\mathrm{op}},\mathsf{Set}]\rightarrow \mathsf{Set}$之间存在自然变换$i$，即任取自然变换$\alpha$和$\beta:F\implies K$，有
>
$$
P\beta(i_F(\alpha)) =i_K(Q\beta(\alpha))
$$
>   其中$Q(-)\equiv \mathrm{Hom}_{[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]}(\mathrm{Hom}_\mathsf{C}(\cdot,X),-)$,~而$P(\cdot)\equiv(\cdot)X$在对象层面$PF\equiv FX$(函子$F$是对象)，在态射层面，设作为态射的自然变换$\beta:F\implies K$，被打到其分量$P\beta\equiv\beta_X : FX\rightarrow KX$，变为集合之间的映射。注意到$Q\beta(\alpha)=\beta_*(\alpha)=\beta \circ \alpha$即得上式左右相等(这是个推前)，即
$$
\beta_X(\alpha_X(\mathrm{id}_X))=(\beta\circ \alpha)_X(\mathrm{id}_X)
$$
> [!note]
> - $\mathrm{Hom}_\mathsf{C}(\cdot,X)$是被$X$表示的可表函子。$[\mathsf{C}^{\mathrm{op}},\mathsf{Set}]$是函子范畴，对象是这两个范畴之间的函子，态射是函子之间的自然变换。

> [!theorem] 米田嵌入(embedding)
> - 设$X,Y$是范畴$\mathsf{C}$的对象，则存在关于$X$和$Y$自然的集合之间的双射
>
$$
\operatorname{Hom}_{\mathsf{C}}(X, Y) \cong \operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)
$$
> [!proof]
> - 在米田引理中取$F= \mathrm{Hom}_\mathsf{C}(\cdot,Y)$即可。

> [!note]
> - 从米田嵌入可以立即推论，$\mathrm{Hom}_\mathsf{C}(X,Y)$中存在同构$f:X\rightarrow Y$当且仅当$\operatorname{Hom}_{\left[\mathsf{C}^{\mathrm{op}}, \operatorname{Set}\right]}\left(\operatorname{Hom}_{\mathsf{C}}(\cdot, X), \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)\right)$中存在自然等价$\alpha:\operatorname{Hom}_{\mathsf{C}}(\cdot, X)\implies \operatorname{Hom}_{\mathsf{C}}(\cdot, Y)$。因此两个对象$X,Y$同构，当且仅$X$和$Y$表示的函子自然同构。


### 泛性质

\label{ssec:universalproperty}

> [!definition] 泛性质
> - $X$是范畴$\mathsf{C}$中的对象，$X$的**泛性质**由函子$F:\mathsf{C} \rightarrow \mathsf{Set}$或$F:\mathsf{C}^\mathrm{op} \rightarrow \mathsf{Set}$，以及一个给定的自然等价$\alpha:\mathrm{Hom}_\mathsf{C}(X,\cdot)\implies F$或$\alpha:\mathrm{Hom}_\mathsf{C}(\cdot,X)\implies F$给出，根据米田引理来确定自然同构$\alpha$的元素$p\in FX$被称为**泛元素**(element)。

> [!note]
> - 米田引理给出的是自然变换的集合与$FX$之间的双射，但不是所有自然变换都是自然同构，$FX$中仅部分元素对应自然同构。根据米田引理证中的构造，$p$对应的自然同构是$v^p$，详见证明过程。


设$X$的泛性质由$F:\mathsf{C}^{\mathrm{op}}\rightarrow \mathsf{Set}$和$p\in FX$给出，设相应的自然变换为$\alpha$，根据自然性，对于任意的$f:Y\rightarrow X$，有交换图


<div class="transclusion internal-embed is-loaded"><div class="markdown-embed">





```tikz
        \usepackage{amsmath}
        \usepackage{tikz-cd}
        \begin{document}
        \begin{tikzcd}
	{\mathrm{id}_X} &&& {p=\alpha_X(\mathrm{id}_X)} \\
	& {\mathrm{Hom}_\mathsf{C}(X,X)} & FX \\
	& {\mathrm{Hom}_\mathsf{C}(Y,X)} & FY \\
	{f:Y\rightarrow X} &&& q
	\arrow[maps to, from=1-1, to=1-4]
	\arrow[maps to, from=1-1, to=4-1]
	\arrow[maps to, from=1-4, to=4-4]
	\arrow["{\alpha_X}", from=2-2, to=2-3]
	\arrow["{f^*}"', from=2-2, to=3-2]
	\arrow["Ff", from=2-3, to=3-3]
	\arrow["{\alpha_Y}"', from=3-2, to=3-3]
	\arrow[maps to, from=4-1, to=4-4]
\end{tikzcd}
        \end{document}
        ```


</div></div>



且图中的$\alpha$的分量都是双射，$\alpha_Y$是双射当且仅当任取$q\in FY$，唯一存在$f:Y\rightarrow X\in {\mathrm{Hom}_\mathsf{C}(Y,X)}$，使得$\alpha_Y(f)=q$，或等价地$\alpha_Y(f\circ \mathrm{id}_X) =q$，或等价地$Ff(p)=q$。总的来说，关于$X$的泛性质给出了指向$X$的箭头的唯一存在的条件。


[[2024-08-12-11-18-02.png]]
待整理：泛性质的例子，张量积{（[[perrone2024StartingCategoryTheory\|perrone2024StartingCategoryTheory]] marginnote.p.127

### 极限
极限是寻找具有泛性质的态射的方法，极限的重要例子包括：积(product)，相等化子(equilizer)和终对象(terminal object)。

补充这里（有助于理解积拓扑？[讨论球面和环面的区别](https://math.stackexchange.com/questions/4208133/why-is-s1-times-s1-torus-and-s2-ne-s1-times-s1)）

### 幺半范畴 Monoidal Category

幺半范畴中，作为结合子(associator)的自然同构$(A\otimes B)\otimes C\xrightarrow{\alpha_{A,B,C}}A\otimes(B\otimes C)$是指函子$F:(A,B,C)\mapsto (A\otimes B)\otimes C$和$G:(A,B,C)\mapsto A\otimes( B\otimes C)$这两个函子之间的自然同构，自然性是指相应的交换图。


## 基本群
### 同伦
> [!definition] 映射同伦{\cite[Def.3.1.1
> - {xusenlinpointset}}]
>   设 $f, g \in \mathrm{Hom}(X, Y)$是连续映射, 如果 $\exists F \in C(X \times[0,1]$, $Y)$, s.t.
>
$$
F(\cdot, 0)=f, F(\cdot, 1)=g,
$$
>   则称 $f$ 与 $g$(自由)** 同伦**, 记作 $F: f \simeq g$ 或 $f \stackrel{F}{\simeq} g$。$F$ 称为(自由)**同伦**.

同伦是连续映射的集合上的一个等价关系（[[rotman2013alto\|rotman2013alto]] Th.1.2）。同伦与映射的复合是相容的（[[rotman2013alto\|rotman2013alto]] Th.1.3），如果存在两组同伦映射，那么他们的复合也是同伦的。

> [!definition] 拓扑空间的同伦等价{\cite[Def.3.3.1
> - {xusenlinpointset}}和可缩性]\label{def:tophomotopy}
>   设 $X$ 与 $Y$ 为拓扑空间, $f: X \rightarrow Y$ 为连续映射。如果存在连续映射 $g: Y \rightarrow X$, 使得
$$
g \circ f \simeq \mathrm{id}_{X}: X \rightarrow X
$$
$$
f \circ g \simeq \mathrm{id}_{Y}: Y \rightarrow Y
$$
则称 $f$ 为**同伦等价**(h-equivalence), 称 $g$ 为 $f$ 的**同伦逆**(homotopy inverse)。此时, 称拓扑空间 ${X}$ 与 ${Y}$ 是**同伦等价的**, 或称 $X$ 与 $Y$ 有**相同的伦型**, 记作 $X \simeq Y$。将$f:X\rightarrow Y$的同伦等价类记为$[f]\in [X,Y]$ ，将从$X$到$Y$的同伦类的集合{（[[tom2008algebraic\|tom2008algebraic]] p.554）}记为$[X,Y]$。
>
>   如果存在常值映射$c:X\rightarrow Y$使得$f\simeq c$，则称$f$为**零伦的**(nullhomotopic)。当一个空间上的恒等映射是零伦时，称这个空间是**可缩的**。
>
>   $f, g \in C(X$, $Y), A \subset X,\left.f\right|_{A}=\left.g\right|_{A}$. 如果 $\exists F \in C(X \times[0,1]$, $Y)$, 使得 $F: f \simeq g$, 且 $F(a, t)=f(a)=g(a), \forall a \in$ $A, \forall t \in[0,1]$, 则称 $f$ 与 $g$ **相对于 $A$ 是同伦的**,记作 $F: f \simeq g(\operatorname{rel} A)$ 或 $f \simeq g(\mathrm{rel} A)$。

> [!note]
> - 根据空间同伦的定义可知，拓扑空间可缩等价于它与某个单点集同伦。
>
>   **同伦范畴**$\mathsf{hTop}$是拓扑范畴$\mathsf{Top}$在映射建立同伦等价关系以后产生的商范畴，根据商范畴的一般构造方式，$\mathsf{hTop}$的对象和$\mathsf{Top}$一样是拓扑空间，态射为映射的同伦等价类，复合性质由同伦的性质保证。在$\mathsf{hTop}$的对象之间建立等价关系就是上述的同伦等价，换句话说，两个拓扑空间的同伦等价的可以定义为两个拓扑空间在$\mathsf{hTop}$中同构(定义\ref{def:cat})。
>
>   同伦等价的空间拥有相同的基本群。
>
>   单连通区域上的曲线的零伦并不意味着$S^1$是同伦于一个点的，我构造的映射证明了单点集同伦于圆盘而非$S^1$，实际上，由于$S^1$的基本群是整数加法群，而单点集的基本群是平凡的，所以两者不同伦。

欧氏空间的子集$A \subset \mathbb{R}^{n}$是关于$a_{0} \in A$的**星形集**，如果对任意的 $a \in A$ ，从 $a_{0}$ 到 $a$ 的线段都被包含在$A$内。 设$X=A$，$Y=\{a_0\}$。定义$f:X\rightarrow Y,~a\mapsto a_0$，包含映射$g:Y\rightarrow X,~a_0\mapsto a_0$，则$f\circ g=\mathrm{id}_Y$，$g\circ f:X\rightarrow X,~a\mapsto a_0$，于是$H(a, t)=$ $(1-t) a+t a_{0}$是$g\circ f$与恒等映射$\mathrm{id}_X$之间的同伦，称$H(a,t)$为$g\circ f$的零伦，也称$g\circ f$是零伦的。 $g$是同伦等价，$f$是其同伦逆。由于$\mathrm{id}_X \simeq g\circ f$，因此星形集是可缩的。

> [!theorem] 代数基本定理的拓扑学证明{} （[[rotman2013alto\|rotman2013alto]] Th.1.5）
> - 任何一个非常数的复多项式都有一个根。

> [!proof] 同伦
> - 定义限制在半径为$\rho$的圆上的单项式$f_\rho
{ #n}
:\Sigma_\rho \to \mathbb{C}-\{0\},z\mapsto z^n$，设多项式为$g(z)=\sum_{k=0}^{n}a_{n-k} z^k$。反证法，假设$g$没有根，我们先利用 同伦$F(z, t)=z^n+\sum_{i=0}^{n-1}(1-t) a_i z^i$ 证明$g|_{\Sigma_z}$与$f_\rho
{ #n}
$同伦(需要证明$F(z,t)\neq 0$来说明这个同伦是合法的)，再利用$g$没有根构造同伦 $G(z, t)=g((1-t) z)$来证明$g|_{\sigma_z}$是零伦的，最后利用$f_\rho
{ #n}
$不是零伦的以及同伦的传递性来导出矛盾。

> [!note]
> - 挖掉原点非常重要，如果保留了原点$F(t,z)=t z^n+(1-t)$就说明$f_\rho
{ #z}
$是零伦的。

> [!proof] 同调
> - 将同伦证明中的两个同伦翻译成同调的语言可以得到类似的证明。首先，利用同伦映射诱导相同的同态可得
$$
\left(\left.g\right|_{\Sigma_\rho}\right)_*=\left(f_\rho^n\right)_*: H_1\left(\Sigma_\rho\right) \rightarrow H_1(\mathbb{C}-\{0\})
$$
>   这两个映射都是乘以$n$。其次，假设$g$没有根，于是$g:\mathbb{C}\rightarrow \mathbb{C}-\{0\}$连续，将$g:D_\rho \rightarrow \mathbb{C}-\{0\}$视为圆盘上的映射，定义包含映射$i : D_\rho\rightarrow \Sigma_\rho$可得$g|_{\Sigma_\rho} = i \circ g$，于是有
>
$$
\left(\left.g\right|_{\Sigma_\rho}\right)_*: H_1\left(\Sigma_\rho\right) \xrightarrow{i_*} H_1\left(D_\rho\right) \xrightarrow{g_*} H_1(\mathbb{C}-\{0\})
$$
>   由$H_1(D_\rho)=\{0\}$可知$\left(\left.g\right|_{\Sigma_\rho}\right)_*=0$，这导致了矛盾。

> [!definition] $\pi_0$函子
> - 对于范畴$\mathsf{Top}$中的任意一个对象（即一个拓扑空间 $X$ ），$\pi_0(X)$ 的定义是：$\pi_0(X)$ 是空间 $X$ 的所有路径连通分支（path components）的集合。对于范畴 Top 中的任意一个态射（即一个连续映射 $f: X \rightarrow Y$ ），我们需要定义一个函数 $\pi_0(f): \pi_0(X) \rightarrow \pi_0(Y)$设 $C$ 是 $X$ 的一个路径连通分支（即 $C \in \pi_0(X)$ ）。那么 $\pi_0(f)(C)$ 被定义为包含像集 $f(C)$ 的那个唯一的 $Y$ 的路径连通分支。

> [!note]
> - 可以证明$\pi_0(f)$是良定义的，且$\pi_0$保持单位映射和复合。因此$\pi_0:\mathsf{Top}\rightarrow \mathsf{Set}$是一个函子。还可以证明如果$f\simeq g$，那么$\pi_0(f)= \pi_0(g)$（[[rotman2013alto\|rotman2013alto]] Th.1.16），因此实际上$\pi_0$是函子$\pi_0:\mathsf{hTop}\rightarrow \mathsf{Set}$

### 基本群
> [!definition] 基本群
> - 设$x_0\in X$是一个基点，关于$(X,x_0)$的**基本群**的群元是以$x_0$为基点的闭合道路的相对端点同伦的同伦等价类，
>
$$
\pi_1\left(X, x_0\right)=\left\{[f]:[f] \text { is a path class in } X \text { with } \alpha[f]=x_0=\omega[f]\right\}
$$
>   群运算用用首尾相接的道路的等价类来定义。

> [!note]
> - 对 $[f] \in \pi_1\left(X, x_0\right)$ 定义 $\pi_1(h) \text { by }[f] \mapsto[h \circ f]$，则$\pi_1$构成一个函子（[[rotman2013alto\|rotman2013alto]] Th.3.4）。基本群与道路联通分支的基点的选取无关（[[rotman2013alto\|rotman2013alto]] Th.3.5）。

设$X$和$Y$同伦，则自由同伦等价$\beta:X\rightarrow Y$诱导出基本群同构（[[rotman2013alto\|rotman2013alto]] Th.3.11）
$$
\beta_*: \pi_1\left(X, x_0\right) \rightarrow \pi_1\left(Y, \beta\left(x_0\right)\right),~\forall x_0\in X
$$
由此可以得到一些推论，例如 相同伦型的道路连通的拓扑空间的基本群同构（[[rotman2013alto\|rotman2013alto]] Cor.3.11），两个拓扑空间中的基点的选取是任意的，根据这个命题以及单点拓扑空间的基本群是平凡的可知可缩空间的基本群也是平凡的。将道路连通且基本群平凡的空间称为**单连通**空间，这与所有闭和回路都能收缩为一点，即只有常数路径这一类的单连通的几何直观是相符的。另一个推论是，零伦诱导的基本群同态是平凡的，即将所有群元打到单位元。

$S^1$的基本群是$\pi_q(S^1)=\mathbb{Z}$（[[rotman2013alto\|rotman2013alto]] Th.3.16）。
## 同调群和同调函子
### 单纯同调群
> [!definition] 链群、边缘同态、链复形、闭链群、边缘连群、单纯下同调群
> - 设$K$是一个$n$维度复形，$G$是一个群，$K$中的有向单形$s_i^q$的形式和
>
$$
\begin{aligned}
C_q(K ; G)=\left\{x_q=\sum_{i=1}^{\alpha_q} g_i s_i^q \mid g_i \in G, i=1,2, \cdots, \alpha_q\right\}
\end{aligned}
$$
>   被称为以$G$为系数的**链群**。其中$q$是单形的维度。
>
$$
\partial=\partial_q: C_q(K ; G) \rightarrow C_{q-1}(K ; G)
$$
>   称为**边缘同态**。边缘同态作用在单形$s^q$上
>
$$
\partial s^q= \begin{cases}0, & \text { 当 } q=0 \text { 时, } \\ \sum_{i=0}^q(-1)^i a^0 a^1 \cdots \hat{a}^i \cdots a^q, & \text { 当 } q>0 \text { 时. }\end{cases}
$$
>   称$\left\{C_q(K ; G), \partial_q\right\}_q$ 这一串链群与边缘同态的集合为单纯复形$K$的**链复形**．称
>
$$
Z_q(K ; G)=\left\{x_q \mid \partial x_q=0\right\}=\operatorname{Ker} \partial_q
$$
>   为 $K$ 的 $q$ 维（下）**闭链群**(实际上就是圈圈)，$Z_q(K ; G)$ 中的元素称为一个 $q$ 维（下）闭链．称
>
$$
B_q(K ; G)=\left\{x_q=\partial y_{q+1} \mid y_{q+1} \in C_{q+1}(K ; G)\right\}=\operatorname{Im} \partial_{q+1}
$$
>   为 $K$ 的 $q$ 维（下）**边缘链群**(boundary)，$B_q(K ; G)$ 中的元素称为一个 $q$ 维（下）边缘链．因为 $\partial_q \partial_{q+1} x_{q+1}=0$ ，故
>
$$
B_q(K ; G) \subset Z_q(K ; G) .
$$
>   由此定义商群
>
$$
H_q(K ; G)=\frac{Z_q(K ; G)}{B_q(K ; G)}=\frac{\operatorname{Ker} \partial_q}{\operatorname{Im} \partial_{q+1}},
$$
>   并称它为 $q$ 维**单纯（下）同调群**．

使用三角剖分和线性方程组求秩的方法可以得到一些图形的单纯同调群，算例参见（[[xusenlin同调2019\|xusenlin同调2019]] 例1.2.4）平环的同调群计算，稀疏数组的秩.nb。如果拓扑空间$X$可以三角剖分为单纯复形$K$，那么它的单纯同调群和奇异同调群是同构的，这为计算奇异同调群提供了重要方法，赋予了奇异同调理论既有普适性又有可计算性的威力。
### 自由阿贝尔群

> [!definition] 自由阿贝尔群
> - 设$S$是非空集合，$V$是$S$上所有整数值函数的集合。设函数 $f \in V$, 如果存在 $S$ 的有限子集 $T_{f}$, 使得对任意 $x \in S-T_{f}$, 有 $f(x)=0$, 则称 $f$ 是 $S$ 上**有有限支集的函数**;集合 $S$ 上有有限支集的函数全体所成的集合记为 $F(S)=\mathbb{Z}^{\oplus S}$ ，它是 $V$ 的子集，称为由 $S$ 生成的**自由阿贝尔群**，或以$S$为基底的自由阿贝尔群。记为
>
$$
\mathbb{Z}^{\oplus S}:=\{ f:S\rightarrow \mathbb{Z}\mid \text{只对有限多个的}s\in S \text{满足}f(s)\neq 0\}
$$
> [!note]
> - 通常将自由阿贝尔群中的元素写成$f=\sum_{s\in S}f(s)e_s$，其中$e_s(s^\prime)=\delta_{ss^\prime}$，自由阿贝尔群是以$S$中的元素为基底，通过整数系数叠加所张成的空间，不致混淆时甚至可以写成$f=\sum_{s\in S}f(s)s$。规定了$f(s)$就规定了每个基底前面的系数，确定一个$f$就确定了一个群元。

> [!theorem] 自由阿贝尔群的泛性质
> - 设$A$是阿贝尔群，$S$是自由阿贝尔群$\mathbb{Z}^{\oplus S}$的基底，对于自然的单射$\iota: S \longrightarrow \mathbb{Z}^{\oplus S} ; s \mapsto e_s$，以及任意的映射$\varphi:S \rightarrow A$，存在唯一的群同态$\Phi~$满足$~\varphi=\Phi \circ \iota$，即有交换图
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   S && A \\
>   \\
>   {Z^{\oplus S}}
>   \arrow["\iota"', hook, from=1-1, to=3-1]
>   \arrow["{\forall \varphi}", from=1-1, to=1-3]
>   \arrow["{\exists_1 \Phi}"', from=3-1, to=1-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   这就是**自由阿贝尔群的泛性质**。

> [!proof]
> - 设$\Phi(\sum m_s e_s) = \sum  m_s \varphi(s)$即可。$\Phi$是$\phi$的线性拓展(linear extension)。

自由阿贝尔群可以被视为晶格，格点就是群元，生成元（基底）就是最小的格子的矢量。

> [!theorem] 阿贝尔群是自由阿贝尔群的商群
> - 每个阿贝尔群$G$都是某个自由阿贝尔群$F$的商群$F/R$，其中$R$是$F$的某个子群。

> [!proof]
> - 用$G$作为基底制作一个自由阿贝尔群，将泛性质中的$\varphi$取为恒等即可得到$G=F/\mathrm{ker}(\Phi)$。

自由阿贝尔群的秩就是基的基数，秩的概念可以推广到阿贝尔群。
> [!definition] 挠群、阿贝尔群的秩
> - 设$G$是阿贝尔群，$F$是$G$的自由阿贝尔子群，如果$F$的基底的基数是$r$且，$G/F$是**挠群**(torsion group)，即$G/F$的群元都是有限阶的，则称$G$的**(无挠)秩**(torsion-free rank)为$r$，记作$\mathrm{rank}~G=r$。

> [!note]
> - $F$是最大的自由部分。阿贝尔群的无挠秩的等价定义：最大无关组的数量（等价性待证）。
>
>
>
>   自由阿贝尔群都是无挠(torsion-free)群，但反之不然，反例为$\mathbb{Q}$，**无挠群**是指只有单位元是有限阶的群。 或许是为了让有限阿贝尔群也可以定义无挠秩，我们规定平凡群视为无挠秩为零的阿贝尔群，因此，根据定义，平凡群既是挠群也是无挠群，挠和无挠实现了对立统一\footnote{平凡的东西太简单了以至于它不简单。A trivial object is too simple to be simple.}。
>
>   只对阿贝尔群定义无挠秩，无挠秩和用生成元的数量定义的**群的秩**(式\eqref{eq:rankofgroup})可能是不同的，例如，有限阿贝尔群的无挠秩都是零，但生成元的数量不是零。
>
$$
\operatorname{rank}(G)=\min \{|X|: X \subseteq G,\langle X\rangle=G\}
$$
>
>   eq-eq-rankofgroup
>
>
>   作为例子，
>
> - $\mathbb{Z}$是一个自由阿贝尔群，它的秩是1
> - $\mathbb{Q}$是一个秩为$1$的阿贝尔群，但不是自由阿贝尔群。设$q+\mathbb{Z}=\frac{n}{m}+\mathbb{Z} \in \mathbb{Q}/\mathbb{Z}$，则有$m(q+\mathbb{Z})=n+\mathbb{Z}=\mathbb{Z}$，因此$\mathbb{Q}/\mathbb{Z}$是一个挠群。不可能找到更大线性的无关集，因为任何两个非零有理数$x=a / b  , y=c / d$都是线性相关的
>
$$
(b c) x-(a d) y=(b c) \frac{a}{b}-(a d) \frac{c}{d}=a c-a c=0
$$
> - 实数和复数的秩是无穷且不可数的，他们的秩都是作为$\mathbb{Q}$线性空间的秩，基底被称为Hamel基，$\mathbb{R}$和$\mathbb{C}$的Hamel基的基数都是连续统的基数。(待证)
>
>
>
>
>   对于自由阿贝尔群$F$，$\mathrm{rank}F=\mathrm{card}B$，$B$是$F$的基底，$\mathrm{card}B$表示$B$的基数(cardinal)，又称势。自由阿贝尔群的秩和$B$的选取无关。秩就是晶格的维度，线性无关组的数量。
>
>   与向量空间的情况的主要区别是存在torsion。阿贝尔群$G$的有限阶的群元被称为torsion，他们构成的群也被称为torsion group。记为
>
$$
T(G)=\{x \in G: x \text{是有限阶的}\}
$$

> [!proposition]
>
> - 设 $0 \rightarrow A  \stackrel{f}{\rightarrow} B \stackrel{g}{\rightarrow} C \rightarrow 0$是阿贝尔群的正合列，则 $\operatorname{rank} B=\operatorname{rank} A+\operatorname{rank} C$. (提示: Extend a maximal independent subset of $A$ to a maximal independent subset of $B$.)，进而，如果$C$是自由阿贝尔群，那么$B=A \oplus C$
> - 设 $0 \rightarrow A_{n} \rightarrow A_{n-1} \rightarrow \cdots \rightarrow A_{1} \rightarrow A_{0} \rightarrow 0$是有限生成阿贝尔群的正合列，则 $\sum_{i=0}^{n}(-1)^{i} \operatorname{rank} A_{i}=0$.
>  

> [!proof]
> - \begin{figure}[htbp]
>   \centering
>   \includegraphics[width=0.5\textwidth]{image//2024-01-12-20-12-51.png}
>   \caption{ 第一问的证明 }
>   \label{  }
>   \end{figure}

> [!note]
> - 作为推论，不存在形如$0 \rightarrow \mathbb{Z} \oplus \mathbb{Z} \rightarrow \mathbb{Z} \oplus \mathbb{Z} \rightarrow \mathbb{Z} \rightarrow 0$的正合列\footnote{如何获得直觉？}。
>
>   在[[1 Stories of Bizzo's Life/1 数学基础/3 线性代数\|线性代数]]中有类似的定理{（[[李忠华线代\|李忠华线代]] Th.7.8）}。设$g:B\rightarrow C$是线性映射，则
>
$$
\operatorname{dim} \operatorname{im}(g)+ \operatorname{dim} \operatorname{ker}(g)=\operatorname{dim}A+ \operatorname{dim}C=\operatorname{dim} B
$$

> [!theorem] 有限生成的阿贝尔群的基本定理([wiki](https://en.wikipedia.org/wiki/Finitely_generated_abelian_group))
> - 任何有限生成的阿贝尔群 $G$ 都同构于如下形式的直和：
>
$$
G \cong \mathbb{Z}^r \oplus\left(\mathbb{Z} / q_1 \mathbb{Z}\right) \oplus\left(\mathbb{Z} / q_2 \mathbb{Z}\right) \oplus \cdots \oplus\left(\mathbb{Z} / q_k \mathbb{Z}\right)
$$
>   其中$n$是$G$的秩，并且数 $q_1,...,q_t$ 是（可能相同的）素数。

### 奇异同调群
同调群的目标：构造一个能够探测空间中不同维度“洞”的工具。所谓洞就是非边界的圈圈。圈圈本身没有边界的特性使得它有可能有资质成为高维物体的边界，那些能够被视为边界的圈是平凡的圈，拓扑学真正关心的是非平凡的圈，即“洞”。同调群是闭链群关于边缘连群的商群，根据定义可以求出一些简单的空间的同调群。同调函子$H_n$是$\mathsf{Top}$到$\mathsf{Ab}$的函子，因此同调群是拓扑不变量。讨论了同调和同伦的关系，$H_n$可以视为$\mathsf{hTop}$到$\mathsf{Ab}$的函子。
> [!definition] 奇异$n$-单形、$n$-链和链复形
> - $X$是拓扑空间，连续映射$\sigma:\Delta^n\rightarrow X$被称为**奇异$n$-单形**(singular $n$-simplex)。其中$\Delta^n$是生活在欧几里得空间中的标准单形。称$X$上的所有$n$-单形的集合生成的自由阿贝尔群为**奇异$n$-链**，记为$S_n(X)$。当$n<0$时，约定$S_n(X)=0$。类似单纯链复形$\{ S_n(X) ,\partial_n\}$是是$X$的**奇异链复形**(singular chain complex)。

> [!note]
> - 链群之所以称为链群是因为它的元素是一些单形凑在一起拼成的，这些元素长得就像一条链！链复形的名字中的链继承自链群。

单形总是可以看成高他一维的单形的某个面，定义充当**第$i$个面的映射**，
$$
\varepsilon_{i}=\varepsilon_{i}^{n}: \Delta^{n-1} \rightarrow \Delta^{n}
$$
$$
\begin{array}{l}\varepsilon_{0}^{n}:\left(t_{0}, \ldots, t_{n-1}\right) \mapsto\left(0, t_{0}, \ldots, t_{n-1}\right) \\ \varepsilon_{i}^{n}:\left(t_{0}, \ldots, t_{n-1}\right) \mapsto\left(t_{0}, \ldots, t_{i-1}, 0, t_{i}, \ldots, t_{n-1}\right) \text { if } i \geq 1\end{array}
$$
面映射是仿射的，我们只用考虑它在顶点上的作用， 它将 $\Delta^{m-1}$ 的顶点 $\left\{v_0, v_1, \ldots, v_{m-1}\right\}$ 映射到 $\Delta^m$ 的顶点 $\left\{e_0, e_1, \ldots, e_m\right\}$ 的一个子集上，具体来说
$$
\epsilon_i^m\left(v_r\right)= \begin{cases}e_r & \text { 如果 } r<i \\ e_{r+1} & \text { 如果 } r \geq i\end{cases}
$$
**边界算符**(boundary operator)给出了从$n$维单形到它的面的组合的映射，其定义为$\partial_{n} \sigma=\sum_{i=0}^{n}(-1)^{i} \sigma \varepsilon_{i}^{n} \in S_{n-1}(X)$，约定$\partial_{0} \sigma=0$，经过线性延拓，可以将边界算符定义在整个$n$维链上，记为$\partial_n:S_n(X)\rightarrow S_{n-1}(X)$。
> [!lemma] {\cite[Lm.4.5
> - {rotman2013alto}}]设$j<k$，则有
>   $\epsilon_j^{n+1} \circ \epsilon_k^n = \epsilon_k^{n+1} \circ \epsilon_{j-1}^n$。

> [!proof]
> - 先计算等式左边 ，逐个插入去掉的节点
>
>
$$
\begin{cases}
(v_0, \dots, \widehat{v_k}, \dots, v_{n-1}) & \text{; Start in } \Delta^{n-1} \\
\downarrow \epsilon_k^n \\
(e_0, \dots, e_{k-1}, \widehat{e_k}, e_{k+1}, \dots, e_n) & \text{; Image in } \Delta^n \\
\downarrow \epsilon_j^{n+1} \\
(f_0, \dots, f_{k-1}, \widehat{f_k}, f_{k+1}, \dots, f_{j-1}, \widehat{f_j}, f_{j+1}, \dots, f_{n+1}) & \text{; Final image in } \Delta^{n+1}
\end{cases}
$$
>   类似的，右边是
>
>
$$
\begin{cases}
(v_0, \dots, \widehat{v_{j-1}}, \dots, v_{n-1}) & \text{; Start in } \Delta^{n-1} \\
\downarrow \epsilon_{j-1}^n \\
(e_0, \dots, \widehat{e_{j-1}}, \dots, e_n) & \text{; Image in } \Delta^n \\
\downarrow \epsilon_k^{n+1} \\
(f_0, \dots, \widehat{f_k}, \dots, \widehat{f_j}, \dots, f_{n+1}) & \text{; Final image in } \Delta^{n+1}
\end{cases}
$$
>   注意到先插入的大节点$j$会收到后插入的小节点$k$的影响，导致序号加一。最终可以看到，无论是那种移除顺序，对应的面是一样的。

有重要的定理$\partial_{n} \partial_{n+1}=0$。
> [!theorem] 锥形构造{}：星形集的正数阶同调群为零 （[[rotman2013alto\|rotman2013alto]] Th.4.19）
> - 设$X$是欧式空间中的关于原点的星形集(原点和任何一个点的连线都在$X$中)，设$\sigma:\Delta_k\rightarrow X$是$X$上的单形，针对每个$\sigma$构造一个高一维的奇异单形(以原点为顶点，以$\sigma$为底面的锥形)
>
$$
\begin{array}{l}H \sigma:\Delta_{k+1} \rightarrow X \\ \left(t_{0}, \cdots, t_{k+1}\right) \longmapsto\left\{\begin{array}{l}0,\left(t_{0}, \cdots t_{k+1}\right)=(1,0, \cdots, 0) \\ \left(1-t_{0}\right) \sigma\left(\frac{t_{1}}{t_{1}+\cdots+t_{k+1}}, \cdots, \frac{t_{k+1}}{t_{1}+\cdots+t_{k+1}}\right)\end{array}\right. \\\end{array}
$$
>   证明$(H \sigma)_{0}=\sigma$，$(H \sigma)_{i}=H\left(\sigma_{i-1}\right), i=1, \cdots, k+1$，其中$(\sigma)_i$是$\sigma\circ \varepsilon_i^k$的简写，然后进一步证明
>
$$
\partial (H \sigma) = \sigma - H(\partial \sigma)
$$
>   这说明星形集中任何一个闭链都是边缘连，$H_n(X)=0,~n>1$。

> [!proof]
> - 需要先说明构造的合法性，
>
> - 当 $t_0=1$ 时，该点映射到顶点 $0$
> - 当 $t_0<1$ 时，点 $\left(\frac{t_1}{1-t_0}, \ldots, \frac{t_{n+1}}{1-t_0}\right)$ 的坐标和为 1 ，所以它是 $\Delta^n$ 中的一点，因此 $\sigma(\ldots)$ 是良定义的。
> - $H\sigma$ 的像是由点 $0$ 和 $\sigma$ 的像中的点连接成的线段的并集。由于 $X$ 的星形性，所有这些线段都位于 $X$ 内部，因此 $H\sigma$ 确实是一个映入 $X$ 的映射。
> - 可以验证该映射是连续的。
>   综上我们可以通过线性扩张定义链群之间的映射$c_n:S_n(X)\rightarrow S_{n+1}(X)$，$c_n (\sigma) = H\sigma$。
>
>   只证明$i\geqslant 1$且$t_0\ne 0$的情形
>
$$
(H \sigma)_{i}=(H \sigma)\circ  \varepsilon_{i}^{k+1}: \Delta_{k} \rightarrow X
$$
>   根据定义可知
>
$$
\begin{aligned}(H \sigma)_{i}\left(t_{0}, \cdots, t_{k-1}\right) & =H \sigma \circ \varepsilon_{i}^{k+1}\left(t_{0}, \cdots, t_{k}\right) \\ & =(H \sigma)\left(t_{0}, \cdots, t_{i-1},0, t_{i}, \cdots, t_{k}\right) \\ & =\left(1-t_{0}\right) \sigma\left(\frac{t_{1}}{s}, \cdots, \frac{t_{i-1}}{s}, 0, \frac{t_{i}}{s}, \cdots, \frac{t_{k}}{s}\right)\end{aligned}
$$
>   其中$s=\sum_{p=1}^{k} t_{p}$。另一方面，
$$
H\left(\sigma \circ \varepsilon_{i-1}^{k}\right): \Delta_{k} \rightarrow X
$$
>
$$
\begin{aligned} & H\left(\sigma \circ  \varepsilon_{i-1}^{k}\right)\left(t_{1}, \cdots, t_{k}\right) \\ = & \left(1-t_{0}\right) \sigma \circ \varepsilon_{i-1}^{k}\left(\frac{t_{1}}{s}, \cdots, \frac{t_{k}}{s}\right) \\ = & \left(1-t_{1}\right) \sigma\left(\frac{t_{1}}{s}, \cdots \frac{t_{i-1}}{s}, 0, \frac{t_{i}}{s}, \cdots \frac{t_{k}}{s}\right)\end{aligned}
$$
>   定义了$H$在单形上的作用以后可以将$H$视为链群的同态$H:S_{k}(X)\rightarrow S_{k+1}(X)$。
>   这个命题可以用于证明星形集的大于1阶的同调群是零，具体来说，锥构造能够为任意一个闭链$c$构造一个更高一维的链$\gamma$使得$\gamma$的边缘就是$c$，因此任何一个闭链都是边缘连。
$$
\begin{aligned}
\partial(Hc  )  =& \sum_{i = 0}^k (-1)^{i} (H c )_{i} \\
= & c  - \sum_{j=0}^{k} (-1)^{j} \left( H c \right)_{j} \\
= & c  -   H \left(\partial c \right)
\end{aligned}
$$
>
>
>   图解\footnote{这个图引出了链复形同伦的定义，参见定义\ref{def:chainhomotopy}，从这个图可以看出，恒等映射与0是链同伦等价的。}为
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[column sep=small,row sep=scriptsize]
>   && {S_k(X)} && {S_{k-1}(X)} \\
>   \\
>   {S_{k+1}(X)} && {S_k(X)}
>   \arrow["{\mathrm{id- 0}}", from=1-3, to=3-3]
>   \arrow["H"', from=1-3, to=3-1]
>   \arrow["{\partial_{k+1}}"', from=3-1, to=3-3]
>   \arrow["{\partial_k}"', from=1-3, to=1-5]
>   \arrow["H", from=1-5, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   上式给出了将闭链(cycle)写成边缘链(boundary)的方法，设$\sigma\in Z_k(X)$，则有$\sigma=\partial(H\sigma)$，因此$\sigma\in B_k(X)$。找到$\sigma$是谁的边缘非常简单，就是作用一个$H$而已。
>   综上所述，对于星形集$X$，$H_k(X)=0$，$k>0$

    
> [!trick ]
> $H\sigma$是以$\sigma$为底面的锥形，因此$H$称为锥形构造。


> [!definition] 边缘链群、闭链群和同调群
> - $X$是拓扑空间，$n$维**边缘连群**($n$-boundary)定义为$B_n(X)=\mathrm{ker}(\partial_n)$，$n$维**闭链群**($n$-cycles)定义为$\mathrm{im}(\partial_{n+1})$，第$n$**同调群**定义为
>
$$
H_{n}(X)=\frac{Z_{n}(X)}{B_{n}(X)}=\frac{\operatorname{ker} \partial_{n}}{\operatorname{im} \partial_{n+1}}
$$
>   设$z_n\in Z_n(X)$，则同调群的群元是陪集$z_n+B_n(X)$，称为**同调类**。

> [!note]
> - 同调群的定义涉及两个步骤，第一步关于$X$上的单形(simplex)，是拓扑概念；第二步是纯代数概念。
>
>   我们要学习有效计算同调群、了解其性质的方法，而不仅仅是定义它们。

\begin{figure}[htp]
    \centering
    \includegraphics[width=0.43\linewidth]{image//torus.pdf}
    \caption{红色的圈是$Z_1(S^1\times S^1)$中的典型元素。参见：绘制torus.nb}
    \label{fig:torusplot}
\end{figure}

$H_n$是从拓扑范畴$\mathsf{Top}$到Abel群范畴$\mathsf{Ab}$的函子{（[[rotman2013alto\|rotman2013alto]] Th.4.10）}。
    
设$\sigma:\Delta^n\rightarrow X$是$X$上的单形，则连续函数$f:X\rightarrow Y$定义了$Y$上的一个单形$f\circ \sigma:\Delta^n\rightarrow Y$，将$f$线性拓展得到了两个空间上的链群的群同态，$f_{\#  }: S_{n}(X) \rightarrow S_{n}(Y)$，它满足
$$
f_{\#  }\left(\sum m_{\sigma} \sigma\right)=\sum m_{\sigma}(f \circ \sigma)
$$
eq-eq-fsharp

将$S_n$视为函子，可以将$f_\#$记为$S_n(f)$。 

其中$m_{\sigma} \in \mathbb{Z}$。由于边缘算符只是产生一些低一维的单形的线性组合，因此有边缘算符$\partial$和链群同态是对易的{（[[rotman2013alto\|rotman2013alto]] Lem.4.8）}，即$\partial_n \circ f_{\#  }=f_{\#  }\circ \partial^\prime_n$。进而有引理$f_{\#  }\left(Z_{n}(X)\right) \subset Z_{n}(Y)$ 和 $f_{\#  }\left(B_{n}(X)\right) \subset B_{n}(Y)$，包含映射是连续的，因此它把边界送到边界、把圈送到圈 。函子$H_n$作用在$f:X\rightarrow Y$上的方式是
$$
H_{n}(f): H_{n}(X) \rightarrow H_{n}(Y),~z_{n}+B_{n}(X) \mapsto f_{\#  }\left(z_{n}\right)+B_{n}(Y)
$$
eq-eq-homologyhomo

即，$H_{n}(f)$将$z_n$为代表元的同调类映射到以$f_\# (z_n)$为代表元的同调类。$f_{\#  }\left(B_{n}(X)\right) \subset B_{n}(Y)$保证了$H_n$作用在$f$上是良定义的。显然包含映射$j: A \hookrightarrow X$诱导的链群之间的同态$j_{\# }: S_n(A) \rightarrow S_n(X)$是单射，但注意到包含映射的诱导的同调就不一定是单射，例如$\iota: S^1 \hookrightarrow D^2$，$H_1\left(S^1\right) \cong \mathbb{Z}$, 而 $H_1\left(D^2\right) \cong 0$ ，$\iota_*$不可能是单射。

如果$X$和$Y$是同胚的，那么由$H_n$是函子可知，$H_n(X)$和$H_n(Y)$是同构的，因此同调群是拓扑不变量。作为推论，$b_n(X)=\mathrm{rank}(H_n(X))$是拓扑不变量，这个不变量被称为**贝蒂数**\footnote{参见：de Rham定理\ref{th:derahm}。}，如果$H_n(X)$是自由阿贝尔群，那么它由秩唯一确定，否则$H_n(X)$的内部携带有更多的信息。Betti数的几何直观：$b_n(X)$是空间$X$中$n$维洞的种类数，所谓的$n$维洞就是不是任何东西的边界的$S^n$，从图\ref{fig:torusplot}中可以看出，$b_1(S^1\times S^1)=2$。

关于同调群和函子$H_n$有一些有意思的性质
> [!abstract] Contents
> - 第零奇异同调群$H_0(X)$是由$X$的连通分支生成的自由阿贝尔群(待证)。零阶同伦是连通分支的集合，同调群就是用这个集合生成了一个自由阿贝尔群，他们表征相同的信息。 对于非空的道路联通的空间$X$，$H_{0}(X) \cong \mathbb{Z}$
> - 维度公理(Dimension Axiom)：设$X$是单点集，那么当$n>0$时，同调群都是平凡的，即$H_n(X)=0$
> - 用锥形构造，可以证明当$X$是欧式空间中的星形集时，$H_n(X)=0$，其中$n>0$；利用同伦公理可以做一些推广，可缩空间$X$即与单点集同伦的空间的同调群$H_n(X)=0$，其中$n>0$。
> - 拓扑空间的同调群是它的道路连通分支的同调群的直和。

\begin{trick}
    待补充：无环模型(acyclic model)方法、技巧。
\end{trick}

> [!theorem] 同调类是由紧支撑承载的{} （[[rotman2013alto\|rotman2013alto]] Th.16）
> - 设圈圈$\zeta\in Z_n(X)$的同调类$\mathrm{cls}\zeta \in H_n(X)$，则存在紧子集$A\subset X$，使得 $\mathrm{cls}\zeta \in \mathrm{im} j_*$
>   其中$j:A\to X$是包含映射。

> [!proof]
> - 设$\zeta = \sum m_i \sigma_i$ ，则$A = \mathrm{supp} \zeta := \bigcup  p \sigma_i(\Delta_n)$。

## 同伦公理：链复形、链同伦、Hurewicz定理、零调模型
同伦公理(homotopy Axiom)：同伦映射的诱导的同调群群同态是相同的，$f\simeq g \implies f_* = g_*$。作为推论，当两个空间同伦时，其同调群是同构的。Hurewicz 同态给出了基本群和第一同调群的关系。零调模型是证明同伦公理过程中使用的方法和技巧的推广和抽象。
> [!definition] 链复形
> - 一个**链复形**是一列前后之间存在群同态的阿贝尔群
>
$$
\cdots \longrightarrow S_{n+1} \stackrel{\partial_{n+1}}{\longrightarrow} S_{n} \xrightarrow{\partial_{n}} S_{n-1} \longrightarrow \cdots, \quad n \in \mathbb{Z},
$$
>   满足 $\partial_{n} \partial_{n+1}=0$ ，或等价地$\mathrm{im }\partial_{n+1}\subset \mathrm{ker}\partial_n$，任取 $n \in \mathbb{Z}$，记为$(S_*,\partial)$，或简记为$S_*$。同态 $\partial_{n}$被称为**$n$阶微分**(the differentiation of degree $n$)，而 $S_{n}$ 被称为**$n$阶项**(term of degree $n$)。

> [!note]
> - 定义中的等价性的证明：设$\varphi\in \mathrm{im}~\partial_{n+1}$，则$\varphi=\partial_{n+1}\sigma$，因为$\partial_n \varphi=0$，所以$\varphi \in \ker \partial_n$
>
>   阿贝尔群可以推广到交换模等代数概念。
>
>   显然正合列都是链复形，因为$\mathrm{im }~\partial_{n+1}= \mathrm{ker}~\partial_n$蕴含$\mathrm{im }~\partial_{n+1}\subset \mathrm{ker}~\partial_n$。
>
>   给定复形$S_*$可以定义闭群$Z_{n}\left(S_{*}, \partial\right)$和边缘群$B_{n}\left(S_{*}, \partial\right)$，以及第$n$同调群
$$
H_{n}\left(S_{*}, \partial\right)=Z_{n}\left(S_{*}, \partial\right) / B_{n}\left(S_{*}, \partial\right)
$$
>   根据同调群的定义，链群是正合列当且仅当所有的同调群都是0，正合序列也被称为零调复形(acyclic complex)。同调群的大小刻画了复形偏离正合列的程度。
>
>   链复形的概念将链群定义中的代数部分剥离出来，各阶链单形组成的链群，加上作为群同态的各阶边缘算符构成了一个链复形。
>
>   链复形的链指的是$S_n(X)$是一个链群，而不是指正合列看上去像是一条链。
>
>   序列中的项可以推广为$\mathbb{R}$模，很多结论可以直接迁移。

> [!definition] 链映射
> - 设 $\left(S_{*}^{\prime}, \partial^{\prime}\right)$ 和 $\left(S_{*}, \partial\right)$ 是复形，**链映射** $f:\left(S_{*}^{\prime}, \partial^{\prime}\right) \rightarrow\left(S_{*}, \partial\right)$ 是一系列同态 $\left\{f_{n}: S_{n}^{\prime} \rightarrow S_{n}\right\}$ 使得下面的交换图成立，
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=scriptsize]
>   \cdots && {S_{n+1}^\prime} && {S_{n}^\prime} && {S_{n-1}^\prime} && \cdots \\
>   \\
>   \cdots && {S_{n+1}} && {S_{n}} && {S_{n-1}} && \cdots
>   \arrow["{\partial_{n+1}^\prime}", from=1-3, to=1-5]
>   \arrow["{ }", from=1-7, to=1-9]
>   \arrow[from=1-1, to=1-3]
>   \arrow["{f_{n+1}}", from=1-3, to=3-3]
>   \arrow["{f_{n}}", from=1-5, to=3-5]
>   \arrow["{f_{n-1}}", from=1-7, to=3-7]
>   \arrow[from=3-7, to=3-9]
>   \arrow[from=3-1, to=3-3]
>   \arrow["{\partial_{n+1} }", from=3-3, to=3-5]
>   \arrow["{\partial_{n} }", from=3-5, to=3-7]
>   \arrow["{\partial_{n}^\prime}", from=1-5, to=1-7]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   即， $\partial_{n} f_{n}=f_{n-1} \partial_{n}^{\prime}$ 任取 $n \in \mathbb{Z}$.若 $f=\left\{f_{n}\right\}$, 则称 $f_{n}$ 为 **$n$阶项**。

> [!note]
> - 注意到左边是高位，序号大，右边是低位，序号小。在交换关系中，$\partial$的序号是相同的，而$f$是不同的。
>
>   设$x\in f_k(Z_k(S_*^\prime))=f_k(\ker \partial^\prime_k)$，即存在满足$\partial^\prime_k s^\prime=0$的$s^\prime\in S^\prime_k$使得$x=f_k(s^\prime)$成立，因此$\partial_k x =\partial_k f_k(s^\prime)=f_{k-1}\partial^\prime_ks^\prime=0$，因此$f_k(Z_k(S_*^\prime))\subset Z_k(S_* )$，类似地有$f_k(B_k(S_*^\prime))\subset B_k(S_* )$。根据群同态第一定理，存在同构(这个地方是不是有问题？)
$$
H_k(S^\prime_*)=\frac{Z_k(S^\prime_* )}{B_k(S^\prime_*)}\cong \frac{f_k(Z_k(S^\prime_* ))}{f_k(B_k(S^\prime_*))}
$$
>   定义映射 $\hat{f}_k:H_k(S_*^\prime)\rightarrow H_k(S_* ),~ z^\prime +B_k(S^\prime_*) \mapsto f_k(z^\prime )+ B_k(S_*)$。任取$b^\prime \in B_k(S_*)$，因为$f_k(B_k(S_*^\prime))\subset B_k(S_* )$，所以$f_k(z^\prime+b^\prime ) +B_k(S_*)=f_k(z^\prime)+f_k(b^\prime)+B_k(S_*)=f_k(z^\prime)+B_k(S_*)$，因此$\hat{f}_k$的定义与代表元的选取无关，是良定义的。
>
>   由连续映射$f:X\to Y$诱导的$f_\#$不但可以被视为两个链群之间的映射$f_\# :S_n(X)\rightarrow S_n(Y)$，也可以被视为链映射$f_\# :S_*(X)\rightarrow S_*(Y)$，因为它满足 $f_\#  \circ \partial_{n}=\partial_{n}\circ f_\#$，可以认为前一种观点下的$f_\#$是后一种观点下的某一项，写成 $f_{\#}=\left(\ldots, S_{n+1}(f), S_n(f), S_{n-1}(f), \ldots\right)$。

> [!definition] 链复形范畴
> - **链复形范畴**$\mathsf{Comp}$以链复形为对象，以链映射为对象，链映射的复合是逐个项复合$\left\{g_{n}\right\} \circ\left\{f_{n}\right\}=\{g_n \circ f_n\}$。

链复形范畴中的给定两个元素$S_*$，$S_*^\prime$之间的态射的集合$\mathrm{Hom}(S_*, S_*^\prime)$构成一个加法群。

存在函子 $S_{*}: \mathsf{Top }\rightarrow \mathsf{Comp}$，$X \mapsto\left(S_{*}(X), \partial\right),~f \mapsto S_*(f)=f_\#$，基于链复形范畴的构造，可以将同调函子视为$\tilde{H}_n:\mathsf{Comp}\rightarrow \mathsf{Ab}$，$S_{*} \mapsto H_{n}\left(S_{*}\right)=Z_{n}\left(S_{*}\right) / B_{n}\left(S_{*}\right),~f_\#  \mapsto f_* H_n(f)$，其中$f_\# :S_*\rightarrow S_*^\prime$， $\tilde{H}_{n}(f_\#  )=H_n(f)=f_* : H_n(S_*) \rightarrow H_n(S_*^\prime ) ,~\mathrm{cls} ~z_{n} \mapsto \operatorname{cls} f_{n}\left(z_{n}\right)$。因此，前一节定义的同调函子$H_n=\tilde{H}_n\circ S_*$可以看成是拓扑和代数的两个步骤的复合
$$
\mathsf{Top}\rightarrow \mathsf{Comp}\rightarrow \mathsf{Ab}
$$
$$
X\mapsto S_*(X)\mapsto H_n(X)
$$
$$
f\mapsto f_\#  \mapsto f_*=H_n(f)
$$
$\mathsf{Top}^{2}$中的对象为$(X,A)$，$(Y,B)$，$A\subset X$，$B\subset Y$， 态射$f:X \rightarrow Y$，满足$f(A)\subset B$， 定义函子
$$
S_{*}: \mathsf{Top}^{2} \rightarrow \mathsf{Comp}
$$
$$
S_{*}(X, A)=S_{*}(X) / S_{*}(A)
$$
$$
S_{*}(f): S_{*}(X) / S_{*}(A) \rightarrow S_*(Y)/S_*(B),~\gamma_{n}+S_{n}(A) \mapsto f_{\# }\left(\gamma_{n}\right)+S_{n}(B),~\text{任取}\gamma_n\in S_*(X)
$$
其中$f_\#$是$f$诱导的映射，参见式\eqref{eq:fsharp}。

两个拓扑空间对之间可以定义映射同伦，$\mathsf{Top}^2$可以诱导商范畴$\mathsf{hTop}^2$，对象不变，态射为模$A$同伦等价类\footnote{注意模$A$同伦于相对$A$同伦(定义\ref{def:tophomotopy})的区别。}，也存在同伦公理{（[[rotman2013alto\|rotman2013alto]] Th.5.19）}。

$\mathsf{Comp}$与$\mathsf{Ab}$非常相似，这是因为一个链复形实际上就是一串阿贝尔群，可以定义子复形、商复形、子复形的交、和、直和、链映射的核与像、正合性等等。设$j:A\rightarrow X$是拓扑空间的包含映射，那么有作为子复形的重要例子的短正合列
$$
0 \rightarrow S_{*}(A) \rightarrow S_{*}(X) \rightarrow S_{*}(X) / S_{*}(A) \rightarrow 0
$$
在上式中，已经将$j\circ \sigma \in S_k(X)$与$\sigma \in S_k(A)$等同，因此可以将$S_*(A)$视为$S_*(X)$的子群。群的三个同构定理也有$\mathsf{Comp}$版本{（[[rotman2013alto\|rotman2013alto]] Ex.5.9）}。

> [!definition] 链映射的同伦和链复形的同伦
> - \label{def:chainhomotopy}
>   设 $f, g:\left(S_{*}^{\prime}, \partial^{\prime}\right) \rightarrow\left(S_{*}, \partial\right)$ 是{链映射}，则 $f$ 与 $g$ 是**链同伦**的，记为 $f  \stackrel{P}{\simeq} g$，如果存在一列同态 $P = \left\{P_{n}: S_{n}^{\prime} \rightarrow S_{n+1}\right\}$ 满足，任取 $n \in \mathbb{Z}$，
>
$$
\partial_{n+1} P_{n}+P_{n-1} \partial_{n}^{\prime}=f_{n}-g_{n}
$$
>
>   序列 $P=\left\{P_{n}\right\}$ 称为一个**链同伦**(chain homotopy)。
>   链映射 $f:\left(S_{*}^{\prime}, \partial^{\prime}\right) \rightarrow\left(S_{*}, \partial\right)$ 称为**链同伦等价**~(chain (homotopic) equivalence)，如果存在 $g:\left(S_{*}, \partial\right) \rightarrow\left(S_{*}^{\prime}, \partial^{\prime}\right)$ 使得$g \circ f \simeq 1_{S_{*}^{\prime}}$ 与 $f \circ g \simeq 1_{S_{*}}$. 两个链复形称为**同伦**的，如果他们之间存在一个链同伦等价。
>
>
>   链同伦图解为
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[column sep = scriptsize]
>   \cdots && {S_{n+1}^\prime} && {S_{n}^\prime} && {S_{n-1}^\prime} && \cdots \\
>   \\
>   \cdots && {S_{n+1}} && {S_{n}} && {S_{n-1}} && \cdots
>   \arrow["{\partial_{n+1}^\prime}", from=1-3, to=1-5]
>   \arrow["{ }", from=1-7, to=1-9]
>   \arrow[from=1-1, to=1-3]
>   \arrow["{f_{n+1}-g_{n+1}}"', from=1-3, to=3-3]
>   \arrow["{f_{n}-g_n}", from=1-5, to=3-5]
>   \arrow["{f_{n-1}-g_{n-1}}", from=1-7, to=3-7]
>   \arrow[from=3-7, to=3-9]
>   \arrow[from=3-1, to=3-3]
>   \arrow["{\partial_{n+1} }", from=3-3, to=3-5]
>   \arrow["{\partial_{n} }", from=3-5, to=3-7]
>   \arrow["{\partial_{n}^\prime}", from=1-5, to=1-7]
>   \arrow["{P_{n-1}}", from=1-7, to=3-5]
>   \arrow["{P_{n}}", from=1-5, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>
>   称链复形$(S_*,\partial )$上的一列同态$c=\left\{c_n: S_n \rightarrow S_{n+1}\right\}$为**收缩同伦**(contracting homotopy)，如果
>
$$
\mathrm{id}_{S_*}\stackrel{c}{\simeq} 0_{S_*}
$$
>   即
>
$$
\partial_{n+1} c_n+c_{n-1} \partial_n=1_{S_n} .
$$
> [!note]
> - 链映射的同伦类比拓扑空间之间的连续映射的同伦，链复形的同伦类比拓扑空间的同伦。
>
>   这只是一个图解，斜的部分不是交换图。
>
>   拥有收缩同伦的链一定是一个正合列(零调)，这是因为$1\simeq 0\implies H_n(1)=H_n(0)=0$。

> [!lemma] 链同伦意味着同调同态相同{\cite[Th.4.23,Th.5.3
> - {rotman2013alto}}]\label{lem:chainhomo}
>   设$f,g:X\rightarrow Y$是连续映射，$f_\#$和$g_\#$链同伦，则
>
$$
f_* = g_*
$$
>   或者记为
$$
H_n(f)=H_n(g) ,~\forall n \geq 0
$$
>   进而，如果$f$是同伦等价，那么$H_n(f)$是群同构，$X\simeq Y$蕴含$H_n(X)\cong H_n(Y)$。

> [!proof]
> - 根据同调同态的定义式\eqref{eq:homologyhomo}，有
>
$$
H_n(f): z+B_n(X) \mapsto f_{\#}(z)+B_n(Y), \text { where } \partial z=0
$$
>
$$
\left(f_{\#}-g_{\#}\right) z=\left(\partial^{\prime} P+P \partial\right) z=\partial^{\prime} P z \in B_n(Y),
$$
>   最后一步利用了边缘的定义。第二部分利用同伦的定义和$H_n$的函子性。

去掉拓扑背景可以有下面的完全相同的引理。
> [!lemma] 从链同伦到相同的同调诱导同态Th.5.3 tom2008algebraic
>   设链映射$f_{0}, f_{1}:S_{*}^{\prime} \rightarrow S_{*}$同伦，记为$f_{0} \stackrel{h}{\simeq} f_{1}$，请证明$H_n(f_{0 })=H_n(f_{1 })$。 进而，如果$f_0$是同伦等价，那么$H_n(f_0)$是群同构。

> [!proof]
> - 根据链同伦的定义
$$
\partial_{k+1} h_{k}+h_{k-1} \partial_{k}^{\prime}=f_{0 k}-f_{1 k}
$$
>   左侧第一项
>
$$
\begin{aligned}\partial_{k+1} h_{k}: S_{k}^{\prime} &\rightarrow S_{k} \\ H_{k}\left(\partial_{k+1} h_{k}\right):H_{k}\left(S_{*}^{\prime}\right) & \rightarrow H_{k}\left(S_{*}\right) \\ z_{k}^{\prime}+B_{k} &\mapsto \partial_{k+1} h_{k} z_{k}^{\prime}+B_{k}=B_{k} \\\end{aligned}
$$
>   第二项
>
$$
\begin{aligned} H_{k}\left(h_{k-1} \partial_{k}^{\prime}\right): H_{k}\left(S_{*}^{\prime}\right) & \rightarrow H_{k}\left(S_{*}\right) \\ z_{k}^{\prime}+B_{k} & \mapsto h_{k-1} \partial_{k}^{\prime} z_{k}^{\prime}+B_{k}=B_{k}\end{aligned}
$$
>   根据函子的性质
>
$$
(f_{0 k}-f_{1 k})_*=(\partial_{k+1} h_{k}+h_{k-1} \partial_{k}^{\prime})_*=0
$$


> [!theorem] 同伦公理：从映射的同伦到链映射的链同伦 （[[rotman2013alto\|rotman2013alto]] Th.4.23）
{ #th-th-homotopyAxiom}

> - 设$f_0,f_1:X\rightarrow Y$是连续映射，且存在同伦$f_{0} \stackrel{h}{\simeq} f_{1}$。连续映射诱导了链群上的同态$f_{0\# },f_{1\#  }:S_*(X)\rightarrow S_*(Y)$。请证明存在链同伦
>   $f_{0\# } \stackrel{h_*}{\simeq} f_{1 \#  }$，且$h_*$在某种意义下是自然的。

> [!proof]
> - 第一步是命题的约化（[[rotman2013alto\|rotman2013alto]] Lm.4.22）。利用作为连续映射的同伦$h$，可以将命题约化为情形$Y=X \times[0,1],f_0(x)=(x,0),f_1(x)=(x,1)$。设$i_{0}(x)=(x,0),i_{1}(x)=(x,1),~\forall x\in X$，$X \xrightarrow{i_{0,1}} X \times I \xrightarrow{h} Y$，根据同伦的定义可得$f_{0,1} = h\circ i_{0,1}$。如果有$H_n(i_0)=H_n(i_1)$，那么利用函子性并且消去$H_n(h)$，立即有$H_n(f_0)=H_n(f_1)$。
>
>   从另一个角度看第一步的约化。 如果已经有
>
>
>
>
$$
i_{1\# }-i_{0\# }=\partial_{k+1} h_{k}+h_{k-1} \partial_{k}
$$
>   那么
>
$$
\begin{aligned} f_{1 \#  }-f_{0 \#  } & =\left(h i_{1}\right)_\#  -\left(h i_{0}\right)_{\#  } \\ & =h_{\#  } \circ\left(i_{1 \#  }-i_{0 \#  }\right) \\ & =h_{\#  }\left(\partial_{k+1} h_{k}+h_{k-1} \partial_{k}\right) \\ & =\partial_{k+1} h_{\#  } h_{k}+h_{\#  } h_{k-1} \partial_{k}\end{aligned}
$$
>   因此$h_\#  h_k$就是要找的链映射之间的同伦。
>
>
>   现在只需要证明存在自然变换\footnote{现在我们将$S_*$视为函子，边界算符和$h_*$是$\mathsf{Top}$与$\mathsf{Comp}$之间的自然变换，这就是定理中的“自然”的含义。自然变换参见：定义\ref{def:natraltrans}}
>   $h_{k}: S_{k}(\cdot) \rightarrow S_{k+1}(\cdot \times {I}), k \in \mathbb{Z}$，满足
>
$$
i_{1\#  }-i_{0 \# }=\partial_{k+1} \circ  h_{k}+h_{k-1} \circ \partial_{k}
$$
>   等价地，只需要证明，对任意$X$满足
>
$$
i_{1 \#  }(X)-i_{0 \# }(X)=\partial_{k+1} (X\times I)\circ  h_{k}(X)+h_{k-1}(X) \circ \partial_{k}(X)
$$
>
>   eq-eq-inclux
>
>
>   且下面的交换图成立。
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=scriptsize]
>   {S_k(X)} && {S_{k+1}(X\times I)} \\
>   \\
>   {S_k(Y)} && {S_{k+1}(Y\times I)}
>   \arrow["{f_\# }"', from=1-1, to=3-1]
>   \arrow["{h_k(X)}", from=1-1, to=1-3]
>   \arrow["{(f\times \mathrm{id}_I)_\#   }"', from=1-3, to=3-3]
>   \arrow["{h_k(Y)}"', from=3-1, to=3-3]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>
>   
> - 先假设$h_k$是自然变换，取$X = \Delta_k,Y=X$，利用$\sigma_{\#}(\mathrm{id}_{\Delta_k})=\sigma\circ \mathrm{id}_{\Delta_k} =\sigma$，再根据交换图可得
>
$$
h_k(X)(\sigma)=(\sigma\times \mathrm{id}_I)_\#  (h_k(\Delta_k)(\mathrm{id}_{\Delta_k}))
$$
>
>  eq-eq-defofhkcom
>
>   即$h_k$完全由它作用在单形然后作用在单形的恒等映射上的方式确定。
> - 再假设已经取好了$h_k$的定义方式$\xi_{k} \in S_{k+1}\left(\Delta_{k} \times I\right) , \xi_{k}=h_{k}\left(\Delta_{k}\right) \mathrm{id}_{\Delta_{k}}$，反过来容易证明$h_k$是一个自然变换，即满足前述交换图(应该重写一下，否则看上去像是循环论证？)
>   $$\begin{align*} & (f \times \mathrm{id}_I)_\# h_k(X)(\sigma) \\ &= (f \times \mathrm{id}_I)_\# (\sigma \times \mathrm{id}_I)_\# \xi_k \\ &= ((f \circ \sigma) \times \mathrm{id}_I)_\# \xi_k \\ &= (f_\#(\sigma) \times \mathrm{id}_I)_\# \xi_k \\ &= h_k(Y)(f_\#(\sigma)) \end{align*}$$
> - 将式\eqref{eq:inclux}中取$X=\Delta_k$并作用在单形$\mathrm{id}_{\Delta_k}$上，有
>
$$
\partial_{k+1}\left(\Delta_{k} \times I\right) h_{k}\left(\Delta_{k}\right) \mathrm{id}_{\Delta_{k}}=i_{1}\left(\Delta_{k}\right)_{\#  } \mathrm{id}_{\Delta_{k}}- i_{0}\left(\Delta_{k}\right)_{\# } \mathrm{id}_{\Delta_{k}}-h_{k-1}\left(\Delta_{k}\right) \partial_{k}\left(\Delta_{k}\right) \mathrm{id}_{\Delta_{k}}
$$
>
>   eq-eq-chaincond
>
>   下图可以帮助我们证明，式\eqref{eq:chaincond}和\eqref{eq:inclux}是等价的。上下(边缘算符和链群同态是交换的)、前后($h_*$是自然变换)、中间的斜切面($i_0$和$i_1$是链映射)都是交换的，只需要将红色的链同伦拉到黑色。下面开始证明黑色的链同伦。
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[column sep=small]
>   &&&& {S_{k-1}(\Delta_k)} \\
>   & {S_k(\Delta_k)} &&&&&& {S_{k-1}(X)} \\
>   &&&& {S_k(X)} \\
>   &&& {S_{k}(\Delta_k\times I)} \\
>   {S_{k+1}(\Delta_k\times I)} &&&&&& {S_k(X\times I)} \\
>   &&& {S_{k+1}(X\times I)}
>   \arrow["{\partial_{k+1}(X\times I)}"{description}, from=6-4, to=5-7]
>   \arrow["{h_k(X)}"{description}, from=3-5, to=6-4]
>   \arrow["{\partial_k(X)}", from=3-5, to=2-8]
>   \arrow["{h_{k-1}(X)}"{description}, from=2-8, to=5-7]
>   \arrow["{i_1(X)_\# -i_0(X)_\# }"{description}, from=3-5, to=5-7]
>   \arrow["{\sigma_\# }"{description}, color={rgb,255:red,51;green,122;blue,255}, from=2-2, to=3-5]
>   \arrow["{h_k(\Delta_k)}"{description}, color={rgb,255:red,214;green,92;blue,92}, from=2-2, to=5-1]
>   \arrow["{(\sigma\times \mathrm{id}_I)_\# }"{description}, color={rgb,255:red,51;green,122;blue,255}, from=5-1, to=6-4]
>   \arrow["{\partial_k(\Delta_k\times I)}"{description}, color={rgb,255:red,214;green,92;blue,92}, from=5-1, to=4-4]
>   \arrow["{(\sigma\times \mathrm{id}_I)_\# }"{description}, color={rgb,255:red,51;green,122;blue,255}, from=4-4, to=5-7]
>   \arrow[color={rgb,255:red,214;green,92;blue,92}, from=2-2, to=4-4]
>   \arrow["{\partial_k(\Delta_k)}"{description}, color={rgb,255:red,214;green,92;blue,92}, from=2-2, to=1-5]
>   \arrow["{\sigma_\# }"{description}, color={rgb,255:red,51;green,122;blue,255}, from=1-5, to=2-8]
>   \arrow["{h_{k-1}(\Delta_k)}"{description}, color={rgb,255:red,214;green,92;blue,92}, from=1-5, to=4-4]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>
>
$$
\begin{aligned} &\partial_{k+1}(X \times I) h_{k}(X) \sigma \\ \stackrel{\text { 前 }}{=}& \partial_{k+1}(X \times I) h_{k}(X) \sigma_{\# } \mathrm{id}_{\Delta_{k}} \\
=&\partial_{k+1}\left(X_{k} \times I\right)\left(\sigma \times \mathrm{id}_I\right)_{\#  }\left(h_{k}\left(\Delta_{k}\right)\left(\mathrm{id}_{\Delta_{k}}\right)\right) \\
=&\left(\sigma \times  \mathrm{id}_{I}\right)_{\#  } \partial_{k+1}\left(\Delta_{k} \times I\right)\left(h_{k}\left(\Delta_{k}\right)\left(\mathrm{id}_{\Delta_{k}}\right)\right) \\
\stackrel{\eqref{eq:chaincond}}{=}&\left(\sigma \times \mathrm{id}_I\right)_{\#  }\left(i_1\left(\Delta_{k}\right)_{\#  } \mathrm{id}_{\Delta_{k}}-i_{b}\left(\Delta_{k}\right)_{\#  } \mathrm{id}_{\Delta_{k}}\right)-h_{k-1}\left(\Delta_{k}\right) \partial_{k}\left(\Delta_{k}\right) \mathrm{id}_{\Delta_{k}}    \\
\stackrel{\eqref{eq:backup}}{=}& (\sigma\times \mathrm{id}_I)_\# \left(i_1(\Delta_k)_\# -i_0(\Delta_k)_\# \right)\mathrm{id}_{\Delta_k}-h_{k-1}(X)\partial_k(X)\sigma
\\ \stackrel{\text { 斜 }}{=}& \left(i_{1}(X)_\#  -i_{0}(X)_\#  \right)  \sigma_{\#  }\mathrm{id}_{\Delta_{k}}-h_{k-1}(X) \partial_{k}(X) \sigma \\ =&\left(i_1(X)_\#  -i_0(X)_\#   -h_{k-1}(X) \partial_{k}(X)\right) \sigma \\\end{aligned}
$$
>   证明过程中已经利用了
>
$$
\begin{aligned} &\left(\sigma \times i d_{I}\right)_{\#  } h_{k-1}(X) \partial_{k}\left(\Delta_{k}\right) \mathrm{i d}_{\Delta_k} \\ \stackrel{\text{后}}{=}& h_{k-1}(X) \sigma_{\#  } \partial_{k}\left(\Delta_{k}\right) \mathrm{id}_{ \Delta_{k}} \\ =&h_{k-1}(X) \partial_{k}(X) \sigma_{\#  } \mathrm{i d}_{\Delta_k} \\ \stackrel{\text{上}}{=}& h_{k-1}(X) \partial_{k}(X) \sigma \\\end{aligned}
$$
>
>   eq-eq-backup
> - 最后，只需要制作一个$\xi_{k} \in S_{k+1}\left(\Delta_{k} \times I\right) , \xi_{k}=h_{k}\left(\Delta_{k}\right) \mathrm{id}_{\Delta_{k}}$使式$\eqref{eq:chaincond}$成立，即
>
$$
\partial_{k+1}\left(\Delta_{k} \times I\right) \xi_{k}=i_1\left(\Delta_{k}\right)_{\#  } \mathrm{i d}_{\Delta_k}-i_{0}\left(\Delta_{k}\right)_{\# } \mathrm{i d}_{\Delta_k}-h_{k-1}\left(\Delta_{k}\right) \partial_{k}\left(\Delta_{k}\right) \mathrm{i d}_{\Delta_k}
$$
>   从$k=0$开始构造，只需要取$\xi_0(1-t,t)=(0,t)\in \Delta_0 \times I$即可，检验如下：取$h_{k-1}=0$，
>   $$\begin{align*} \partial_1(\Delta_0 \times I) \xi_0 &= \xi_0\circ \varepsilon_0 - \xi_0\circ \varepsilon_1 = {i}_1 - {i}_0 \\ &= {i}_1(\Delta_0)_\# \text{id}_{\Delta_0} - {i}_0(\Delta_0)_\# \text{id}_{\Delta_0}\end{align*}$$
>   上式的第二个等号利用了$\varepsilon_0(0)=(0,1),\varepsilon_1(0)=(1,0)$。
>   最后只要证明$k-1\implies k$，设$z= i_1(\Delta_k)-i_0(\Delta_k)-h_{k-1}(\Delta_{k-1}) \partial(\Delta_{k-1})\mathrm{id}_{\Delta_{k-1}}$，则
>
>
>
>
>
>

$$
\begin{aligned}
& \partial_k z\\ &= \partial_k \left( i_1(\Delta_k) - i_0(\Delta_k) - h_{k-1} \partial_k \mathrm{id}_{\Delta_k} \right) \\
&= \partial_k \left( i_1(\Delta_k) - i_0(\Delta_k) - \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id})_\# \left( h_{k-1}(\Delta_{k - 1}) (\mathrm{id}_{\Delta_{k-1}}) \right) \right) \\
&= i_1(\Delta_{k - 1})_\# (\partial_k \mathrm{id}_{\Delta_k}) - i_0(\Delta_{k - 1})_\# (\partial_k \mathrm{id}_{\Delta_k}) - \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id})_\# \partial_k \xi_{k-1} \\
&= i_1(\Delta_{k-1})_\# (\partial_k \mathrm{id}_{\Delta_k}) - i_0(\Delta_{k-1})_\# (\partial_k \mathrm{id}_{\Delta_k}) - \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id})_\# \left( (i_1(\Delta_{k-1})_\# - i_0(\Delta_{k-1})_\#) \mathrm{id}_{\Delta_{k-1}} - h_{k-2} \partial_{k-1} \mathrm{id}_{\Delta_{k-1}} \right) \\
&= \left( \sum_{i=0}^{k-1} (-1)^i i_1(\Delta_{k-1})_\# \varepsilon_i^{k-1} - \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id}) \circ i_1 \right) + (\Sigma - \Sigma) - \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id})_\# h_{k-2} \partial_{k-1} \mathrm{id}_{\Delta_{k-1}} \\
&= \sum_{i=0}^{k-1} (-1)^i (\varepsilon_i^{k-1} \times \mathrm{id})_\# \sum_{j=0}^{k-2} (-1)^j (\varepsilon_j^{k-2} \times \mathrm{id})_\# h_{k-2} (\Delta_{k-2}) (\mathrm{id}_{\Delta_{k-2}}) \\
&= \sum_{i=0}^{k-1} \sum_{j=0}^{k-2} (-1)^{i+j} \left( (\varepsilon_i^{k-1} \circ \varepsilon_j^{k-2}) \times \mathrm{id} \right)_\# \xi_{k-2} \\
&= 0.
\end{aligned}
$$
>
>   其中第二个等号利用了式\eqref{eq:defofhkcom}，第四个等号利用了归纳假设，第六个等号利用了$i_1\circ \varepsilon_i^{k-1} = (\varepsilon_i^{k-1}\times \mathrm{id})\circ i_1$最后一步利用了$\partial^2=0$的证明（[[rotman2013alto\|rotman2013alto]] Th.4.6）中的性质。因此$z$是闭链，由于$X\times I$是凸集，因此$z$也是边缘链，$z=\partial \xi_k$，$\xi_k$满足 式\eqref{eq:chaincond}。
>  



无环(零调)模型，定理\ref{th:acyclicmodel2}。

> [!note]
> - 同伦公理{（[[rotman2013alto\|rotman2013alto]] Th.4.23）}、定理\ref{th:homotopyAxiom}：$f$和$g$同伦(homotopy)$f\simeq g$蕴含$H_n(f)=H_n(g)$，证明过程中引入了链同伦的概念。作为同伦公理的推论，当两个空间同伦时，其同调群是同构的，即$X\simeq Y$蕴含$H_n(X)\cong H_n(Y)$。进而可缩空间的正数阶同调群是平凡的。

> [!definition] 无环(零调)空间
> - 如果$X$的约化同调群满足$\tilde{H}_{i}(X)=0, ~\forall i \geq-1$，则称$X$是**无环**(零调)(acyclic)的。

> [!note]
> - $X$的各个环总是一个边界，各阶边缘链群总是等于闭链群，同调群总是平凡的，不存在“真正的环”，因此可以说$X$是无环的。

作为对定理 \ref{th:homotopyAxiom}的抽象和推广，补充零调模型定理(acyclic model theorem)[[Eilenberg1953acyclic\|Eilenberg1953acyclic]]\footnote{参见香蕉空间：零调模型定理}。
> [!definition] 可表达函子
> - 设 $\mathsf{C}$ 是一个范畴, $F: \mathsf{C} \rightarrow \mathsf{Ab}$ 是一个函子. 选取集合 $\mathcal{M} \subset \mathrm{Ob}(\mathsf{C})$. 对每个**模型**(model) $M \in \mathcal{M}\subset \mathrm{Ob}(\mathsf{C})$, 选取子集 $U_{M} \subset F(M)$, 并记 $U=$ $\left\{U_{M}: M \in \mathcal{M}\right\}$.
>
>   定义函子 $\widetilde{F}^{U}: \mathsf{C} \rightarrow \mathsf{Ab}$
>
> - 在对象层面 $\widetilde{F}^{U}(X)$ 定义为由集合 $G=\left\{(\phi, u):[\phi: M \rightarrow X] \in \mathsf{C}, u \in U_{M}, M \in \mathcal{M}\right\}$ 生成的自由 Abel 群，记为$\widetilde{F}^{U}(X)=\mathbb{Z}^{\oplus G}$。
> - 在态射层面, 有
>
$$
[X \underset{\mathsf{C}}{\stackrel{f}{\longrightarrow}} Y] \mapsto\left[
\widetilde{F}^{U}(X) \underset{\mathsf{Ab}}{\stackrel{\widetilde{F}^{U}(f)}{\longrightarrow}} Y,(\phi, u) \mapsto(f \circ \phi, u)\right]
$$
>
>
>   在函子 $\widetilde{F}^{U}$ 和 $F$ 间, 我们有自然变换 $\pi$ :
>
$$
\widetilde{F}^{U}(X) \xrightarrow{\pi(X)} F(X),(\phi, u) \mapsto F(\phi) u
$$
>
>   称函子 $F$ 是**弱 $U$-可表达的**, 如果存在自然变换 $\tau :F \implies \widetilde{F}^{U}$ 使得 $\pi \circ \tau=\mathrm{id}_{F}$. 若 $\pi$ 还是自然等价, 则称** $F$ 为 $U$ -可表达的**(expressible)。

> [!note]
> - 例如将函子取为$F=S_k:\mathsf{Top}\rightarrow \mathsf{Ab}$，选出$\mathcal{M}=\{M\}$，$M=\Delta_k$，再选出$U_M=\{\mathrm{id}_{\Delta_k}\}\subset F(M)=S_k(\Delta_k)$
>
>   $F$是$U$-可表示的，当且仅当存在模型$\mathcal{M}\subset \mathrm{Ob}(\mathsf{C})$，使得$F(X)$是由$\{F(\phi)(u)|\phi:M\rightarrow X,u \in U_M\subset F(M),M\in \mathcal{M} \}$生成的自由阿贝尔群。
>
>   这里的expressible和representable的关系是啥？

> [!theorem] 零调模型Ia：链映射的制作
> - 假设存在6个从范畴$\mathsf{C}$到$\mathsf{Ab}$的函子$K_{k}, K_{k-1}, K_{k-2}, K_{k}^{\prime}, K_{k-1}^{\prime}, K_{k-2}^{\prime}$，和一些他们之间的自然变换$\partial_{k}, \partial_{k-1}, \partial_{k}^{\prime}, \partial_{k-1}^{\prime}, f_{k-1}, f_{k-2}$满足在代入任意的对象时交换图
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   {K_k} & {K_{k-1}} & {K_{k-2} } \\
>   {K_{k}^\prime} & {K_{k-1}^\prime} & {K_{k-2}^\prime}
>   \arrow["{f_{k-1}}", from=1-2, to=2-2]
>   \arrow["{\partial_{k-1}}", from=1-2, to=1-3]
>   \arrow["{f_{k -2}}", from=1-3, to=2-3]
>   \arrow["{\partial_{k-1}^\prime}", from=2-2, to=2-3]
>   \arrow["{\partial_{k}}", from=1-1, to=1-2]
>   \arrow["{\partial_{k}^\prime}", from=2-1, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>
>   且边缘算符复合两次为零，$\partial_{k-1} \circ \partial_{k}=0, \partial_{k-1}^{\prime} \circ \partial_{k}^{\prime}=0$，$K_{k}$ 是 $U$-可表的, 并且对每个 $M \in \mathcal{M}$, 有正合列
>
$$
K_{k}^{\prime}(M) \stackrel{\partial_{k}^{\prime}(M)}{\longrightarrow} K_{k-1}^{\prime}(M) \xrightarrow{\partial_{k-1}^{\prime}(M)} K_{k-2}^{\prime}(M)
$$
>   那么上述交换图可以补完，即存在自然变换$f_k$，使得下图交换
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}
>   {K_k} & {K_{k-1}} & {K_{k-2} } \\
>   {K_{k}^\prime} & {K_{k-1}^\prime} & {K_{k-2}^\prime}
>   \arrow["{f_{k-1}}", from=1-2, to=2-2]
>   \arrow["{\partial_{k-1}}", from=1-2, to=1-3]
>   \arrow["{f_{k-2}}", from=1-3, to=2-3]
>   \arrow["{\partial_{k-1}^\prime}", from=2-2, to=2-3]
>   \arrow["{\partial_{k}}", from=1-1, to=1-2]
>   \arrow["{\partial_{k}^\prime}", from=2-1, to=2-2]
>   \arrow["{f_k}", dashed, from=1-1, to=2-1]
>   \end{tikzcd}
>   \end{document}
>   ```

> [!proof]
> -
> - 先看必要条件，根据可表示性，可设每个函子取$M$后都是自由阿贝尔群，因此，要构造$f_k$，只要定义好每个生成元的映射方式。
>   \begin{figure}[htbp]
>   \centering
>   \includegraphics[width=0.5\textwidth]{image//2024-01-18-18-07-01.png}
>   \caption{待整理}
>   \label{  }
>   \end{figure}
>   利用交换性$\xi_u$需要满足的条件为$\partial^\prime_k(M)\xi_k=f_{k-1}(M)\partial_k(M)u$，正合列的性质来说明这样的$\xi_u$是存在的。
> - 另外任取一个对象$X$，如果$f_k$是自然变换，那么一定有下面的交换图，因此必须要有$f_k(X)(K_k(\phi)u)=K_k^\prime \xi_u$，$f_k(X)$作用在生成元上的行为完全根据$\xi_u$的选取而确定。
>   \begin{figure}[htbp]
>   \centering
>   \includegraphics[width=0.5\textwidth]{image//2024-01-18-18-08-05.png}
>   \caption{待整理}
>   \label{  }
>   \end{figure}
>   
> - 还要做一些检验来说明这样定义的$f_k$确实是自然变换。假设$\xi_u$满足第一点中的条件，且对任意的$X\in \mathrm{Ob}(\mathsf{C})$，$f_k(X)$由第二点中的方式来定义。需要验证下图是可交换的，只需要证明对生成元是交换的。利用模型将交换性转换到一些已知的交换来证明。
>   \begin{figure}[htbp]
>   \centering
>   \includegraphics[width=0.4\textwidth]{image//2024-01-18-18-15-57.png}
>   \caption{待整理}
>   \label{  }
>   \end{figure}
>
>   
>
>   上述三点已经证明了存在自然变换$f_k$，只要再证明图是交换的。
> - 类似第三点，利用其他图的交换性。

> [!note]
> - 目标：制作自然变换。先从必要条件出发，如果找到了应该是什么样，约化到对模型证明。
>
>   若可表示时也可以 有类似的证明。

> [!theorem] 零调模型Ib：链同伦的制作
{ #th-th-acyclicmodel2}

> - 存在一些从$\mathsf{C}$到$\mathsf{Ab}$的范畴，他们之间的自然变换，以及两个类似链同伦的自然变换$h_{k-1}: K_{k-1} \rightarrow K_{k}^{\prime}, h_{k-2}: K_{k-2} \rightarrow K_{k-1}^{\prime}$满足
>
$$
f_{k-1}=\partial_{k}^{\prime} \circ h_{k-1}+h_{k-2} \circ \partial_{k-1}
$$
>   图解为
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=2.25em]
>   & {K_k} & {K_{k-1}} & {K_{k-2}} \\
>   {K^\prime_{k+1}} & {K_k^\prime} & {K^\prime_{k-1}}
>   \arrow["{\partial_k}", from=1-2, to=1-3]
>   \arrow["{f_k}"', from=1-2, to=2-2]
>   \arrow["{\partial^\prime_{k+1}}", from=2-1, to=2-2]
>   \arrow["{f_{k-1}}"', from=1-3, to=2-3]
>   \arrow["{\partial^\prime_k}", from=2-2, to=2-3]
>   \arrow["{\partial_{k-1}}", from=1-3, to=1-4]
>   \arrow["{h_{k-2}}", from=1-4, to=2-3]
>   \arrow["{h_{k-1}}"', from=1-3, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```
>
>
>   除了链同伦以外的部分是交换图。设边缘算符复合两次为零，$\partial_{k-1} \circ \partial_{k}=0, \partial_{k-1}^{\prime} \circ \partial_{k}^{\prime}=0$，$K_{k}$ 是弱 $U$-可表的, 并且对每个 $M \in \mathcal{M}$, 有正合列
>
$$
K_{k}^{\prime}(M) \stackrel{\partial_{k}^{\prime}(M)}{\longrightarrow} K_{k-1}^{\prime}(M) \xrightarrow{\partial_{k-1}^{\prime}(M)} K_{k-2}^{\prime}(M)
$$
>   那么上述图解可以补完，即存在自然变换$h_k:K_k\rightarrow K^\prime_{k+1}$，使得$f_{k}=\partial_{k+1}^{\prime} \circ h_{k}+h_{k-1} \circ \partial_{k}$，图解为
>
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[sep=2.25em]
>   & {K_k} & {K_{k-1}} & {K_{k-2}} \\
>   {K^\prime_{k+1}} & {K_k^\prime} & {K^\prime_{k-1}}
>   \arrow["{\partial_k}", from=1-2, to=1-3]
>   \arrow["{f_k}"', from=1-2, to=2-2]
>   \arrow["{\partial^\prime_{k+1}}", from=2-1, to=2-2]
>   \arrow["{f_{k-1}}"', from=1-3, to=2-3]
>   \arrow["{\partial^\prime_k}", from=2-2, to=2-3]
>   \arrow["{\partial_{k-1}}", from=1-3, to=1-4]
>   \arrow["{h_{k-2}}"', from=1-4, to=2-3]
>   \arrow["{h_{k-1}}"', from=1-3, to=2-2]
>   \arrow["{h_k}"', dashed, from=1-2, to=2-1]
>   \end{tikzcd}
>   \end{document}
>   ```

> [!proof]
> 

> [!note]
> - 定理\ref{th:homotopyAxiom}可以作为上述定理的推论。

> [!definition] 余核
> - $f:X\rightarrow Y$，称$Y/\mathrm{im} ~f$为$f$的**余核**(cokernel)，记为$\mathrm{coker}~f$。

下面的两个定理给出了第一个同调群和第一同伦群的关系。
> [!theorem] Hurewicz同态
> - 设 $\eta: \Delta^{1} \rightarrow I ,~(1-t) e_{0}+t e_{1} \mapsto t$是同构.存在定义良好的函数
>
$$
\varphi: \pi_{1}\left(X, x_{0}\right) \rightarrow H_{1}(X)
$$
>
$$
[f] \mapsto \operatorname{cls} f\circ  \eta,
$$
>   其中$f: I \rightarrow X$ 是 $X$ 上的以$x_{0}$为基点的闭合路径 。称$\varphi$为**Hurewicz映射**，它是一个群同态。

> [!theorem] Hurewicz{}：基本群的阿贝尔化就是第一同调群 （[[rotman2013alto\|rotman2013alto]] Th.4.29）
> - 若 $X$ 是道路联通的，则 Hurewicz 映射 $\varphi: \pi_{1}\left(X, x_{0}\right) \rightarrow H_{1}(X)$ 是满射，$\ker \varphi=\pi_{1}\left(X, x_{0}\right)^{\prime}$，$\pi_{1}\left(X, x_{0}\right)^{\prime}$是$\pi_{1}\left(X, x_{0}\right)$的对易子子群，因此根据第一同态定理
>
$$
\pi_{1}\left(X, x_{0}\right) / \pi_{1}\left(X, x_{0}\right)^{\prime} \cong H_{1}(X)
$$
> [!note]
> - 同伦闭曲线一定生活在同一个同调类中(称homologous)，即映射是良定义的。反之，在同一个同调类中的曲线(1-链)未必同伦，因而Hurewicz映射不一定是单射，反例可以在拥有非阿贝尔同伦群的拓扑空间，例如8字形中找到。


这是什么[[技巧\|技巧]]？


## 长正合列
长正合列(long exact sequence)是奇异同调函子的另一基本性质。正合列的定义参见定义\ref{def:exactsequence}。

> [!proposition] 正合列的性质{\cite[Ex.5.2
> - {tom2008algebraic}}]\label{prop:exactseqprop}
>   设 $A \xrightarrow{f} B \xrightarrow{g} C \xrightarrow{h} D$是正合列，则 $f$ 是满射当且仅当 $h$ 是单射。

> [!proof]
> - $f$是满射，则$\mathrm{im}~f=B=\mathrm{ker}~g$，因此$g(B)=0$，根据正合性，$\mathrm{ker}~h=\mathrm{im}~ g=0$，因此$h$是单射。逆命题类似。

> [!lemma] 连接同态(Connecting Homomorphisms){\cite[Lm.5.5
> - {rotman2013alto}}]\label{lmdef:conh}
>   设 $0 \rightarrow\left(S_{*}^{\prime}, \partial^{\prime}\right) \stackrel{i}{\rightarrow}\left(S_{*}, \partial\right) \stackrel{p}{\rightarrow}\left(S_{*}^{\prime \prime}, \partial^{\prime \prime}\right) \rightarrow 0$ 是复形的短正合列，则任取 $n$ 存在同态
>
$$
d_{n}: H_{n}\left(S_{*}^{\prime \prime}\right) \rightarrow H_{n-1}\left(S_{*}^{\prime}\right)
$$
>
$$
\text { cls } z_{n}^{\prime \prime} \mapsto \operatorname{cls} i_{n-1}^{-1} \partial_{n} p_{n}^{-1} z_{n}^{\prime \prime}
$$
>
>   eq-eq-conh
>
>
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[column sep=scriptsize]
>   && {S^\prime_n} && {S_n} && {S^{\prime\prime}_n} && 0 \\
>   \\
>   0 && {S^\prime_{n-1}} && {S_{n-1}} && {S^{\prime\prime}_{n-1}}
>   \arrow[color={rgb,255:red,214;green,92;blue,92}, from=3-1, to=3-3]
>   \arrow["i", color={rgb,255:red,214;green,92;blue,92}, from=3-3, to=3-5]
>   \arrow["{\partial^\prime}", from=1-3, to=3-3]
>   \arrow["i", from=1-3, to=1-5]
>   \arrow["\partial"', color={rgb,255:red,214;green,92;blue,92}, from=1-5, to=3-5]
>   \arrow["p", color={rgb,255:red,214;green,92;blue,92}, from=1-5, to=1-7]
>   \arrow["{\partial^{\prime\prime}}", from=1-7, to=3-7]
>   \arrow["p", from=3-5, to=3-7]
>   \arrow[color={rgb,255:red,214;green,92;blue,92}, from=1-7, to=1-9]
>   \end{tikzcd}
>   \end{document}
>   ```

> [!proof]
> - 设$z^{\prime\prime}\in Z_n^{\prime\prime}$，则$\partial z^{\prime\prime}=0$，由于$p$是满射，因此存在$s_n\in S_n$满足$p(s_n)=z^{\prime\prime}$。也可以记为$s_n=p^{-1}(z^{\prime\prime})$，其中的$p^{-1}$表示原像，在这里只有形式的意义。这步称为将$z^{\prime\prime}$提升到$S_n$中。接下来可以将$s_n$推到$S_{n-1}$中，因为$\partial s_n\in S_n$。由于
$$
p\partial s_n=\partial^{\prime \prime}p s_n =\partial^{\prime\prime} z^{\prime\prime} =0
$$
>   因此
$$
\partial s_{n} \in \operatorname{ker} p= \mathrm{im} ~i
$$
>   可设存在$s_{n-1}^\prime\in  S^\prime_{n-1}$，满足$\partial s_{n}=i s_{n-1}^{\prime}$，由于$i$是单射，所以$i^{-1} \partial s_{n}=  s_{n-1}^{\prime}$的写法是有意义的，单射可以在它的像集上取逆。
>
>   现在考虑另一个提升$\sigma_{n}=p^{-1}\left(z^{\prime \prime}\right)$，类似地，有$\partial \sigma_{n}=i \sigma_{n-1}^{\prime}$。由于$p\left(s_{n}\right)=p\left(\sigma_{n}\right)=z^{\prime \prime}$，
>   因此
$$
s_{n}-\sigma_{n} \in \operatorname{ker} p=\operatorname{im}i_{n}
$$
>   存在$x_{n}^{\prime} \in S_{n}^{\prime}$满足
>
$$
s_{n}-\sigma_{n}=i x_{n}^{\prime}
$$
>
>   eq-eq-smsigma
>
>   两边同时作用边缘算子，利用$\partial$和$i$的交换性得到
>   $\partial\left(s_{n}-\sigma_{n}\right)=i \partial^{\prime} x_{n}^{\prime}$
>   进而有$i\left(s_{n-1}^{\prime}-\sigma_{n-1}^{\prime}\right)=i \partial^{\prime} x_{n}^{\prime}$
>   在两侧作用$i^{-1}$可知
>
$$
s_{n-1}^{\prime}-\sigma_{n-1}^{\prime}=\partial^{\prime}x_{n}^{\prime} \in B_{n-1}
$$
>   因此不同的提升方式之间只相差一个边缘链，存在良定义的群同态
>
$$
\begin{array}{c}\varphi_n:Z_{n}^{\prime \prime} \rightarrow S_{n-1}^{\prime} / B_{n-1}^{\prime}=\mathrm{coker} ~\partial^\prime \\ z_{n}^{\prime \prime} \mapsto s_{n-1}^{\prime}+B_{n-1}^{\prime} \end{array}
$$
>   其中 $s_{n-1}^{\prime}=i_{n-1}^{-1} \partial s_{n}$，$ps_{n}=z_{n}^{\prime \prime}$。由于$\partial s_{n-1}^\prime =\partial i^{-1}\partial s_n=0$，因此实际上$s_{n-1}^\prime\in Z_{n-1}^\prime$。
>
>   定义$d_n(z^{\prime \prime}_n+B^{\prime \prime}_n )=\varphi_n( z_{n}^{\prime \prime} )$，为了证明$d_n$是良定义的，只要再证明$\varphi(b_n^{\prime\prime})=\varphi( \partial^{\prime\prime }q_{n+1}^{\prime\prime } )=B^\prime_{n-1}$即可。
>   由于$p$是满射，设$b_n^{\prime\prime }=\partial^{\prime\prime }q_{n+1}^{\prime\prime } =ps_n$，$q_{n+1}^{\prime \prime}=p q_{n+1}$，综合前两式，有
>
$$
p s_{n}=b_{n}^{\prime \prime}=\partial^{\prime \prime} q_{n+1}^{\prime \prime}=\partial^{\prime \prime} p q_{n+1}=p \partial q_{n+1}
$$
>   因此
$$
s_{n}-\partial q_{n+1} \in \operatorname{ker} p=\mathrm{im}~ i
$$
>   可设存在$x^\prime_n\in S_n^\prime$满足$s_{n}-\partial q_{n+1}=i x_{n}^{\prime}$，两边作用边缘算子得到$\partial s_{n}=\partial i x_{n}^{\prime}=i \partial^{\prime} x_{n}^{\prime}$。最后得到
>
$$
s_{n-1}^{\prime}=i^{-1} \partial s_{n}=\partial^{\prime} x_{n}^{\prime} \in B_{n-1}^{\prime}
$$


实际上是routine的diagram chasing，这是同调代数中的一种证明技术，包括在交换图中寻找等价映射复合，并利用单射、满射和双射同态，以及正合列的性质。例子：蛇引理(snake lemma)证明中连接同态的构造、五引理(five lemma)。


> [!note]
> - 上述定理中定义的$d_n$称为**连接同态**。
>
>
>
>   上述定理中关于$\varphi$的部分可以记成，存在正合列
>
$$
\operatorname{ker}(\partial^\prime) \stackrel{ }{\longrightarrow} \operatorname{ker}(\partial) \stackrel{ }{\longrightarrow}  \operatorname{ker}(\partial^{\prime\prime}) \stackrel{\varphi}{\longrightarrow} \operatorname{coker}(\partial^\prime) \longrightarrow \operatorname{coker}(\partial) \longrightarrow \operatorname{coker}(\partial^{\prime\prime})
$$
>   下面补充证明$\mathrm{im}(\operatorname{ker}(\partial^\prime) \rightarrow  \operatorname{ker}(\partial) )=\mathrm{ker}( \operatorname{ker}(\partial) \rightarrow  \operatorname{ker}(\partial^{\prime\prime}) )$，根据正合性，$\mathrm{ker}~p=\mathrm{im}~i$，因此要证明$\mathrm{ker}~p\cap \mathrm{ker}\partial =f \mathrm{ker}~\partial^\prime$只要证明$\mathrm{im}~i\cap \mathrm{ker}\partial =f \mathrm{ker}~\partial^\prime$，设$x\in \mathrm{im}~i\cap \mathrm{ker}\partial$，则有$x= i a$，且$\partial i a=0$，因此$i \partial^\prime a=0$，由于$i$是单射，所以$\partial^\prime a=0$，$x=ia \in i~ \mathrm{ker}~\partial^\prime$。反之，设$y=is^\prime\in i~ \mathrm{ker}~\partial^\prime$，则有$\partial y=\partial i s^\prime =i\partial^\prime s^\prime=0$，因此$\mathrm{im}~i\cap \mathrm{ker}\partial =f \mathrm{ker}~\partial^\prime$。

> [!theorem] 正合三角(Exact Triangle)
> - 设 $0 \rightarrow\left(S_{*}^{\prime}, \partial^{\prime}\right) \stackrel{i}{\rightarrow}\left(S_{*}, \partial\right) \stackrel{p}{\rightarrow}\left(S_{*}^{\prime \prime}, \partial^{\prime \prime}\right) \rightarrow 0$ 是复形的一个正合列，那么存在正合列
>
$$
\cdots \rightarrow H_{n}\left(S_{*}^{\prime}\right) \stackrel{i_{*}}{\rightarrow} H_{n}\left(S_{*}\right) \stackrel{p_{*}}{\rightarrow} H_{n}\left(S_{*}^{\prime \prime}\right) \stackrel{d}{\rightarrow} H_{n-1}\left(S_{*}^{\prime}\right) \stackrel{i_{*}}{\rightarrow} H_{n-1}\left(S_{*}\right) \stackrel{p_{*}}{\rightarrow} H_{n-1}\left(S_{*}^{\prime \prime}\right) \rightarrow \cdots
$$
>   上式可以简记为一个正合三角
>
>   ```tikz
>   \usepackage{amsmath}
>   \usepackage{tikz-cd}
>   \begin{document}
>   \begin{tikzcd}[column sep=tiny,row sep=2.25em]
>   {H(S_*^\prime)} && {H(S_*)} \\
>   & {H(S^{\prime\prime}_*)}
>   \arrow["{i_*}", from=1-1, to=1-3]
>   \arrow["d", from=2-2, to=1-1]
>   \arrow["{p_*}", from=1-3, to=2-2]
>   \end{tikzcd}
>   \end{document}
>   ```

> [!note]
> - 别忘了$i_*=H_n(i)$。
>
>   根据正合列的定义只要证明$\mathrm{ker}~f_{n}=\mathrm{im} ~f_{n-1}$。
>
>   利用性质$p_{*}(z+B)=p z+B^{\prime \prime}$可证。

**连接同态的自然性**是指同调函子可以自然地作用在两条链复形的短正合列上，得到一张含有两个长正合列的交换图{（[[rotman2013alto\|rotman2013alto]] Th.5.7）}，证明过程中两次利用了连接同态的定义式\eqref{eq:conh}。
利用拓扑空间对$(X,A)\in \mathsf{Top}^2$可以定义商复形\footnote{如何证明$S_n(A)\subset S_n(X)$？从单形到$A$的映射一定是从单形到$X$的映射，因此两个自由阿贝尔群的基底存在包含关系，进而，群之间存在包含关系。} $S_{*}(X) / S_{*}(A)$
$$
\cdots \longrightarrow \frac{S_{n+1}(X)}{S_{n+1}(A)} \stackrel{\bar{\partial}_{n+1}}{\longrightarrow} \frac{S_{n}(X)}{S_{n}(A)} \stackrel{\bar{\partial}_{n}}{\longrightarrow} \frac{S_{n-1}(X)}{S_{n-1}(A)} \longrightarrow \cdots
$$
商复形的同调群非常重要，因此有下面的定义。
> [!definition] 相对同调群(Relative Homology Group)
> - 设 $A$ 是 $X$的子空间，**第$n$相对同调群** $H_{n}(X, A)$ 定义为
$$
H_{n}\left(S_{*}(X) / S_{*}(A)\right)
$$
>   **模$A$第$n$相对闭链群**定义为
$$
Z_{n}(X, A)=\left\{\gamma \in S_{n}(X): \partial_{n} \gamma \in S_{n-1}(A)\right\}
$$
>
>   **模$A$第$n$相对边缘链群**定义为
$$
\begin{aligned} B_{n}(X, A) & =\left\{\gamma \in S_{n}(X): \gamma-\gamma^{\prime} \in B_{n}(X) \text { 存在某个 } \gamma^{\prime} \in S_{n}(A)\right\} \\ & =B_{n}(X)+S_{n}(A)\end{aligned}
$$
>
>   $H_{n}(X, A) \cong Z_{n}(X, A) / B_{n}(X, A)$引出了第$n$相对同调群的一个等价定义。

> [!note]
> - 此前定义的同调群$H_n(X)=H_n(X,\emptyset)$可以称为**绝对同调群**。

\begin{figure}[htbp]
 \centering
 \includegraphics[width=0.54\textwidth]{image//2024-01-08-10-33-49.png}
 \caption{ $\sigma\in Z_1(X,A)$但不属于$Z_1(X)$；$\sigma_1+\sigma_2\in B_1(X,A)$但不属于$B_1(X)$ }
\end{figure}

一步到位和将同调函子拆成两步的观点是相同的，即$H_{n}\left(S_{*}(A)\right)$ 和$H_{n}\left(S_{*}(X)\right)$  实际上就是$H_{n}(A)$ 和$H_{n}(X)$。
设$A\subset X$，则在$\mathsf{Top}^2$中有
$$
(A, \varnothing) \stackrel{i}{\hookrightarrow}(X, \varnothing) \stackrel{j}{\hookrightarrow}(X, A)
$$
故存在短正合列
$$
0 \rightarrow S_{*}(A) \rightarrow S_{*}(X) \rightarrow S_{*}(X) / S_{*}(A) := S_*(X ,A)\rightarrow 0
$$
eq-eq-relaexact

将连接同态(定义\ref{lmdef:conh})应用到\eqref{eq:relaexact}上可得拓扑空间对$(X,A)$的长正合列
$$
\cdots \rightarrow H_{n}(A) \rightarrow H_{n}(X) \rightarrow H_{n}(X, A) \stackrel{d}{\rightarrow} H_{n-1}(A) \rightarrow \cdots
$$
eq-eq-longexact_2

 
类似的可以利用连接同态的自然性得到长正合列的交换图。

设三元组$\left(X, A, A^{\prime}\right)$在$\mathsf{Top}^2$中有
$$
\left(A, A^{\prime}\right) \hookrightarrow\left(X, A^{\prime}\right) \hookrightarrow(X, A)
$$
因此有短正合列
$$
0 \rightarrow S_{*}(A) / S_{*}\left(A^{\prime}\right) \rightarrow S_{*}(X) / S_{*}\left(A^{\prime}\right) \rightarrow S_{*}(X) / S_{*}(A) \rightarrow 0
$$
将连接同态(定义\ref{lmdef:conh})应用到上式可得长正合列{（[[rotman2013alto\|rotman2013alto]] Th.5.9）}
$$
\cdots \rightarrow H_{n}\left(A, A^{\prime}\right) \rightarrow H_{n}\left(X, A^{\prime}\right) \rightarrow H_{n}(X, A) \stackrel{d}{\rightarrow} H_{n-1}\left(A, A^{\prime}\right) \rightarrow \cdots
$$
类似地，可以利用连接同态的自然性得到长正合列的交换图{（[[rotman2013alto\|rotman2013alto]] Th.5.9）}。

利用二元组的长正合列得到三元组的长正合列待证。

> [!theorem] Theorem
{ #th-th-relativeh00}

> - 设$X$是道路联通的拓扑空间，$A$是非空子集，那么$H_0(X,A)=0$

> [!proof]
> - 只要证$Z_0(X,A)=B_0(X,A)$，只要证$S_0(X)=B_0(X)+S_0(A)$。设$x \in S_0(X),a \in S_0(A)$，则由于道路连通性，存在道路$s:\Delta_1\rightarrow X$连接了$x(e_0)$与$a(e_0)$，即$\partial_1 s=x-a$，因此$x\in B_0(X)+S_0(A)$。反之显然有$B_0(X)+S_0(A) \subset S_0(X)$。

> [!note]
> - 注意当$A$是空集时，$H_0(X)=\mathbb{Z}$

> [!theorem] Theorem
> - 对拓扑空间$X$，$x_0\in X$，任取$n\geqslant 1$有$H_{n}\left(X, x_{0}\right) \cong H_{n}(X)$

> [!proof]
> - 将式\eqref{eq:longexact_2}中的$A$令为$\{x_0\}$，可得长正合列
>
$$
\cdots \rightarrow H_{n}\left(\left\{x_{0}\right\}\right) \rightarrow H_{n}(X) \rightarrow H_{n}\left(X, x_{0}\right) \rightarrow H_{n-1}\left(\left\{x_{0}\right\}\right) \rightarrow \cdots
$$
>   根据单点集的同调群以及正合列的性质可知，当$n\geqslant 2$时，有
>
$$
0=H_n(\{x_0\})\rightarrow H_{n}(X) \cong H_{n}\left(X, x_{0}\right) \rightarrow H_{n-1}(\{x_0\})
$$
>
>
>   当$n=1$时，考虑正合列
>
$$
H_{1}\left(\left\{x_{0}\right\}\right) \longrightarrow H_{1}(X) \xrightarrow{g} H_{1}\left(X, x_{0}\right) \xrightarrow{\varphi} H_{0}\left(\left\{x_{0}\right\}\right) \xrightarrow{h} H_{0}(X) \xrightarrow{k} H_{0}\left(X, x_{0}\right) \rightarrow 0
$$
>   由正合列的性质可知，$g$是单射。
>   根据命题\ref{prop:exactseqprop}可知，$g$是满射等价于$h$是单射。只要证$h$是单射，即$\mathrm{ker}h=0$，若$h\ne 0$，即$\mathrm{ker}\ne \mathbb{Z}$，则有$\mathrm{ker}\ne 0$，反证，若同时有$\mathrm{ker}h\ne 0$且$\mathrm{ker}h \ne \mathbb{Z}$，则由于$\mathbb{Z}$的子群一定是无限群，根据第一同构定理，非平凡的有限群$\mathbb{Z}/\mathrm{ker}h$同构于$H_0(X)$，与$H_0(X)$是自由阿贝尔群矛盾。只要证$h\ne 0$，根据正合列的性质$\mathrm{im} h=\mathrm{ker} k$可知，$\mathrm{ker} k\ne 0$蕴含$\mathrm{im}h\ne 0$蕴含$h\ne 0$。包含映射$k$诱导的映射满足
>
$$
\begin{aligned}S_{0}(x) / B_{0}(x) & \xrightarrow{k_{*}} S_{0}(x) / B_{0}(x)+S_{0}\left(x_{0}\right) \\ \gamma+B_{0}(x) & \mapsto \gamma+B_{0}(x)+S_{0}\left(x_{0}\right) \\\end{aligned}
$$
>   因此
>
$$
\begin{aligned} \text { ker } k & =\left\{\gamma+B_{0}(x) \mid \gamma+B_{0}(x)+S_{0}\left(x_{0}\right)=B_{0}(x)+S_{0}\left(x_{0}\right)\right\} \\ & =\left\{\gamma+B_{0}(x) \mid \gamma \in B_{0}(x)+S_{0}\left(x_{0}\right)\right\} \\ & =\frac{B_{0}(x)+S\left(x_{0}\right)}{B_{0}(x)}\end{aligned}
$$
>   当$\sum m_x =0$时，
>   $\sum m_x x+x_0 \in B_0(X)+S_0(x_0)$但不属于$B_0(X)$，因此
>   $B_{0}(x) \varsubsetneqq B_{0}(x)+S_{0}\left(x_{0}\right)$，$\mathrm{ker}k\ne 0$。

\begin{trick}
    自由阿贝尔群都是无挠群，因此不能含有非平凡的有限子群。
\end{trick}
> [!note]
> - 根据上述命题，当$n>0$时，$H_n$可以视为定义在$\mathsf{Top}_*$的函子。根据定理\ref{th:relativeh00}，以及公式{（[[tom2008algebraic\|tom2008algebraic]] Th.5.13）}
$$
H_{n}(X, A) \cong \sum_{\lambda} H_{n}\left(X_{\lambda}, A \cap X_{\lambda}\right)
$$
>   当$n=0$时，$H_0(X,x_0)$是比$H_0(X)$秩少1的自由阿贝尔群，当$r$有限时，$H_0(X,x_0)\oplus \mathbb{Z} \cong H_0(X)$。

> [!definition] 增广复形和约化同调群 (Augmented Singular Complex and Reduced Homology Group)
> - 设 $\left(S_{*}(X), \partial\right)$是空间 $X$的奇异复形. 定义 $\tilde{S}_{-1}(X)$ 是以$g$为生成元的无限循环群，定义 $\tilde{\partial}_{0}: S_{0}(X) \rightarrow \tilde{S}_{-1}(X)$ 满足 $\sum m_{x} x \mapsto\left(\sum m_{x}\right)g$. 定义关于$X$的**增广复形**为
>
$$
\tilde{S}_{*}(X): \quad \cdots \rightarrow S_{2}(X) \stackrel{\partial_{2}}{\rightarrow} S_{1}(X) \stackrel{\partial_{1}}{\rightarrow} S_{0}(X) \stackrel{\tilde{\partial}_{0}}{\rightarrow} \tilde{S}_{-1}(X) \cong  \mathbb{Z}\rightarrow 0 .
$$
>
>   定义**约化的同调群**为
$$
\tilde{H}_{n}(X)=H_{n}\left(\tilde{S}_{*}(X), \partial\right)
$$
任取$n\geqslant 0$。

> [!note]
> - 与原来的定义
>
$$
{S}_{*}(X): \quad \cdots \rightarrow S_{2}(X) \stackrel{\partial_{2}}{\rightarrow} S_{1}(X) \stackrel{\partial_{1}}{\rightarrow} S_{0}(X) \stackrel{ {\partial}_{0}}{\rightarrow} 0 .
$$
>   相比，增广复形$\tilde{S}_{*}(X)$在链复形的末尾添加了一个$\mathbb{Z}$和类似指数映射(index map)的$\tilde{\partial}_{0}$。因此有
>
$$
\tilde{H}_{n}(X)=H_{n}\left(X \right),~~\text{任取}n>0
$$
>   增广的复形仍然满足$\partial_1\tilde{\partial}_0=0$。如果将空集视为标准$-1$单形，奇异单形就是从空集到$X$的包含映射$i:\varnothing \rightarrow X$，$\tilde{S}_{-1}$是$i$生成的链群，即$\mathbb{Z}$，这一定义是合理的。

> [!proposition] {\cite[Ex.5.19
> - {rotman2013alto}}]
>   If $A \subset X$, then there is an exact sequence
>
$$
\cdots \rightarrow \tilde{H}_{n}(A) \rightarrow \tilde{H}_{n}(X) \rightarrow H_{n}(X, A) \rightarrow \tilde{H}_{n-1}(A) \rightarrow \cdots,
$$
>   which ends
>
$$
\cdots \rightarrow \tilde{H}_{0}(A) \rightarrow \tilde{H}_{0}(X) \rightarrow H_{0}(X, A) \rightarrow 0 .
$$
>   $\left(\operatorname{Hint}: \widetilde{S}_{*}(X) / \widetilde{S}_{*}(A)=S_{*}(X) / S_{*}(A).\right)$

> [!proof]
> - 先证明增广的复形的短正合列
>
$$
0 \longrightarrow \tilde{S}_{*}(A) \xrightarrow{i} \tilde{S}_{*}(X) \xrightarrow{p} \frac{\tilde{S}_{*}(X)}{\tilde{S}_{*}(A)}\rightarrow 0
$$
>   利用提示，有
>
$$
0 \longrightarrow \tilde{S}_{*}(A) \xrightarrow{i} \tilde{S}_{*}(X) \xrightarrow{p} \frac{ {S}_{*}(X)}{ {S}_{*}(A)}\rightarrow 0
$$
>   连接同态给出长正合列。
>
>   具体待补充。

## 重心细分和切除 Subdivion and Excision
同调群的最后一个基本性质：切除。
> [!theorem] 切除定理
> - Excision I. Assume that $U \subset A \subset X$ are subspaces with $\bar{U} \subset A^{\circ}$. Then the inclusion $i:(X-U, A-U) \hookrightarrow(X, A)$ induces isomorphisms
>   for all $n$
>
>   Excision II. Let $X_{1}$ and $X_{2}$ be subspace's of $X$ with $X=X_{1}^{\circ} \cup X_{2}^{\circ}$. Then the inclusion $j:\left(X_{1}, X_{1} \cap X_{2}\right) \hookrightarrow\left(X_{1} \cup X_{2}, X_{2}\right)=\left(X, X_{2}\right)$ induces isomorphisms
>
$$
j_{*}: H_{n}\left(X_{1}, X_{1} \cap X_{2}\right)\rightarrow H_{n}\left(X, X_{2}\right)
$$
>   for all $n$.

> [!lemma] Lm. 6.11[[rotman2013alto\|rotman2013alto]]
>   Let $X_{1}$ and $X_{2}$ be subspaces of $X$. If the inclusion $S_{*}\left(X_{1}\right)+$ $S_{*}\left(X_{2}\right) \hookrightarrow S_{*}(X)$ induces isomorphisms in homology, then excision II. holds for the subspaces $X_{1}$ and $X_{2}$ of $X$.

# 松散的内容
[齐震宇:數學—與數量和形狀有關的現象背後的道理_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV17v4y1G78F/?spm_id_from=trigger_reload&vd_source=ad3886ca78874e44b7db8614ac0fe2eb)

了解现象背后的道理，给出证明，为什么这些结论是对的。

- [general topology - Decomposing the sphere as a product - Mathematics Stack Exchange](https://math.stackexchange.com/questions/77175/decomposing-the-sphere-as-a-product)
- [algebraic topology - The fundamental group of a product is the product of the fundamental groups of the factors - Mathematics Stack Exchange](https://math.stackexchange.com/questions/291311/the-fundamental-group-of-a-product-is-the-product-of-the-fundamental-groups-of-t)
- [at.algebraic topology - The 0th homology of a path-connected space - MathOverflow](https://mathoverflow.net/questions/41299/the-0th-homology-of-a-path-connected-space)
- 